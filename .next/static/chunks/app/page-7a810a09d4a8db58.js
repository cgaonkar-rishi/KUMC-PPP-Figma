(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{93807:function(e,s,a){Promise.resolve().then(a.bind(a,47218))},47218:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return se}});var t=a(57437),i=a(2265),r=a(38220),l=a(79862),n=a(95252),d=a(48736),c=a(22135),o=a(40875);function m(e){let{currentPage:s,onNavigate:a,isCollapsed:m}=e,[x,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),g=[{id:"studies",label:"Studies",icon:r.Z},{id:"participants",label:"Participants",icon:l.Z},{id:"payments",label:"Payments",icon:n.Z,hasSubmenu:!0},{id:"reports",label:"Reports",icon:d.Z,hasSubmenu:!0}];return(0,t.jsxs)("div",{className:"bg-ku-blue text-white transition-all duration-300 ".concat(m?"w-20":"w-64"," flex flex-col"),children:[(0,t.jsx)("nav",{className:"flex-1 p-4 overflow-y-auto",children:(0,t.jsx)("ul",{className:"space-y-2",children:g.map(e=>{let i=e.icon,r=s===e.id||s.startsWith(e.id+"-");return e.hasSubmenu&&"payments"===e.id?(0,t.jsxs)("li",{children:[(0,t.jsxs)("button",{onClick:()=>{m?a(e.id):h(!p)},className:"w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg transition-colors ".concat(r?"bg-white text-ku-blue shadow-lg":"hover:bg-ku-blue-dark/70"),title:m?e.label:"",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i,{size:20}),!m&&(0,t.jsx)("span",{children:e.label})]}),!m&&(p?(0,t.jsx)(c.Z,{size:16}):(0,t.jsx)(o.Z,{size:16}))]}),!m&&p&&(0,t.jsxs)("ul",{className:"mt-2 ml-4 space-y-1",children:[(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:()=>a("payments"),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat("payments"===s?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"),children:"Payment Requests"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:()=>a("payments-wizard"),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat("payments-wizard"===s?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"),children:"Create Payment Request"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:()=>a("completed-payments"),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat("completed-payments"===s?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"),children:"Completed Payments"})})]})]},e.id):e.hasSubmenu&&"reports"===e.id?(0,t.jsxs)("li",{children:[(0,t.jsxs)("button",{onClick:()=>{m?a(e.id):u(!x)},className:"w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg transition-colors ".concat(r?"bg-white text-ku-blue shadow-lg":"hover:bg-ku-blue-dark/70"),title:m?e.label:"",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(i,{size:20}),!m&&(0,t.jsx)("span",{children:e.label})]}),!m&&(x?(0,t.jsx)(c.Z,{size:16}):(0,t.jsx)(o.Z,{size:16}))]}),!m&&x&&(0,t.jsxs)("ul",{className:"mt-2 ml-4 space-y-1",children:[(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:()=>a("reports-financial"),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat(s.startsWith("reports-financial")?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"),children:"Financial Reporting"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:()=>a("reports-1099"),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat("reports-1099"===s?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"),children:"1099 Tax Report"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:()=>a("reports-reconciliation"),className:"w-full text-left px-3 py-2 rounded-lg text-sm transition-colors ".concat("reports-reconciliation"===s?"bg-ku-blue-dark/50":"hover:bg-ku-blue-dark/30"),children:"Reconciliation"})})]})]},e.id):(0,t.jsx)("li",{children:(0,t.jsxs)("button",{onClick:()=>a(e.id),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ".concat(r?"bg-white text-ku-blue shadow-lg":"hover:bg-ku-blue-dark/70"),title:m?e.label:"",children:[(0,t.jsx)(i,{size:20}),!m&&(0,t.jsx)("span",{children:e.label})]})},e.id)})})}),(0,t.jsx)("div",{className:"p-4 border-t border-blue-400",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 ".concat(m?"justify-center":""),children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-400 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{children:"A"})}),!m&&(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm",children:"Admin User"}),(0,t.jsx)("p",{className:"text-xs text-blue-200",children:"admin@hospital.com"})]})]})})]})}var x=a(10407),u=a(92451),p=a(67815),h=a(25466),g=a(94766),y=a(35685),b=a(98728),j=a(98420),N=a(88906),v=a(92369),f=a(47692);function w(e){let{onNavigate:s,isSidebarCollapsed:a,onToggleSidebar:r}=e,[l,d]=(0,i.useState)(!1),[c,o]=(0,i.useState)(!1),[m,w]=(0,i.useState)(!1),C=(0,i.useRef)(null),S=(0,i.useRef)(null),k=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=e=>{C.current&&!C.current.contains(e.target)&&d(!1),S.current&&!S.current.contains(e.target)&&o(!1),k.current&&!k.current.contains(e.target)&&w(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,i.useEffect)(()=>{let e=e=>{"Escape"===e.key&&(d(!1),o(!1),w(!1))};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[]);let A=[{id:1,title:"New participant enrolled",message:"John Smith has been enrolled in CHS-2026-001",time:"5 min ago",type:"success",read:!1},{id:2,title:"Visit reminder",message:"Sarah Johnson has a scheduled visit at 10:30 AM",time:"15 min ago",type:"info",read:!1},{id:3,title:"Study milestone reached",message:"DPT-2025-019 has reached 200 participants",time:"1 hour ago",type:"success",read:!1},{id:4,title:"Document pending review",message:"Protocol amendment requires your approval",time:"2 hours ago",type:"warning",read:!0},{id:5,title:"Visit completed",message:"Michael Brown completed follow-up visit",time:"3 hours ago",type:"info",read:!0}],M=A.filter(e=>!e.read).length;return(0,t.jsxs)("header",{className:"bg-white border-b border-gray-200 flex items-center h-16",children:[(0,t.jsxs)("div",{className:"h-16 bg-white flex items-center justify-between px-6 border-r border-gray-200 transition-all duration-300 ".concat(a?"w-20":"w-64"),children:[!a&&(0,t.jsx)("div",{className:"flex-1 mr-2",children:(0,t.jsxs)("svg",{viewBox:"0 0 200 40",className:"w-full h-10",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("text",{x:"10",y:"28",fontFamily:"Arial, sans-serif",fontSize:"24",fontWeight:"bold",fill:"#0051BA",children:"KUMC"}),(0,t.jsx)("text",{x:"10",y:"38",fontFamily:"Arial, sans-serif",fontSize:"8",fill:"#0051BA",children:"Medical Center"})]})}),a&&(0,t.jsx)("div",{className:"w-12 h-12 flex items-center justify-center",children:(0,t.jsx)("svg",{viewBox:"0 0 40 40",className:"w-full h-full",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("text",{x:"5",y:"28",fontFamily:"Arial, sans-serif",fontSize:"20",fontWeight:"bold",fill:"#0051BA",children:"K"})})}),(0,t.jsx)("button",{onClick:r,"aria-label":a?"Expand sidebar":"Collapse sidebar",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:a?(0,t.jsx)(x.Z,{size:20,className:"text-gray-700","aria-hidden":"true"}):(0,t.jsx)(u.Z,{size:20,className:"text-gray-700","aria-hidden":"true"})})]}),(0,t.jsxs)("div",{className:"flex-1 flex items-center justify-between px-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-ku-blue to-ku-blue-dark rounded-full flex items-center justify-center",children:(0,t.jsx)(p.Z,{size:24,className:"text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Welcome Back"}),(0,t.jsx)("h1",{className:"text-2xl text-ku-blue font-semibold tracking-tight",children:"Participant Payment Portal"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{onClick:()=>null==s?void 0:s("dashboard"),"aria-label":"Go to dashboard",className:"p-2 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-all duration-200 hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:(0,t.jsx)(h.Z,{size:20,className:"text-gray-700 hover:text-blue-600 transition-colors","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"relative",ref:C,children:[(0,t.jsxs)("button",{onClick:()=>d(!l),"aria-label":"Notifications".concat(M>0?", ".concat(M," unread"):""),"aria-expanded":l,"aria-haspopup":"true",className:"relative p-2 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-all duration-200 hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:[(0,t.jsx)(g.Z,{size:20,className:"text-gray-700 hover:text-blue-600 transition-colors","aria-hidden":"true"}),M>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("span",{className:"sr-only",children:[M," unread notifications"]}),(0,t.jsx)("span",{className:"absolute top-1 right-1 w-5 h-5 bg-red-500 text-white text-xs rounded-full flex items-center justify-center","aria-hidden":"true",children:M})]})]}),l&&(0,t.jsxs)("div",{role:"region","aria-label":"Notifications panel",className:"absolute right-0 mt-2 w-96 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200 flex items-center justify-between",children:[(0,t.jsx)("h3",{children:"Notifications"}),(0,t.jsx)("button",{className:"text-sm text-ku-blue hover:text-ku-blue-dark",children:"Mark all as read"})]}),(0,t.jsx)("div",{className:"max-h-96 overflow-y-auto",children:A.map(e=>(0,t.jsx)("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50 cursor-pointer ".concat(e.read?"":"bg-blue-50"),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-2 h-2 rounded-full mt-2 ".concat("success"===e.type?"bg-green-500":"warning"===e.type?"bg-orange-500":"bg-ku-blue")}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm ".concat(e.read?"":"font-medium"),children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.time})]})]})},e.id))}),(0,t.jsx)("div",{className:"p-3 text-center border-t border-gray-200",children:(0,t.jsx)("button",{className:"text-sm text-ku-blue hover:text-ku-blue-dark",children:"View all notifications"})})]})]}),(0,t.jsx)("button",{onClick:()=>null==s?void 0:s("help"),"aria-label":"Help and support",className:"p-2 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-all duration-200 hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:(0,t.jsx)(y.Z,{size:20,className:"text-gray-700 hover:text-blue-600 transition-colors","aria-hidden":"true"})}),(0,t.jsxs)("div",{className:"relative",ref:k,children:[(0,t.jsx)("button",{onClick:()=>w(!m),"aria-label":"Settings menu","aria-expanded":m,"aria-haspopup":"true",className:"p-2 hover:bg-blue-50 hover:text-blue-600 rounded-lg transition-all duration-200 hover:shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:(0,t.jsx)(b.Z,{size:20,className:"text-gray-700 hover:text-blue-600 transition-colors","aria-hidden":"true"})}),m&&(0,t.jsxs)("div",{role:"menu","aria-label":"Settings menu",className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,t.jsx)("h3",{id:"settings-menu-title",children:"Settings"})}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)("button",{onClick:()=>{null==s||s("organizations"),w(!1)},role:"menuitem",className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 text-gray-700 focus:outline-none focus:bg-gray-100",children:[(0,t.jsx)(j.Z,{size:18,"aria-hidden":"true"}),(0,t.jsx)("span",{children:"Organizations & Locations"})]}),(0,t.jsxs)("button",{onClick:()=>{null==s||s("funding"),w(!1)},role:"menuitem",className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 text-gray-700 focus:outline-none focus:bg-gray-100",children:[(0,t.jsx)(n.Z,{size:18,"aria-hidden":"true"}),(0,t.jsx)("span",{children:"Funding and Grants"})]}),(0,t.jsxs)("button",{onClick:()=>{null==s||s("security"),w(!1)},role:"menuitem",className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 text-gray-700 focus:outline-none focus:bg-gray-100",children:[(0,t.jsx)(N.Z,{size:18,"aria-hidden":"true"}),(0,t.jsx)("span",{children:"Roles and Permissions"})]})]})]})]}),(0,t.jsxs)("div",{className:"relative",ref:S,children:[(0,t.jsx)("button",{onClick:()=>o(!c),"aria-label":"User profile menu","aria-expanded":c,"aria-haspopup":"true",className:"p-2 hover:bg-gray-100 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-ku-blue to-ku-blue-dark rounded-full flex items-center justify-center",children:(0,t.jsx)(v.Z,{size:20,className:"text-white","aria-hidden":"true"})})}),c&&(0,t.jsxs)("div",{role:"menu","aria-label":"User profile menu",className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[(0,t.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-ku-blue to-ku-blue-dark rounded-full flex items-center justify-center",children:(0,t.jsx)(v.Z,{size:24,className:"text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Admin User"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"admin@ppp.com"})]})]})}),(0,t.jsxs)("div",{className:"py-2",children:[(0,t.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 text-gray-700",children:[(0,t.jsx)(p.Z,{size:18}),(0,t.jsx)("span",{children:"My Profile"})]}),(0,t.jsxs)("button",{className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 text-gray-700",children:[(0,t.jsx)(b.Z,{size:18}),(0,t.jsx)("span",{children:"Settings"})]}),(0,t.jsxs)("button",{onClick:()=>null==s?void 0:s("sso"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 text-gray-700",children:[(0,t.jsx)(N.Z,{size:18}),(0,t.jsx)("span",{children:"View SSO Login"})]})]}),(0,t.jsx)("div",{className:"border-t border-gray-200 py-2",children:(0,t.jsxs)("button",{onClick:()=>null==s?void 0:s("sso"),className:"w-full px-4 py-3 text-left hover:bg-gray-50 flex items-center gap-3 text-red-600",children:[(0,t.jsx)(f.Z,{size:18}),(0,t.jsx)("span",{children:"Log out"})]})})]})]}),(0,t.jsxs)("div",{className:"text-right ml-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Welcome back,"}),(0,t.jsx)("p",{className:"font-medium",children:"Admin User"})]})]})]})]})}var C=a(95805),S=a(31047),k=a(42488),A=a(70525),M=a(49322),P=a(14438),z=a(47625),D=a(77031),R=a(56940),L=a(97059),U=a(62994),T=a(8147),K=a(31699),I=a(75169),Z=a(3574),F=a(20407);function V(){let[e,s]=(0,i.useState)("week"),a=[{label:"Active Studies",value:"24",change:"+12%",trend:"up",icon:r.Z,color:"blue"},{label:"Total Participants",value:"1,845",change:"+8%",trend:"up",icon:C.Z,color:"green"},{label:"Visits Today",value:"89",change:"-5%",trend:"down",icon:S.Z,color:"orange"},{label:"Active Enrollments",value:"156",change:"+15%",trend:"up",icon:k.Z,color:"purple"}],l=[{name:"Travel",value:3200,color:"#3b82f6"},{name:"Stipend",value:2800,color:"#10b981"},{name:"Parking",value:850,color:"#f59e0b"},{name:"Meal",value:650,color:"#8b5cf6"},{name:"Other",value:450,color:"#6b7280"}],n=[{name:"Travel",value:12500,color:"#3b82f6"},{name:"Stipend",value:15200,color:"#10b981"},{name:"Parking",value:3400,color:"#f59e0b"},{name:"Meal",value:2100,color:"#8b5cf6"},{name:"Other",value:1800,color:"#6b7280"}],d=[{name:"Travel",value:38e3,color:"#3b82f6"},{name:"Stipend",value:45e3,color:"#10b981"},{name:"Parking",value:9800,color:"#f59e0b"},{name:"Meal",value:6200,color:"#8b5cf6"},{name:"Other",value:5e3,color:"#6b7280"}],c=()=>{switch(e){case"week":default:return l;case"month":return n;case"quarter":return d}},o={blue:"bg-blue-500",green:"bg-green-500",orange:"bg-orange-500",purple:"bg-purple-500"};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg shadow p-6 border border-blue-200",children:[(0,t.jsx)("h3",{className:"text-lg mb-3",children:"Toast Notifications Demo"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Click the buttons below to see different notification types:"}),(0,t.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>P.A.success("Operation completed successfully!",{description:"Your changes have been saved."}),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:"Success Message"}),(0,t.jsx)("button",{onClick:()=>P.A.error("Operation failed",{description:"Please check all required fields and try again."}),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Error Message"}),(0,t.jsx)("button",{onClick:()=>P.A.info("Important information",{description:"You have 3 pending payment requests to review."}),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Info Message"}),(0,t.jsx)("button",{onClick:()=>P.A.warning("Action required",{description:"Please review the conflicting schedules."}),className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors",children:"Warning Message"})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-end",children:(0,t.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{children:"Last 7 days"}),(0,t.jsx)("option",{children:"Last 30 days"}),(0,t.jsx)("option",{children:"Last 3 months"})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"mb-4",children:"Recent Payments"}),(0,t.jsx)(z.h,{width:"100%",height:300,children:(0,t.jsxs)(D.v,{data:[{date:"Jan 1",amount:1250},{date:"Jan 2",amount:2100},{date:"Jan 3",amount:1875},{date:"Jan 4",amount:2450},{date:"Jan 5",amount:1950}],children:[(0,t.jsx)(R.q,{strokeDasharray:"3 3"}),(0,t.jsx)(L.K,{dataKey:"date"}),(0,t.jsx)(U.B,{}),(0,t.jsx)(T.u,{formatter:e=>"$".concat(e)}),(0,t.jsx)(K.$,{dataKey:"amount",fill:"#10b981"})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h2",{children:"Payments by Type"}),(0,t.jsxs)("select",{value:e,onChange:e=>s(e.target.value),className:"px-3 py-1.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,t.jsx)("option",{value:"week",children:"This Week"}),(0,t.jsx)("option",{value:"month",children:"This Month"}),(0,t.jsx)("option",{value:"quarter",children:"This Quarter"})]})]}),(0,t.jsx)(z.h,{width:"100%",height:300,children:(0,t.jsxs)(I.u,{children:[(0,t.jsx)(Z.b,{data:c(),cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:s,percent:a}=e;return"".concat(s," ").concat((100*a).toFixed(0),"%")},outerRadius:100,fill:"#8884d8",dataKey:"value",children:c().map((e,s)=>(0,t.jsx)(F.b,{fill:e.color},"cell-".concat(s)))}),(0,t.jsx)(T.u,{formatter:e=>"$".concat(e)})]})})]})]}),(0,t.jsx)("div",{className:"space-y-6",children:a.map(e=>{let s=e.icon,a="up"===e.trend?A.Z:M.Z;return(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 ".concat(o[e.color]," rounded-lg flex items-center justify-center"),children:(0,t.jsx)(s,{className:"text-white",size:24})}),(0,t.jsxs)("div",{className:"flex items-center gap-1 ".concat("up"===e.trend?"text-green-600":"text-red-600"),children:[(0,t.jsx)(a,{size:16}),(0,t.jsx)("span",{className:"text-sm",children:e.change})]})]}),(0,t.jsx)("h3",{className:"text-gray-600 text-sm mb-1",children:e.label}),(0,t.jsx)("p",{className:"text-3xl",children:e.value})]},e.label)})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{children:"Recent Participants"})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Participant ID"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Study"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Enrollment Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:[{id:1,name:"John Smith",participantId:"P-2026-001",study:"CHS-2026-001",enrollDate:"2026-01-02",status:"Active"},{id:2,name:"Sarah Johnson",participantId:"P-2025-156",study:"NDR-2025-042",enrollDate:"2025-12-28",status:"Active"},{id:3,name:"Michael Brown",participantId:"P-2026-045",study:"DPT-2025-019",enrollDate:"2026-01-03",status:"Active"},{id:4,name:"Emily Davis",participantId:"P-2026-089",study:"PNS-2026-008",enrollDate:"2026-01-05",status:"Screening"},{id:5,name:"Robert Wilson",participantId:"P-2025-234",study:"CIS-2025-055",enrollDate:"2025-12-15",status:"Active"}].map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:e.participantId}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.name}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.study}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.enrollDate}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===e.status?"bg-green-100 text-green-800":"Screening"===e.status?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-800",children:"View Details"})})]},e.id))})]})})]})]})}var E=a(17689),q=a(61649),B=a(99397),O=a(73247),H=a(3577),W=a(42208),J=a(66337),$=a(15868),_=a(9334),G=a(32489),Q=a(18930),X=a(41905);function Y(e){let{study:s,selectedParticipants:a,onClose:r,onSave:l}=e,[n,d]=(0,i.useState)(""),[c,o]=(0,i.useState)(a),[m,x]=(0,i.useState)({}),[u,p]=(0,i.useState)(null),[h,g]=(0,i.useState)(""),y=[{id:"P-2026-001",name:"John Smith",status:"Active"},{id:"P-2025-156",name:"Sarah Johnson",status:"Active"},{id:"P-2026-045",name:"Michael Brown",status:"Active"},{id:"P-2026-089",name:"Emily Davis",status:"Screening"},{id:"P-2025-234",name:"Robert Wilson",status:"Active"},{id:"P-2025-178",name:"Linda Martinez",status:"Completed"},{id:"P-2026-012",name:"Jennifer Taylor",status:"Active"},{id:"P-2025-298",name:"David Anderson",status:"Completed"}],b=y.filter(e=>!c.includes(e.id)&&(e.id.toLowerCase().includes(n.toLowerCase())||e.name.toLowerCase().includes(n.toLowerCase()))),j=e=>{o([...c,e]),p(e),d("")},N=e=>{o(c.filter(s=>s!==e)),x(s=>{let a={...s};return delete a[e],a})},v=()=>{u&&h?(x(e=>({...e,[u]:h})),p(null),g(""),P.A.success("Study Participant ID added successfully!")):P.A.error("Please enter a valid Study Participant ID.")};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:r}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full lg:w-2/3 xl:w-1/2 bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl",children:["Manage Study Enrollment (",s.name,")"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[s.code," - ",s.name]})]}),(0,t.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Add Participants"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by participant ID or name...",value:n,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n&&(0,t.jsx)("div",{className:"border border-gray-300 rounded-lg max-h-60 overflow-y-auto",children:b.length>0?b.map(e=>(0,t.jsxs)("div",{className:"p-3 hover:bg-gray-50 border-b last:border-b-0",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:[e.id," - ",e.name]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Status: ",e.status]})]})}),u===e.id?(0,t.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"Enter Study Participant ID (required)",value:h,onChange:e=>g(e.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),(0,t.jsx)("button",{onClick:v,disabled:!h.trim(),className:"px-4 py-2 text-sm bg-green-600 text-white rounded hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:"Confirm"}),(0,t.jsx)("button",{onClick:()=>{p(null),g(""),N(e.id)},className:"px-4 py-2 text-sm bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]}):(0,t.jsxs)("button",{onClick:()=>j(e.id),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[(0,t.jsx)(B.Z,{size:16}),"Add"]})]},e.id)):(0,t.jsx)("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No participants found"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b pb-2",children:[(0,t.jsx)("h3",{className:"text-lg",children:"Currently Enrolled"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[c.length," participant",1!==c.length?"s":""]})]}),c.length>0?(0,t.jsx)("div",{className:"space-y-2",children:c.map(e=>{let s=y.find(s=>s.id===e),a=m[e];return(0,t.jsxs)("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e}),s&&(0,t.jsx)("p",{className:"text-xs text-gray-600",children:s.name})]}),(0,t.jsx)("button",{onClick:()=>N(e),className:"px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded",children:"Remove"})]}),a&&(0,t.jsxs)("div",{className:"mt-2 pt-2 border-t border-blue-300",children:[(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Study Participant ID:"}),(0,t.jsx)("p",{className:"text-sm font-medium text-blue-900",children:a})]})]},e)})}):(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"No participants enrolled yet"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Use the search above to add participants"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:r,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{l(c,m),r()},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Enrollment"})]})]})]})]})}var ee=a(76865);function es(e){let{isOpen:s,onClose:a,onConfirm:i,title:r,message:l,confirmText:n="Confirm",cancelText:d="Cancel",variant:c="danger",isLoading:o=!1}=e;if(!s)return null;let m=(()=>{switch(c){case"danger":return{icon:"text-red-600 bg-red-100",button:"bg-red-600 hover:bg-red-700"};case"warning":return{icon:"text-yellow-600 bg-yellow-100",button:"bg-yellow-600 hover:bg-yellow-700"};case"info":return{icon:"text-blue-600 bg-blue-100",button:"bg-blue-600 hover:bg-blue-700"}}})();return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 ".concat(m.icon),children:(0,t.jsx)(ee.Z,{size:20})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-medium",children:r})})]}),(0,t.jsx)("button",{onClick:a,disabled:o,className:"text-gray-400 hover:text-gray-600 disabled:opacity-50",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("p",{className:"text-gray-600",children:l})}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-gray-200",children:[(0,t.jsx)("button",{onClick:a,disabled:o,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:d}),(0,t.jsx)("button",{onClick:i,disabled:o,className:"px-4 py-2 text-white rounded-lg disabled:opacity-50 flex items-center gap-2 ".concat(m.button),children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):n})]})]})})}function ea(e){var s;let{onClose:a,study:r}=e,[l,d]=(0,i.useState)((null==r?void 0:r.code)||""),[c,o]=(0,i.useState)([]),[m,x]=(0,i.useState)(null),u=[{code:"CHS-2026-001",name:"Cardiovascular Health Study 2026",pi:"Dr. Sarah Williams"},{code:"NDR-2025-042",name:"Neurological Disorders Research",pi:"Dr. James Anderson"},{code:"DPT-2025-019",name:"Diabetes Prevention Trial",pi:"Dr. Michael Chen"},{code:"PNS-2026-008",name:"Pediatric Nutrition Study",pi:"Dr. Robert Taylor"},{code:"CIS-2025-055",name:"Cancer Immunotherapy Study",pi:"Dr. Lisa Brown"}],p=l&&({"CHS-2026-001":[{id:"V1",name:"Screening Visit",type:"Screening",typicalDuration:"2 hours",window:"Day 0"},{id:"V2",name:"Baseline Assessment",type:"Baseline",typicalDuration:"3 hours",window:"Day 1-7"},{id:"V3",name:"Week 4 Follow-up",type:"Follow-up",typicalDuration:"1 hour",window:"Week 4 \xb13 days"},{id:"V4",name:"Month 3 Assessment",type:"Assessment",typicalDuration:"2 hours",window:"Month 3 \xb17 days"},{id:"V5",name:"Month 6 Assessment",type:"Assessment",typicalDuration:"2 hours",window:"Month 6 \xb17 days"},{id:"V6",name:"Final Visit",type:"Closeout",typicalDuration:"2.5 hours",window:"Month 12 \xb114 days"}],"NDR-2025-042":[{id:"V1",name:"Initial Screening",type:"Screening",typicalDuration:"1.5 hours",window:"Day 0"},{id:"V2",name:"Neurological Baseline",type:"Baseline",typicalDuration:"4 hours",window:"Week 1"},{id:"V3",name:"Week 2 Check",type:"Follow-up",typicalDuration:"1 hour",window:"Week 2 \xb12 days"},{id:"V4",name:"Month 1 Assessment",type:"Assessment",typicalDuration:"3 hours",window:"Month 1 \xb15 days"},{id:"V5",name:"Study Completion",type:"Closeout",typicalDuration:"2 hours",window:"Month 3 \xb17 days"}],"DPT-2025-019":[{id:"V1",name:"Screening & Consent",type:"Screening",typicalDuration:"1 hour",window:"Day 0"},{id:"V2",name:"Baseline Labs",type:"Baseline",typicalDuration:"2 hours",window:"Week 1"},{id:"V3",name:"Monthly Check-in",type:"Follow-up",typicalDuration:"30 min",window:"Monthly"},{id:"V4",name:"6-Month Evaluation",type:"Assessment",typicalDuration:"2 hours",window:"Month 6 \xb110 days"}]})[l]||[],h=e=>{o(c.filter((s,a)=>a!==e))},g=(e,s,a)=>{let t=[...c];t[e]={...t[e],[s]:a},o(t)},y=c.reduce((e,s)=>e+(parseFloat(s.amount)||0),0),b=(e,s)=>{x(s),e.dataTransfer.effectAllowed="move"},j=e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"},N=(e,s)=>{if(e.preventDefault(),null===m)return;let a=[...c],t=a[m];a.splice(m,1),a.splice(s,0,t),o(a),x(null)},v=()=>{x(null)};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:a}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:r?"Payment Schedule (".concat(r.name,")"):"Payment Schedule"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Set up payment schedules for study visits"})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-lg mb-4",children:"Study Information"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Select Study ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:l,onChange:e=>{d(e.target.value),o([])},children:[(0,t.jsx)("option",{value:"",children:"Select a study..."}),u.map(e=>(0,t.jsxs)("option",{value:e.code,children:[e.code," - ",e.name]},e.code))]}),l&&(0,t.jsx)("div",{className:"mt-3 p-3 bg-blue-100 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Principal Investigator:"})," ",null===(s=u.find(e=>e.code===l))||void 0===s?void 0:s.pi]})})]})]}),l&&p.length>0&&(0,t.jsxs)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-lg mb-4",children:"Available Study Visits"}),(0,t.jsx)("div",{className:"space-y-2",children:p.map(e=>(0,t.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:e.id}),(0,t.jsx)("h4",{className:"font-medium",children:e.name}),(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:e.type})]}),(0,t.jsxs)("div",{className:"mt-2 text-sm text-gray-600 flex gap-4",children:[(0,t.jsxs)("span",{children:[(0,t.jsx)(S.Z,{size:14,className:"inline mr-1"}),e.window]}),(0,t.jsxs)("span",{children:["Duration: ",e.typicalDuration]})]})]})},e.id))})]}),c.length>0&&(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg",children:"Payment Schedule Configuration"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)(X.Z,{size:16,className:"inline mr-1"}),"Drag to reorder"]})]}),(0,t.jsx)("div",{className:"space-y-4",children:c.map((e,s)=>(0,t.jsxs)("div",{draggable:!0,onDragStart:e=>b(e,s),onDragOver:j,onDrop:e=>N(e,s),onDragEnd:v,className:"bg-white rounded-lg p-4 border-2 border-green-300 cursor-move transition-all ".concat(m===s?"opacity-50 scale-95":"opacity-100 scale-100"),children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-center p-2 text-gray-400 hover:text-gray-600 cursor-grab active:cursor-grabbing",children:(0,t.jsx)(X.Z,{size:20})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded",children:["#",s+1]}),(0,t.jsx)("h4",{className:"font-medium",children:e.visitName})]}),(0,t.jsxs)("span",{className:"text-sm text-gray-600",children:["Visit ID: ",e.visitId]})]}),(0,t.jsx)("button",{onClick:()=>h(s),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"Remove from schedule",children:(0,t.jsx)(_.Z,{size:18})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2 text-sm",children:"Payment Type"}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.paymentType,onChange:e=>g(s,"paymentType",e.target.value),children:[(0,t.jsx)("option",{value:"Stipend",children:"Stipend"}),(0,t.jsx)("option",{value:"Travel",children:"Travel Reimbursement"}),(0,t.jsx)("option",{value:"Parking",children:"Parking"}),(0,t.jsx)("option",{value:"Meal",children:"Meal Allowance"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2 text-sm",children:"Amount ($)"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.amount,onChange:e=>g(s,"amount",e.target.value)})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2 text-sm",children:"Description"}),(0,t.jsx)("input",{type:"text",placeholder:"Payment description...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:e.description,onChange:e=>g(s,"description",e.target.value)})]}),(0,t.jsxs)("div",{className:"md:col-span-2 flex gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded",checked:e.taxable,onChange:e=>g(s,"taxable",e.target.checked)}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Taxable Payment"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded",checked:e.travelReimbursement,onChange:e=>g(s,"travelReimbursement",e.target.checked)}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Include Travel Reimbursement"})]})]})]})]},s))}),(0,t.jsx)("div",{className:"mt-4 p-4 bg-green-100 rounded-lg border-2 border-green-400",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-700 font-medium",children:"Total Scheduled Payments"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[c.length," payment(s) across ",c.length," visit(s)"]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-3xl font-bold text-green-700",children:["$",y.toFixed(2)]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Per participant"})]})]})})]}),l&&0===p.length&&(0,t.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 flex gap-3",children:[(0,t.jsx)(M.Z,{className:"text-yellow-600 flex-shrink-0",size:20}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm text-gray-700",children:"No visits found for this study. Please ensure the study has defined visit schedules before setting up payment schedules."})})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{type:"button",onClick:()=>{if(!l){P.A.error("Please select a study");return}if(0===c.length){P.A.error("Please add at least one payment schedule item");return}P.A.success("Payment schedule saved successfully!"),a()},disabled:!l||0===c.length,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)(n.Z,{size:20}),"Save Payment Schedule"]})]})]})]})]})}function et(){var e,s,a,l,d;let[m,x]=(0,i.useState)(""),[u,p]=(0,i.useState)("all"),[h,g]=(0,i.useState)("all"),[y,b]=(0,i.useState)(!1),[j,N]=(0,i.useState)(!1),[v,f]=(0,i.useState)(!1),[w,k]=(0,i.useState)(!1),[A,M]=(0,i.useState)(!1),[z,D]=(0,i.useState)(!1),[R,L]=(0,i.useState)(null),[U,T]=(0,i.useState)(null),[K,I]=(0,i.useState)(null),[Z,F]=(0,i.useState)(null),[V,ee]=(0,i.useState)("details"),[et,ei]=(0,i.useState)(null),[er]=(0,i.useState)([]),[el,en]=(0,i.useState)(""),[ed,ec]=(0,i.useState)(!1),[eo,em]=(0,i.useState)({}),[ex,eu]=(0,i.useState)([]),[ep,eh]=(0,i.useState)(""),[eg,ey]=(0,i.useState)(!1),[eb,ej]=(0,i.useState)([]),[eN,ev]=(0,i.useState)(null),[ef,ew]=(0,i.useState)(!1),[eC,eS]=(0,i.useState)([]),[ek,eA]=(0,i.useState)(!1),[eM,eP]=(0,i.useState)(""),[ez,eD]=(0,i.useState)(!1),[eR,eL]=(0,i.useState)(!1),[eU,eT]=(0,i.useState)(null),[eK,eI]=(0,i.useState)(null),[eZ,eF]=(0,i.useState)(!1),[eV,eE]=(0,i.useState)(!1),[eq,eB]=(0,i.useState)(new Date().toISOString().split("T")[0]),[eO,eH]=(0,i.useState)(!1),[eW,eJ]=(0,i.useState)(!1),[e$,e_]=(0,i.useState)(""),[eG,eQ]=(0,i.useState)(""),[eX,eY]=(0,i.useState)("No"),[e0,e2]=(0,i.useState)("No"),[e1,e6]=(0,i.useState)("Registered"),[e5,e3]=(0,i.useState)(!1),[e4,e7]=(0,i.useState)({studyParticipantId:"",waiveSSN:"No",withholdTaxes:"No",status:"Registered"}),[e8,e9]=(0,i.useState)({}),[se,ss]=(0,i.useState)(!1),[sa,st]=(0,i.useState)(""),[si,sr]=(0,i.useState)(""),[sl,sn]=(0,i.useState)(""),[sd,sc]=(0,i.useState)(""),[so,sm]=(0,i.useState)("2026-01-26"),[sx,su]=(0,i.useState)(["2026-01-15","2026-01-01","2025-12-15"]),[sp,sh]=(0,i.useState)(""),[sg,sy]=(0,i.useState)(!1),sb=[{id:"P-2026-001",name:"John Smith",status:"Active"},{id:"P-2025-156",name:"Sarah Johnson",status:"Active"},{id:"P-2026-045",name:"Michael Brown",status:"Active"},{id:"P-2026-089",name:"Emily Davis",status:"Screening"},{id:"P-2025-234",name:"Robert Wilson",status:"Active"},{id:"P-2025-178",name:"Linda Martinez",status:"Completed"},{id:"P-2026-012",name:"Jennifer Taylor",status:"Active"},{id:"P-2025-298",name:"David Anderson",status:"Completed"},{id:"P-2026-150",name:"Thomas Garcia",status:"Registered"},{id:"P-2026-151",name:"Jessica White",status:"Registered"}],sj=["Main Research Center - Building A","Outpatient Clinic - West Campus","Home Visit - Johnson County Area","Virtual/Remote Participation","Westwood","Corp","Remote"],sN={"Main Research Center - Building A":{address:"3901 Rainbow Blvd, Kansas City, KS 66160",type:"Study Facility"},"Outpatient Clinic - West Campus":{address:"4000 Cambridge St, Kansas City, KS 66160",type:"Study Facility"},"Home Visit - Johnson County Area":{address:"Service Area: Johnson County, KS",type:"Participant Location"},"Virtual/Remote Participation":{address:"Remote/Telehealth",type:"Participant Location"},Westwood:{address:"5520 College Blvd, Overland Park, KS 66211",type:"Study Facility"},Corp:{address:"4330 Shawnee Mission Pkwy, Fairway, KS 66205",type:"Study Facility"},Remote:{address:"Remote Work Location",type:"Participant Location"}},sv=[{id:1,name:"Cardiovascular Health Study 2026",code:"CHS-2026-001",irb:"IRB-2025-345",protocol:"PROTO-CHS-2026",pi:"Dr. Sarah Williams",status:"Active",participants:145,startDate:"2025-06-01",endDate:"2027-06-01",location:"Main Research Center - Building A",locations:["Main Research Center - Building A","Outpatient Clinic - West Campus"],participantList:["P-2026-001","P-2025-156","P-2026-012","P-2025-178"]},{id:2,name:"Neurological Disorders Research",code:"NDR-2025-042",irb:"IRB-2025-198",protocol:"PROTO-NDR-2025",pi:"Dr. James Anderson",status:"Active",participants:89,startDate:"2025-03-15",endDate:"2026-12-31",location:"Outpatient Clinic - West Campus",locations:["Outpatient Clinic - West Campus","Virtual/Remote Participation"],participantList:["P-2025-156","P-2026-089"]},{id:3,name:"Pediatric Nutrition Study",code:"PNS-2026-008",irb:"IRB-2026-012",protocol:"PROTO-PNS-2026",pi:"Dr. Robert Taylor",status:"Active",participants:67,startDate:"2026-01-01",endDate:"2027-12-31",location:"Westwood",locations:["Westwood","Home Visit - Johnson County Area"],participantList:["P-2026-089","P-2025-234"]},{id:4,name:"Diabetes Prevention Trial",code:"DPT-2025-019",irb:"IRB-2024-567",protocol:"PROTO-DPT-2025",pi:"Dr. Michael Chen",status:"Study completed",participants:203,startDate:"2025-02-01",endDate:"2027-02-01",location:"Main Research Center - Building A",locations:["Main Research Center - Building A","Corp","Remote"],participantList:["P-2026-045","P-2025-178","P-2025-298"]},{id:5,name:"Cancer Immunotherapy Study",code:"CIS-2025-055",irb:"IRB-2025-289",protocol:"PROTO-CIS-2025",pi:"Dr. Lisa Brown",status:"Active",participants:78,startDate:"2025-08-01",endDate:"2028-08-01",location:"Corp",locations:["Corp"],participantList:["P-2025-234","P-2025-298"]},{id:6,name:"Sleep Disorder Analysis",code:"SDA-2026-003",irb:"IRB-2026-045",protocol:"PROTO-SDA-2026",pi:"Dr. Maria Martinez",status:"Study start",participants:2,startDate:"2026-03-01",endDate:"2027-09-01",location:"Outpatient Clinic - West Campus",locations:["Outpatient Clinic - West Campus"],participantList:["P-2026-150","P-2026-151"]},{id:7,name:"Arthritis Treatment Efficacy",code:"ATE-2025-031",irb:"IRB-2024-123",protocol:"PROTO-ATE-2025",pi:"Dr. David Kim",status:"Canceled/withdrawn",participants:156,startDate:"2024-01-01",endDate:"2025-12-31",location:"Main Research Center - Building A",locations:["Main Research Center - Building A"],participantList:["P-2025-298","P-2026-001"]}],sf=sv.filter(e=>{let s=e.name.toLowerCase().includes(m.toLowerCase())||e.pi.toLowerCase().includes(m.toLowerCase())||e.irb.toLowerCase().includes(m.toLowerCase())||e.protocol.toLowerCase().includes(m.toLowerCase())||e.code.toLowerCase().includes(m.toLowerCase()),a="all"===u||e.status===u,t="all"===h||e.pi===h;return s&&a&&t}),sw=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?D(!0):"dragleave"===e.type&&D(!1)},sC=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?eF(!0):"dragleave"===e.type&&eF(!1)},sS=e=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?eE(!0):"dragleave"===e.type&&eE(!1)},sk=async()=>{b(!0),await new Promise(e=>setTimeout(e,1e3)),P.A.success('Study "'.concat(null==K?void 0:K.name,'" has been archived')),b(!1),I(null)},sA=()=>{em({...eo,[e$]:eG}),e9({...e8,[e$]:{studyParticipantId:eG,waiveSSN:eX,withholdTaxes:e0,status:e1}}),P.A.success("Participant rules saved successfully"),e6("Registered")},sM=()=>{if(ek&&"paymentSchedule"===V){ss(!0);return}f(!1),T(null),F(null),ee("details"),eu([]),em({}),en(""),eh(""),ej([]),eA(!1),eS([])},sP=null!==U,sz=null!==Z&&null===U;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-ku-blue rounded-lg flex items-center justify-center shadow-sm",children:(0,t.jsx)(r.Z,{className:"text-white",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Studies"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Manage research studies and protocols"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>N(!j),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:j?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:j?(0,t.jsx)(c.Z,{size:20}):(0,t.jsx)(o.Z,{size:20})}),(0,t.jsx)("button",{onClick:()=>k(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:"Bulk Upload Studies from Excel",children:(0,t.jsx)(E.Z,{size:20})}),(0,t.jsx)("button",{onClick:()=>M(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-green-600 rounded-lg transition-all shadow-sm",title:"Export Studies to Excel",children:(0,t.jsx)(q.Z,{size:20})}),(0,t.jsxs)("button",{onClick:()=>f(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium shadow-sm transition-all",title:"Setup New Study",children:[(0,t.jsx)(B.Z,{size:20}),"Setup Study"]})]})]}),j&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Studies"}),(0,t.jsx)(r.Z,{className:"text-blue-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl",children:sv.length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Active Studies"}),(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,t.jsx)("p",{className:"text-3xl",children:sv.filter(e=>"Active"===e.status).length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Recruiting"}),(0,t.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"})]}),(0,t.jsx)("p",{className:"text-3xl",children:sv.filter(e=>"Recruiting"===e.status).length})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)("label",{htmlFor:"study-search",className:"sr-only",children:"Search studies by name, code, IRB number, protocol, or principal investigator"}),(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-600",size:20,"aria-hidden":"true"}),(0,t.jsx)("input",{id:"study-search",type:"text",placeholder:"Search by study name, code, IRB, protocol, or PI...",value:m,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.Z,{size:20,className:"text-gray-600","aria-hidden":"true"}),(0,t.jsx)("label",{htmlFor:"filter-status",className:"sr-only",children:"Filter by study status"}),(0,t.jsxs)("select",{id:"filter-status",value:u,onChange:e=>p(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"Active",children:"Active"}),(0,t.jsx)("option",{value:"Study start",children:"Study start"}),(0,t.jsx)("option",{value:"Study completed",children:"Study completed"}),(0,t.jsx)("option",{value:"Canceled/withdrawn",children:"Canceled/withdrawn"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.Z,{size:20,className:"text-gray-600","aria-hidden":"true"}),(0,t.jsx)("label",{htmlFor:"filter-pi",className:"sr-only",children:"Filter by principal investigator"}),(0,t.jsxs)("select",{id:"filter-pi",value:h,onChange:e=>g(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2",children:[(0,t.jsx)("option",{value:"all",children:"All PIs"}),(0,t.jsx)("option",{value:"Dr. Sarah Williams",children:"Dr. Sarah Williams"}),(0,t.jsx)("option",{value:"Dr. James Anderson",children:"Dr. James Anderson"}),(0,t.jsx)("option",{value:"Dr. Robert Taylor",children:"Dr. Robert Taylor"}),(0,t.jsx)("option",{value:"Dr. Michael Chen",children:"Dr. Michael Chen"}),(0,t.jsx)("option",{value:"Dr. Lisa Brown",children:"Dr. Lisa Brown"}),(0,t.jsx)("option",{value:"Dr. Maria Martinez",children:"Dr. Maria Martinez"}),(0,t.jsx)("option",{value:"Dr. David Kim",children:"Dr. David Kim"})]})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"IRB #"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Protocol #"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Study Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Principal Investigator"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Start Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"End Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:sf.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:e.irb}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.protocol}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("button",{onClick:()=>{F(e),eu(e.participantList||[]),f(!0)},className:"text-blue-600 hover:underline text-left",children:e.name})}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.pi}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.startDate}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.endDate}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===e.status?"bg-green-100 text-green-800":"Study start"===e.status?"bg-blue-100 text-blue-800":"Study completed"===e.status?"bg-gray-100 text-gray-800":"Canceled/withdrawn"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{F(e),eu(e.participantList||[]),ej(e.locations||[]),f(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:(0,t.jsx)(W.Z,{size:16})}),"Active"!==e.status&&"Study start"!==e.status?(0,t.jsx)("button",{className:"p-2 text-gray-400 cursor-not-allowed rounded",title:"Study completed"===e.status?"Study has completed, no enrollments or payments can be made.":"Canceled/withdrawn"===e.status?"Study never started, no enrollments or payments can be made.":"Study cannot be edited",disabled:!0,children:(0,t.jsx)(J.Z,{size:16})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{T(e),eu(e.participantList||[]),ej(e.locations||[]),f(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:(0,t.jsx)($.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>{T(e),ee("participants"),eu(e.participantList||[]),ej(e.locations||[]),f(!0)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Manage Participants",children:(0,t.jsx)(C.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>{T(e),ee("paymentSchedule"),eu(e.participantList||[]),ej(e.locations||[]),f(!0)},className:"p-2 text-orange-600 hover:bg-orange-50 rounded",title:"Payment Schedule",children:(0,t.jsx)(n.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>I(e),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Archive",children:(0,t.jsx)(_.Z,{size:16})})]})]})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-gray-600",children:["Showing ",sf.length," of ",sv.length," studies"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Previous"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"1"}),(0,t.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"2"}),(0,t.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Next"})]})]})]}),v&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>sM()}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:[(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("div",{className:"flex items-center gap-3",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h2",{className:"text-xl",children:sz?"View Study (".concat(null==Z?void 0:Z.name,")"):sP?"Edit Study (".concat(null==U?void 0:U.name,")"):"Setup New Study"}),!sz&&!sP&&(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,t.jsx)(B.Z,{size:12}),"New"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:sz?"View study details":sP?"Update study details":"Enter study details to create a new research study"})]})}),(0,t.jsx)("button",{onClick:()=>sM(),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsx)("div",{className:"px-6",children:(0,t.jsxs)("div",{className:"flex gap-1 border-b border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>ee("details"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("details"===V?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Details"}),(sz||sP)&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>ee("locations"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("locations"===V?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Locations"}),(0,t.jsx)("button",{onClick:()=>ee("participants"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("participants"===V?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Participants"}),(0,t.jsx)("button",{onClick:()=>ee("paymentSchedule"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("paymentSchedule"===V?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Payment Schedule"}),(0,t.jsx)("button",{onClick:()=>ee("history"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("history"===V?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Audit History"})]})]})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:["details"===V&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Basic Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Study Name *"}),sz?(0,t.jsx)("p",{className:"text-gray-900 py-2",children:Z.name}):(0,t.jsx)("input",{type:"text",placeholder:"Enter study name",defaultValue:(null==U?void 0:U.name)||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"IRB # *"}),sz?(0,t.jsx)("p",{className:"text-gray-900 py-2",children:Z.irb}):(0,t.jsx)("input",{type:"text",placeholder:"e.g., IRB-2025-345",defaultValue:(null==U?void 0:U.irb)||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Protocol # *"}),sz?(0,t.jsx)("p",{className:"text-gray-900 py-2",children:Z.protocol}):(0,t.jsx)("input",{type:"text",placeholder:"e.g., PROTO-CHS-2026",defaultValue:(null==U?void 0:U.protocol)||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Status *"}),sz?(0,t.jsx)("p",{className:"text-gray-900 py-2",children:Z.status}):(0,t.jsxs)("select",{defaultValue:(null==U?void 0:U.status)||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{children:"Select status"}),(0,t.jsx)("option",{children:"Active"}),(0,t.jsx)("option",{children:"Study start"}),(0,t.jsx)("option",{children:"Study completed"}),(0,t.jsx)("option",{children:"Canceled/withdrawn"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Study Team"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Principal Investigator *"}),sz?(0,t.jsx)("p",{className:"text-gray-900 py-2",children:Z.pi}):(0,t.jsx)("input",{type:"text",placeholder:"Dr. Name",defaultValue:(null==U?void 0:U.pi)||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Study Timeline"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Start Date *"}),sz?(0,t.jsx)("p",{className:"text-gray-900 py-2",children:Z.startDate}):(0,t.jsx)("input",{type:"date",defaultValue:(null==U?void 0:U.startDate)||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"End Date *"}),sz?(0,t.jsx)("p",{className:"text-gray-900 py-2",children:Z.endDate}):(0,t.jsx)("input",{type:"date",defaultValue:(null==U?void 0:U.endDate)||"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Study Description"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Description"}),sz?(0,t.jsx)("p",{className:"text-gray-900 py-2",children:"A comprehensive research study investigating the effects and outcomes of cardiovascular health interventions."}):(0,t.jsx)("textarea",{rows:4,placeholder:"Enter study description and objectives",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Billing Settings"}),(0,t.jsx)("div",{children:sz?(0,t.jsxs)("div",{className:"flex items-center gap-2 py-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"allowTravelInvoicing",defaultChecked:!0,disabled:!0,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"allowTravelInvoicing",className:"text-sm text-gray-700",children:"Allow travel reimbursements to be invoiced back to sponsor"})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"allowTravelInvoicing",defaultChecked:(null==U?void 0:U.allowTravelInvoicing)||!1,className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"allowTravelInvoicing",className:"text-sm text-gray-700 cursor-pointer",children:"Allow travel reimbursements to be invoiced back to sponsor"})]})})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>sM(),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:sz?"Close":"Cancel"}),!sz&&(0,t.jsx)("button",{className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:sP?"Update Study":"Create Study"})]})]}),"locations"===V&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Study Locations"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage locations where this study is being conducted"})]})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Locations"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:eb.length>0?eb.map((e,s)=>(0,t.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm flex items-center gap-2",children:[e,!sz&&(0,t.jsx)("button",{onClick:()=>ej(eb.filter(s=>s!==e)),className:"text-green-600 hover:text-green-800",children:(0,t.jsx)(G.Z,{size:14})})]},s)):(0,t.jsx)("span",{className:"text-sm text-gray-400 py-1",children:"No locations assigned"})}),!sz&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Search and add locations...",value:ep,onChange:e=>eh(e.target.value),onFocus:()=>ey(!0),onBlur:()=>setTimeout(()=>ey(!1),200),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),eg&&ep&&(0,t.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[sj.filter(e=>e.toLowerCase().includes(ep.toLowerCase())&&!eb.includes(e)).map(e=>(0,t.jsx)("button",{onClick:()=>{ej([...eb,e]),eh(""),ey(!1),P.A.success("Added location: ".concat(e))},className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:(0,t.jsx)("div",{className:"text-sm",children:e})},e)),0===sj.filter(e=>e.toLowerCase().includes(ep.toLowerCase())&&!eb.includes(e)).length&&(0,t.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No locations found"})]})]})]}),eb.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Location Details"}),(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Location Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Address"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Type"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Status"}),!sz&&(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:eb.map((e,s)=>{var a,i;return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(null===(a=sN[e])||void 0===a?void 0:a.address)||"Address not available"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(null===(i=sN[e])||void 0===i?void 0:i.type)||"Study Facility"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Active"})}),!sz&&(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("button",{onClick:()=>{ej(eb.filter(s=>s!==e)),P.A.success("Removed location: ".concat(e))},className:"text-red-600 hover:text-red-800",title:"Remove location",children:(0,t.jsx)(Q.Z,{size:16})})})]},s)})})]})}),(0,t.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["Showing ",eb.length," location(s)"]})})]})]})]}),"participants"===V&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Study Participants"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage participants enrolled in this study and configure participant-specific rules."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium",children:["Enrolled Participants (",(null===(s=sz?Z:U)||void 0===s?void 0:null===(e=s.participantList)||void 0===e?void 0:e.length)||ex.length||0,")"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Filter participants...",value:el,onChange:e=>en(e.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),0===((sz?null==Z?void 0:Z.participantList:sP?null==U?void 0:U.participantList:ex)||[]).length?(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,t.jsx)(C.Z,{className:"mx-auto text-gray-400 mb-2",size:48}),(0,t.jsx)("p",{className:"text-gray-500",children:"No participants enrolled yet"}),!sz&&(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Use the search above to add participants to this study"})]}):(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Participant ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Participant Status"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:((sz?null==Z?void 0:Z.participantList:sP?null==U?void 0:U.participantList:ex)||[]).filter(e=>{if(!el)return!0;let s=sb.find(s=>s.id===e),a=el.toLowerCase();return e.toLowerCase().includes(a)||(null==s?void 0:s.name.toLowerCase().includes(a))||!1}).map(e=>{var s,a,i,r;let l=sb.find(s=>s.id===e);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(null==l?void 0:l.name)||"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("Registered"===((null===(s=e8[e])||void 0===s?void 0:s.status)||"Registered")?"bg-blue-100 text-blue-800":"Completed"===((null===(a=e8[e])||void 0===a?void 0:a.status)||"Registered")?"bg-gray-100 text-gray-800":"Inactive"===((null===(i=e8[e])||void 0===i?void 0:i.status)||"Registered")?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:(null===(r=e8[e])||void 0===r?void 0:r.status)||"Registered"})})]},e)})})]})}),(0,t.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200",children:(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["Showing ",((sz?null==Z?void 0:Z.participantList:sP?null==U?void 0:U.participantList:ex)||[]).length," participant(s)"]})})]})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-white",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Participant Rules"}),sz?(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"View mode - participant rules cannot be edited"}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Participant ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:e$,onChange:e=>{e_(e.target.value);let s=e8[e.target.value],a=(null==s?void 0:s.studyParticipantId)||eo[e.target.value]||"",t=(null==s?void 0:s.waiveSSN)||"No",i=(null==s?void 0:s.withholdTaxes)||"No",r=(null==s?void 0:s.status)||"Registered";eQ(a),eY(t),e2(i),e6(r),e7({studyParticipantId:a,waiveSSN:t,withholdTaxes:i,status:r})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Choose a participant..."}),((sP?null==U?void 0:U.participantList:ex)||[]).map(e=>{let s=sb.find(s=>s.id===e);return(0,t.jsxs)("option",{value:e,children:[e," - ",(null==s?void 0:s.name)||"Unknown"]},e)})]})]}),e$&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Study Participant ID ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:eG,onChange:e=>eQ(e.target.value),placeholder:"Enter study-specific participant ID...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waive SSN"}),(0,t.jsxs)("select",{value:eX,onChange:e=>eY(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"No",children:"No"}),(0,t.jsx)("option",{value:"Yes",children:"Yes"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withhold Taxes"}),(0,t.jsxs)("select",{value:e0,onChange:e=>e2(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"No",children:"No"}),(0,t.jsx)("option",{value:"Yes",children:"Yes"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Participant Status"}),(0,t.jsxs)("select",{value:e1,onChange:e=>e6(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"Registered",children:"Registered"}),(0,t.jsx)("option",{value:"Completed",children:"Completed"}),(0,t.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)("button",{onClick:()=>{if(!eG.trim()){P.A.error("Study Participant ID is required");return}e4.studyParticipantId!==eG||e4.waiveSSN!==eX||e4.withholdTaxes!==e0||e4.status!==e1?e3(!0):sA()},className:"w-full px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Save Changes"})})]})]})]})]}),"paymentSchedule"===V&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2 mb-4",children:"Payment Schedule"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Configure payment schedules for study visits. Payments will be automatically calculated based on the schedule below."}),(0,t.jsxs)("p",{className:"text-sm text-gray-700 font-medium mb-4",children:["Current Payment Schedule as of: ",(0,t.jsx)("span",{className:"text-blue-600",children:new Date(so).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Study Visits"}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Filter visits...",value:eM,onChange:e=>eP(e.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 w-64"})]}),!sz&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),eL(!0)},className:"flex items-center gap-2 px-3 py-2 border border-purple-600 text-purple-600 rounded-lg hover:bg-purple-50 text-sm",children:[(0,t.jsx)(E.Z,{size:16}),"Upload Visits"]}),(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),eJ(!0)},className:"flex items-center gap-2 px-3 py-2 border border-green-600 text-green-600 rounded-lg hover:bg-green-50 text-sm",children:[(0,t.jsx)(q.Z,{size:16}),"Export"]}),(0,t.jsxs)("button",{onClick:e=>{e.stopPropagation(),ew(!ef)},className:"flex items-center gap-2 px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 text-sm",children:[(0,t.jsx)(B.Z,{size:16}),"Add Visit"]})]})]})]}),!sz&&ef&&(0,t.jsxs)("div",{className:"mb-4 border border-purple-300 rounded-lg bg-purple-50 p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-purple-900",children:"Add New Visit"}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),st(""),sr(""),sn(""),sc(""),ew(!1)},className:"text-purple-600 hover:text-purple-800",children:(0,t.jsx)(G.Z,{size:18})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Visit ID ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:sa,onChange:e=>st(e.target.value),placeholder:"e.g., V7",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Visit Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:si,onChange:e=>sr(e.target.value),placeholder:"e.g., Follow-up Visit",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:sl,onChange:e=>sn(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",children:[(0,t.jsx)("option",{value:"",children:"Select type..."}),(0,t.jsx)("option",{value:"One-time",children:"One-time"}),(0,t.jsx)("option",{value:"Recurring",children:"Recurring"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["Payment Amount ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:sd,onChange:e=>sc(e.target.value),placeholder:"e.g., $150",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 mt-4",children:[(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),st(""),sr(""),sn(""),sc(""),ew(!1)},className:"px-4 py-2 text-sm text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:e=>{if(e.stopPropagation(),!sa.trim()){P.A.error("Visit ID is required");return}if(!si.trim()){P.A.error("Visit Name is required");return}if(!sl){P.A.error("Visit Type is required");return}if(!sd.trim()){P.A.error("Payment Amount is required");return}if((eC.length>0?eC:[]).some(e=>e.id===sa.trim())){P.A.error('Visit ID "'.concat(sa,'" already exists. Please use a unique Visit ID.'));return}eS([...eC,{id:sa.trim(),name:si.trim(),type:sl,payment:sd.trim()}]),eA(!0),P.A.success("Visit added successfully"),st(""),sr(""),sn(""),sc(""),ew(!1)},className:"px-4 py-2 text-sm text-white bg-purple-600 rounded-lg hover:bg-purple-700",children:"Add Visit"})]})]}),(()=>{let e=sz?Z:U,s=e&&({"CHS-2026-001":[{id:"V1",name:"Screening Visit",type:"One-time",payment:"$150"},{id:"V2",name:"Baseline Assessment",type:"One-time",payment:"$200"},{id:"V3",name:"Week 4 Follow-up",type:"Recurring",payment:"$100"},{id:"V4",name:"Month 3 Assessment",type:"One-time",payment:"$150"},{id:"V5",name:"Month 6 Assessment",type:"One-time",payment:"$150"},{id:"V6",name:"Final Visit",type:"One-time",payment:"$250"}],"NDR-2025-042":[{id:"V1",name:"Initial Screening",type:"One-time",payment:"$125"},{id:"V2",name:"Neurological Baseline",type:"One-time",payment:"$300"},{id:"V3",name:"Week 2 Check",type:"Recurring",payment:"$75"},{id:"V4",name:"Month 1 Assessment",type:"One-time",payment:"$200"},{id:"V5",name:"Study Completion",type:"One-time",payment:"$150"}],"DPT-2025-019":[{id:"V1",name:"Screening & Consent",type:"One-time",payment:"$100"},{id:"V2",name:"Baseline Labs",type:"One-time",payment:"$150"},{id:"V3",name:"Monthly Check-in",type:"Recurring",payment:"$50"},{id:"V4",name:"6-Month Evaluation",type:"One-time",payment:"$175"}]})[e.code]||[],a=eC.length>0?eC:s;if(eM){let e=eM.toLowerCase();a=a.filter(s=>s.id.toLowerCase().includes(e)||s.name.toLowerCase().includes(e)||s.type.toLowerCase().includes(e)||s.payment.toLowerCase().includes(e))}s.length>0&&0===eC.length&&eS(s);let i=e=>{sz||ev(e)},r=(e,s)=>{if(e.preventDefault(),null===eN||eN===s||sz)return;let t=[...a],i=t[eN];t.splice(eN,1),t.splice(s,0,i),eS(t),ev(s),eA(!0)},l=()=>{ev(null)};return s.length>0?(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-300",children:(0,t.jsxs)("tr",{children:[!sz&&(0,t.jsx)("th",{className:"px-2 py-3 w-8"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Visit ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Visit Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Type"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Payment"}),!sz&&(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider w-24",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map((e,s)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 ".concat(eN===s?"opacity-50":""),draggable:!sz,onDragStart:()=>i(s),onDragOver:e=>r(e,s),onDragEnd:l,children:[!sz&&(0,t.jsx)("td",{className:"px-2 py-3 text-sm",children:(0,t.jsx)("div",{className:"cursor-move text-gray-400 hover:text-gray-600",children:(0,t.jsx)(X.Z,{size:16})})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-700 text-xs font-medium rounded",children:e.id})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:sz?(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e.name}):(0,t.jsx)("input",{type:"text",defaultValue:e.name,onChange:()=>eA(!0),className:"w-full px-2 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:sz?(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:e.type}):(0,t.jsxs)("select",{defaultValue:e.type,onChange:()=>eA(!0),className:"w-full px-2 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-xs",children:[(0,t.jsx)("option",{value:"One-time",children:"One-time"}),(0,t.jsx)("option",{value:"Recurring",children:"Recurring"})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:sz?(0,t.jsx)("span",{className:"text-gray-900 font-medium",children:e.payment}):(0,t.jsx)("input",{type:"text",defaultValue:e.payment,onChange:()=>eA(!0),className:"w-full px-2 py-1.5 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})}),!sz&&(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:(0,t.jsx)("button",{onClick:()=>{P.A.success("Visit archived")},className:"p-1.5 text-red-600 hover:bg-red-50 rounded",title:"Archive visit",children:(0,t.jsx)(_.Z,{size:16})})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["Showing ",a.length," visit(s)"]}),!sz&&ek&&(0,t.jsx)("button",{onClick:()=>{P.A.success("Visit order saved successfully"),eA(!1)},className:"px-4 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]}):(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,t.jsx)(S.Z,{className:"mx-auto text-gray-400 mb-2",size:48}),(0,t.jsx)("p",{className:"text-gray-500",children:"No visits found for this study"}),!sz&&(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Click Add Visit to create a new visit"})]})})()]}),sx.length>0&&(0,t.jsxs)("div",{className:"border rounded-lg",children:[(0,t.jsxs)("button",{onClick:()=>sy(!sg),className:"w-full flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:"Prior Versions"}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",sx.length," version",1!==sx.length?"s":"",")"]})]}),sg?(0,t.jsx)(c.Z,{size:20,className:"text-gray-400"}):(0,t.jsx)(o.Z,{size:20,className:"text-gray-400"})]}),sg&&(0,t.jsxs)("div",{className:"border-t p-4 space-y-4 bg-gray-50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Version to View:"}),(0,t.jsxs)("select",{value:sp,onChange:e=>sh(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Choose a version..."}),sx.map(e=>(0,t.jsx)("option",{value:e,children:new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})},e))]})]}),sp&&(()=>{let e={"2026-01-15":[{id:"V1",name:"Screening Visit",type:"One-time",payment:"$125"},{id:"V2",name:"Baseline Assessment",type:"One-time",payment:"$175"},{id:"V3",name:"Week 4 Follow-up",type:"Recurring",payment:"$100"},{id:"V4",name:"Month 3 Assessment",type:"One-time",payment:"$150"},{id:"V5",name:"Final Visit",type:"One-time",payment:"$200"}],"2026-01-01":[{id:"V1",name:"Initial Screening",type:"One-time",payment:"$100"},{id:"V2",name:"Baseline Visit",type:"One-time",payment:"$150"},{id:"V3",name:"Follow-up",type:"Recurring",payment:"$75"},{id:"V4",name:"Completion",type:"One-time",payment:"$175"}],"2025-12-15":[{id:"V1",name:"Screening",type:"One-time",payment:"$100"},{id:"V2",name:"Baseline",type:"One-time",payment:"$150"},{id:"V3",name:"Final Visit",type:"One-time",payment:"$150"}]}[sp]||[];return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h5",{className:"text-sm font-medium text-gray-900",children:["Version from ",new Date(sp).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})]}),(0,t.jsx)("span",{className:"text-xs text-gray-500 italic",children:"Read-only view"})]}),e.length>0?(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-100 border-b border-gray-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Visit ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Visit Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Type"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Payment"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded",children:e.id})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.name}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:e.type})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:e.payment})]},e.id))})]})}),(0,t.jsx)("div",{className:"px-4 py-3 bg-gray-100 border-t border-gray-200",children:(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["Showing ",e.length," visit(s)"]})})]}):(0,t.jsx)("div",{className:"text-center py-8 bg-white rounded-lg border border-gray-300",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"No visits found for this version"})})]})})()]})]})]}),"history"===V&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Audit History"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-blue-500",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["Status changed to ",(0,t.jsx)("span",{className:"font-medium",children:"Active"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"2 days ago"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"By Dr. Sarah Williams on Jan 3, 2026 at 2:45 PM"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-yellow-500",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["End date extended to ",(0,t.jsx)("span",{className:"font-medium",children:null===(a=sz?Z:U)||void 0===a?void 0:a.endDate})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"2 weeks ago"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"By Dr. Sarah Williams on Dec 22, 2025 at 4:30 PM"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900",children:"Study record created"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:null===(l=sz?Z:U)||void 0===l?void 0:l.startDate})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["By Dr. Sarah Williams on ",null===(d=sz?Z:U)||void 0===d?void 0:d.startDate," at 8:00 AM"]})]})]})]})]})]})]}),w&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>k(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Upload Multiple Studies"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Upload a CSV or Excel file with study data"})]}),(0,t.jsx)("button",{onClick:()=>k(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{onDragEnter:sw,onDragLeave:sw,onDragOver:sw,onDrop:e=>{e.preventDefault(),e.stopPropagation(),D(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&L(e.dataTransfer.files[0])},className:"border-2 border-dashed rounded-lg p-12 text-center transition-colors ".concat(z?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(E.Z,{className:"text-blue-600",size:32})}),R?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-gray-900",children:R.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[(R.size/1024).toFixed(2)," KB"]}),(0,t.jsx)("button",{onClick:()=>L(null),className:"text-sm text-red-600 hover:underline",children:"Remove file"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-900 mb-1",children:"Drag and drop your file here, or"}),(0,t.jsxs)("label",{className:"text-blue-600 hover:underline cursor-pointer",children:["browse files",(0,t.jsx)("input",{type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&L(e.target.files[0])},accept:".csv,.xlsx,.xls",className:"hidden"})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Supported formats: CSV, Excel (.xlsx, .xls)"})]})]})}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(q.Z,{className:"text-blue-600 mt-0.5",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900 mb-1",children:"Need a template?"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Download our CSV template with the required columns and sample data"}),(0,t.jsx)("button",{className:"text-sm text-blue-600 hover:underline",children:"Download Template"})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm",children:"Required fields in your file:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Study Name"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Principal Investigator"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Start Date"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Status"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>{k(!1),L(null)},className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{disabled:!R,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Upload and Import"})]})]})]})]}),A&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>M(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Export Studies"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Download study data in your preferred format"})]}),(0,t.jsx)("button",{onClick:()=>M(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Select Export Format"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportFormat",value:"excel",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-green-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Excel (.xlsx)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Best for data analysis and reporting"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportFormat",value:"csv",className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-blue-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"CSV (.csv)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Compatible with most applications"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Export Options"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsxs)("span",{className:"text-sm",children:["Include all studies (",sv.length," total)"]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include audit history"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Active studies only"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>M(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{M(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[(0,t.jsx)(q.Z,{size:20}),"Export Data"]})]})]})]})]}),ez&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>eD(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Upload Participant List"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Upload a CSV or Excel file with participant enrollment data"})]}),(0,t.jsx)("button",{onClick:()=>eD(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{onDragEnter:sC,onDragLeave:sC,onDragOver:sC,onDrop:e=>{e.preventDefault(),e.stopPropagation(),eF(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&eT(e.dataTransfer.files[0])},className:"border-2 border-dashed rounded-lg p-12 text-center transition-colors ".concat(eZ?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(E.Z,{className:"text-blue-600",size:32})}),eU?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-gray-900",children:eU.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[(eU.size/1024).toFixed(2)," KB"]}),(0,t.jsx)("button",{onClick:()=>eT(null),className:"text-sm text-red-600 hover:underline",children:"Remove file"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-900 mb-1",children:"Drag and drop your file here, or"}),(0,t.jsxs)("label",{className:"text-blue-600 hover:underline cursor-pointer",children:["browse files",(0,t.jsx)("input",{type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&eT(e.target.files[0])},accept:".csv,.xlsx,.xls",className:"hidden"})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Supported formats: CSV, Excel (.xlsx, .xls)"})]})]})}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(q.Z,{className:"text-blue-600 mt-0.5",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900 mb-1",children:"Need a template?"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Download our CSV template with the required columns and sample data"}),(0,t.jsx)("button",{className:"text-sm text-blue-600 hover:underline",children:"Download Template"})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm",children:"Required fields in your file:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Participant ID"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Participant Name"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Study Participant ID (optional)"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>{eD(!1),eT(null)},className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{disabled:!eU,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Upload and Import"})]})]})]})]}),eR&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>eL(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Upload Study Visits"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Upload a CSV or Excel file with study visit data"})]}),(0,t.jsx)("button",{onClick:()=>eL(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-900 mb-2",children:["Effective Date ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"date",value:eq,onChange:e=>eB(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"This will create a new version of the Payment Schedule as of the date above"})]}),(0,t.jsx)("div",{onDragEnter:sS,onDragLeave:sS,onDragOver:sS,onDrop:e=>{e.preventDefault(),e.stopPropagation(),eE(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&eI(e.dataTransfer.files[0])},className:"border-2 border-dashed rounded-lg p-12 text-center transition-colors ".concat(eV?"border-purple-500 bg-purple-50":"border-gray-300 bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(E.Z,{className:"text-purple-600",size:32})}),eK?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-gray-900",children:eK.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[(eK.size/1024).toFixed(2)," KB"]}),(0,t.jsx)("button",{onClick:()=>eI(null),className:"text-sm text-red-600 hover:underline",children:"Remove file"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-900 mb-1",children:"Drag and drop your file here, or"}),(0,t.jsxs)("label",{className:"text-purple-600 hover:underline cursor-pointer",children:["browse files",(0,t.jsx)("input",{type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&eI(e.target.files[0])},accept:".csv,.xlsx,.xls",className:"hidden"})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Supported formats: CSV, Excel (.xlsx, .xls)"})]})]})}),(0,t.jsx)("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(q.Z,{className:"text-purple-600 mt-0.5",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900 mb-1",children:"Need a template?"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Download our CSV template with the required columns and sample data"}),(0,t.jsx)("button",{className:"text-sm text-purple-600 hover:underline",children:"Download Template"})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm",children:"Required fields in your file:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full"}),"Visit ID"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full"}),"Visit Name"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full"}),"Visit Type"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-purple-600 rounded-full"}),"Payment Amount"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>{eL(!1),eI(null)},className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{disabled:!eK,onClick:()=>{eK&&(su([so,...sx]),sm(eq),eL(!1),eI(null),eB(new Date().toISOString().split("T")[0]),P.A.success("New payment schedule version created as of ".concat(new Date(eq).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))))},className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Upload and Import"})]})]})]})]}),eO&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>eH(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Export Participants"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Download participant enrollment data in your preferred format"})]}),(0,t.jsx)("button",{onClick:()=>eH(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Select Export Format"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportParticipantsFormat",value:"excel",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-green-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Excel (.xlsx)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Best for data analysis and reporting"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportParticipantsFormat",value:"csv",className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-blue-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"CSV (.csv)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Compatible with most applications"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Export Options"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsxs)("span",{className:"text-sm",children:["Include all enrolled participants (",((sz?null==Z?void 0:Z.participantList:sP?null==U?void 0:U.participantList:ex)||[]).length," total)"]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include Study Participant IDs"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include participant demographics"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>eH(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{P.A.success("Participant data exported successfully"),eH(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[(0,t.jsx)(q.Z,{size:20}),"Export Data"]})]})]})]})]}),eW&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>eJ(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Export Study Visits"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Download study visit data in your preferred format"})]}),(0,t.jsx)("button",{onClick:()=>eJ(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Select Export Format"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportVisitsFormat",value:"excel",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-green-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Excel (.xlsx)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Best for data analysis and reporting"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportVisitsFormat",value:"csv",className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-blue-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"CSV (.csv)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Compatible with most applications"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Export Options"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include all study visits"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include payment information"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include visit schedule details"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>eJ(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{P.A.success("Visit data exported successfully"),eJ(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[(0,t.jsx)(q.Z,{size:20}),"Export Data"]})]})]})]})]}),(0,t.jsx)(es,{isOpen:null!==K,onClose:()=>I(null),onConfirm:sk,title:"Archive Study",message:'Are you sure you want to archive "'.concat(null==K?void 0:K.name,'" (').concat(null==K?void 0:K.code,")? The study will be moved to the archive and can be restored later. All participant data associated with this study will remain intact."),confirmText:"Archive Study",variant:"danger",isLoading:y}),(0,t.jsx)(es,{isOpen:e5,onClose:()=>e3(!1),onConfirm:sA,title:"Confirm Rule Changes",message:"Updating the rules will impact future Payment Requests for this Participant. Do you want to continue with the changes?",confirmText:"Yes",cancelText:"No",variant:"warning"}),(0,t.jsx)(es,{isOpen:se,onClose:()=>ss(!1),onConfirm:()=>{ss(!1),f(!1),T(null),F(null),ee("details"),eu([]),em({}),en(""),eh(""),ej([]),eA(!1),eS([])},title:"Confirm Visit Changes",message:"Updating the visits will impact future Payment Requests for this Study. Do you want to continue with the changes?",confirmText:"Yes",cancelText:"No",variant:"warning"}),et&&(0,t.jsx)(Y,{study:et,selectedParticipants:er,onClose:()=>ei(null),onSave:(e,s)=>{console.log("Saved participants:",e),console.log("Study Participant IDs:",s),P.A.success("Study enrollment updated successfully!"),ei(null)}}),ed&&(0,t.jsx)(ea,{onClose:()=>ec(!1)})]})}function ei(e){let{participant:s,selectedStudies:a,onClose:r,onSave:l}=e,[n,d]=(0,i.useState)(""),[c,o]=(0,i.useState)(a),m=[{code:"CHS-2026-001",name:"Cardiovascular Health Study 2026",pi:"Dr. Sarah Williams",status:"Active"},{code:"NDR-2025-042",name:"Neurological Disorders Research",pi:"Dr. James Anderson",status:"Active"},{code:"DPT-2025-019",name:"Diabetes Prevention Trial",pi:"Dr. Michael Chen",status:"Active"},{code:"PNS-2026-008",name:"Pediatric Nutrition Study",pi:"Dr. Robert Taylor",status:"Recruiting"},{code:"CIS-2025-055",name:"Cancer Immunotherapy Study",pi:"Dr. Lisa Brown",status:"Active"},{code:"ATE-2025-031",name:"Arthritis Treatment Efficacy",pi:"Dr. David Kim",status:"Completed"},{code:"SDA-2026-003",name:"Sleep Disorder Analysis",pi:"Dr. Maria Martinez",status:"Planning"}],x=m.filter(e=>!c.includes(e.code)&&(e.code.toLowerCase().includes(n.toLowerCase())||e.name.toLowerCase().includes(n.toLowerCase()))),u=e=>{o([...c,e]),d("")},p=e=>{o(c.filter(s=>s!==e))};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:r}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full lg:w-2/3 xl:w-1/2 bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl",children:["Manage Study Enrollment (",s.name,")"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[s.participantId," - ",s.name]})]}),(0,t.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Add Studies"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by study code or name...",value:n,onChange:e=>d(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),n&&(0,t.jsx)("div",{className:"border border-gray-300 rounded-lg max-h-60 overflow-y-auto",children:x.length>0?x.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b last:border-b-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:[e.code," - ",e.name]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["PI: ",e.pi," | Status: ",e.status]})]}),(0,t.jsxs)("button",{onClick:()=>u(e.code),className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[(0,t.jsx)(B.Z,{size:16}),"Add"]})]},e.code)):(0,t.jsx)("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No studies found"})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b pb-2",children:[(0,t.jsx)("h3",{className:"text-lg",children:"Currently Enrolled"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[c.length," ",1!==c.length?"studies":"study"]})]}),c.length>0?(0,t.jsx)("div",{className:"space-y-2",children:c.map(e=>{let s=m.find(s=>s.code===e);return(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e}),s&&(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[s.name," - PI: ",s.pi]})]}),(0,t.jsx)("button",{onClick:()=>p(e),className:"px-3 py-1.5 text-sm text-red-600 hover:bg-red-50 rounded",children:"Withdraw"})]},e)})}):(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-gray-500",children:"Not enrolled in any studies"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Use the search above to enroll in studies"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:r,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>l(c),className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Enrollment"})]})]})]})]})}function er(e){let{currentAddress:s,onClose:a,onConfirm:i}=e,r={address1:s.address1||"3901 Rainbow Blvd",address2:s.address2||"MS 1039",city:s.city||"Kansas City",state:s.state||"KS",zip:s.zip||"66160",country:s.country||"United States"};return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between bg-blue-50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Address Verification"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Review and select the correct address format"})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 hover:bg-white rounded-lg transition-colors",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,t.jsx)("div",{className:"mb-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Note:"})," The address verification service uses Google Maps API to standardize and validate addresses. Please review both versions and select the most appropriate format."]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"border-2 border-gray-300 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-gray-100 px-4 py-3 border-b border-gray-300",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Current Address"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Address as entered"})]}),(0,t.jsxs)("div",{className:"p-4 space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"Address Line 1"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:s.address1||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"Address Line 2"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:s.address2||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"City"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:s.city||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"State"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:s.state||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"--"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"ZIP Code"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:s.zip||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"--"})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"Country"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1",children:s.country||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not provided"})})]})]})]}),(0,t.jsxs)("div",{className:"border-2 border-green-400 rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"bg-green-50 px-4 py-3 border-b border-green-300",children:[(0,t.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:["Verified Address",(0,t.jsx)("span",{className:"text-xs bg-green-600 text-white px-2 py-0.5 rounded",children:"Recommended"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:"Standardized by Google Maps"})]}),(0,t.jsxs)("div",{className:"p-4 space-y-3 bg-green-50/30",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"Address Line 1"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:r.address1})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"Address Line 2"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:r.address2||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not provided"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"City"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:r.city})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"State"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:r.state})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"ZIP Code"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:r.zip})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-xs text-gray-500 font-medium",children:"Country"}),(0,t.jsx)("p",{className:"text-sm text-gray-900 mt-1 font-medium",children:r.country})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"What's the difference?"}),(0,t.jsxs)("ul",{className:"text-xs text-gray-700 space-y-1 list-disc list-inside",children:[(0,t.jsx)("li",{children:"The verified address has been standardized using USPS formatting guidelines"}),(0,t.jsx)("li",{children:"Street names, abbreviations, and capitalization may have been corrected"}),(0,t.jsx)("li",{children:"Using the verified address improves mail delivery reliability"}),(0,t.jsx)("li",{children:"You can keep your current address if it's already correct"})]})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex gap-3",children:[(0,t.jsx)("button",{onClick:a,className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-100 font-medium transition-colors",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{i(s,!1)},className:"flex-1 px-6 py-3 border-2 border-blue-600 text-blue-600 bg-white rounded-lg hover:bg-blue-50 font-medium transition-colors",children:"Keep Current Address"}),(0,t.jsx)("button",{onClick:()=>{i(r,!0)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium shadow-sm transition-colors",children:"Use Verified Address"})]})]})]})}var el=a(41671);function en(e){let{participant:s,onClose:a,onVerified:r}=e,[l,n]=(0,i.useState)(s.firstName||""),[d,c]=(0,i.useState)(s.lastName||""),[o,m]=(0,i.useState)(s.ssn||""),[x,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),[g,y]=(0,i.useState)({firstName:"",lastName:"",ssn:""}),b=e=>{let s=e.replace(/\D/g,"");return s.length<=3?s:s.length<=5?"".concat(s.slice(0,3),"-").concat(s.slice(3)):"".concat(s.slice(0,3),"-").concat(s.slice(3,5),"-").concat(s.slice(5,9))},j=()=>{let e={firstName:"",lastName:"",ssn:""},s=!0;l.trim()?l.trim().length<2&&(e.firstName="First name must be at least 2 characters",s=!1):(e.firstName="First name is required",s=!1),d.trim()?d.trim().length<2&&(e.lastName="Last name must be at least 2 characters",s=!1):(e.lastName="Last name is required",s=!1);let a=o.replace(/\D/g,"");return o.trim()?9!==a.length?(e.ssn="SSN must be 9 digits",s=!1):/^\d{3}-\d{2}-\d{4}$/.test(o)||(e.ssn="SSN must be in format XXX-XX-XXXX",s=!1):(e.ssn="SSN is required",s=!1),y(e),s},N=async()=>{if(!j()){P.A.error("Please correct the errors before verifying");return}u(!0),setTimeout(()=>{u(!1),h(!0),P.A.success("Participant verified successfully",{description:"".concat(l," ").concat(d," has been verified"),duration:4e3}),r&&r({firstName:l.trim(),lastName:d.trim(),ssn:o.trim()})},1500)},v=()=>{x||a()};return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:v}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between bg-blue-50",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Participant Verification"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Verify participant identity against external verification service"})]}),(0,t.jsx)("button",{onClick:v,className:"p-2 hover:bg-white rounded-lg transition-colors",disabled:x,children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,t.jsx)("div",{className:"mb-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(M.Z,{size:20,className:"text-yellow-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-yellow-900",children:"Limited Verification Attempts"}),(0,t.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"The number of verification attempts is limited. Please ensure all information is accurate before proceeding."})]})]})}),(0,t.jsx)("div",{className:"mb-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(M.Z,{size:20,className:"text-blue-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("div",{children:(0,t.jsx)("p",{className:"text-sm text-gray-700",children:"This process will validate the participant's identity information against an external verification service."})})]})}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["First Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:l,onChange:e=>{n(e.target.value),g.firstName&&y(e=>({...e,firstName:""}))},className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ".concat(g.firstName?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"),placeholder:"Enter first name",disabled:x||p}),g.firstName&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,t.jsx)(M.Z,{size:14}),g.firstName]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Last Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:d,onChange:e=>{c(e.target.value),g.lastName&&y(e=>({...e,lastName:""}))},className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all ".concat(g.lastName?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"),placeholder:"Enter last name",disabled:x||p}),g.lastName&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,t.jsx)(M.Z,{size:14}),g.lastName]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Social Security Number (SSN) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>{m(b(e.target.value)),g.ssn&&y(e=>({...e,ssn:""}))},className:"w-full px-4 py-3 border rounded-lg focus:outline-none focus:ring-2 transition-all font-mono ".concat(g.ssn?"border-red-300 focus:ring-red-500 focus:border-red-500":"border-gray-300 focus:ring-blue-500 focus:border-blue-500"),placeholder:"XXX-XX-XXXX",maxLength:11,disabled:x||p}),g.ssn&&(0,t.jsxs)("p",{className:"mt-1 text-sm text-red-600 flex items-center gap-1",children:[(0,t.jsx)(M.Z,{size:14}),g.ssn]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Format: XXX-XX-XXXX (e.g., 123-45-6789)"})]})]}),p&&(0,t.jsx)("div",{className:"mt-6 bg-green-50 border border-green-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(el.Z,{size:20,className:"text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-semibold text-green-900",children:"Participant verified successfully"}),(0,t.jsxs)("p",{className:"text-sm text-green-700 mt-1",children:[l," ",d," has been successfully verified."]})]})]})})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 bg-gray-50 flex gap-3",children:[(0,t.jsx)("button",{onClick:v,className:"flex-1 px-6 py-3 border-2 border-gray-300 rounded-lg hover:bg-gray-100 font-medium transition-colors",disabled:x,children:p?"Close":"Cancel"}),!p&&(0,t.jsx)("button",{onClick:N,disabled:x,className:"flex-1 px-6 py-3 bg-ku-blue text-white rounded-lg hover:bg-ku-blue-dark font-medium shadow-sm transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Verifying..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(el.Z,{size:20}),"Verify Participant"]})})]})]})]})}function ed(){var e,s,a,n,d,m;let[x,u]=(0,i.useState)(""),[p,h]=(0,i.useState)("all"),[g,y]=(0,i.useState)(!1),[b,j]=(0,i.useState)(!1),[N,v]=(0,i.useState)(!1),[f,w]=(0,i.useState)(!1),[C,k]=(0,i.useState)(!1),[A,M]=(0,i.useState)(null),[z,D]=(0,i.useState)(null),[R,L]=(0,i.useState)(null),[U,T]=(0,i.useState)(null),[K,I]=(0,i.useState)("details"),[Z,F]=(0,i.useState)(null),[V,J]=(0,i.useState)(""),[Q,X]=(0,i.useState)(!1),[Y,ee]=(0,i.useState)(!1),[es,ea]=(0,i.useState)({address1:"",address2:"",city:"",state:"",zip:"",country:"United States"}),[et,el]=(0,i.useState)(!1),[ed,ec]=(0,i.useState)(""),[eo,em]=(0,i.useState)([]),[ex,eu]=(0,i.useState)({}),[ep,eh]=(0,i.useState)(""),[eg,ey]=(0,i.useState)(""),[eb,ej]=(0,i.useState)("No"),[eN,ev]=(0,i.useState)("No"),[ef,ew]=(0,i.useState)("Registered"),[eC,eS]=(0,i.useState)({}),ek=[{code:"CHS-2026-001",name:"Cardiovascular Health Study 2026",pi:"Dr. Sarah Williams",status:"Active"},{code:"NDR-2025-042",name:"Neurological Disorders Research",pi:"Dr. James Anderson",status:"Active"},{code:"DPT-2025-019",name:"Diabetes Prevention Trial",pi:"Dr. Michael Chen",status:"Active"},{code:"PNS-2026-008",name:"Pediatric Nutrition Study",pi:"Dr. Robert Taylor",status:"Recruiting"},{code:"CIS-2025-055",name:"Cancer Immunotherapy Study",pi:"Dr. Lisa Brown",status:"Active"},{code:"ATE-2025-031",name:"Arthritis Treatment Efficacy",pi:"Dr. David Kim",status:"Completed"},{code:"SDA-2026-003",name:"Sleep Disorder Analysis",pi:"Dr. Maria Martinez",status:"Planning"}],eA=[{id:1,participantId:"P-2026-001",name:"John Smith",firstName:"John",lastName:"Smith",dob:"1985-03-15",gender:"Male",study:"CHS-2026-001",enrollDate:"2025-08-15",status:"Active",participantStatus:"Active",visits:12,studyList:["CHS-2026-001","ATE-2025-031"],email:"john.smith@email.com",phone:"(555) 123-4567",location:"Home Visit - Johnson County Area",address1:"123 Main St",address2:"Apt 4B",city:"Kansas City",state:"KS",zip:"66101",country:"United States",ssn:"***-**-1234",withholdTax:"no",taxExempt:!1},{id:2,participantId:"P-2025-156",name:"Sarah Johnson",firstName:"Sarah",lastName:"Johnson",dob:"1990-07-22",gender:"Female",study:"NDR-2025-042",enrollDate:"2025-04-20",status:"Active",participantStatus:"Active",visits:8,studyList:["NDR-2025-042","CHS-2026-001"],email:"sarah.j@email.com",phone:"(555) 234-5678",location:"Community Health Center - Downtown",address1:"456 Oak Ave",address2:"",city:"Overland Park",state:"KS",zip:"66062",country:"United States",ssn:"***-**-5678",withholdTax:"yes",taxExempt:!1},{id:3,participantId:"P-2026-045",name:"Michael Brown",firstName:"Michael",lastName:"Brown",dob:"1978-11-30",gender:"Male",study:"DPT-2025-019",enrollDate:"2025-06-10",status:"Active",participantStatus:"Active",visits:15,studyList:["DPT-2025-019"],email:"mbrown@email.com",phone:"(555) 345-6789",location:"Virtual/Remote Participation",address1:"789 Elm Street",address2:"Suite 200",city:"Lenexa",state:"KS",zip:"66215",country:"United States",ssn:"***-**-9012",withholdTax:"no",taxExempt:!1},{id:4,participantId:"P-2026-089",name:"Emily Davis",firstName:"Emily",lastName:"Davis",dob:"1995-02-14",gender:"Female",study:"PNS-2026-008",enrollDate:"2026-01-05",status:"Screening",participantStatus:"Active",visits:2,studyList:["PNS-2026-008","NDR-2025-042"],email:"emily.d@email.com",phone:"(555) 456-7890",location:"Home Visit - Wyandotte County Area",address1:"321 Pine Rd",address2:"",city:"Kansas City",state:"MO",zip:"64110",country:"United States",ssn:"***-**-3456",withholdTax:"no",taxExempt:!1},{id:5,participantId:"P-2025-234",name:"Robert Wilson",firstName:"Robert",lastName:"Wilson",dob:"1982-09-08",gender:"Male",study:"CIS-2025-055",enrollDate:"2025-09-01",status:"Active",participantStatus:"Active",visits:10,studyList:["CIS-2025-055","PNS-2026-008"],email:"rwilson@email.com",phone:"(555) 567-8901",location:"Community Health Center - Downtown",address1:"654 Maple Dr",address2:"Unit 12",city:"Shawnee",state:"KS",zip:"66203",country:"United States",ssn:"***-**-7890",withholdTax:"yes",taxExempt:!0},{id:6,participantId:"P-2025-178",name:"Linda Martinez",firstName:"Linda",lastName:"Martinez",dob:"1988-05-19",gender:"Female",study:"DPT-2025-019",enrollDate:"2025-07-22",status:"Completed",participantStatus:"Inactive",visits:24,studyList:["DPT-2025-019","CHS-2026-001"],email:"linda.m@email.com",phone:"(555) 678-9012",location:"Home Visit - Johnson County Area",address1:"987 Cedar Ln",address2:"",city:"Olathe",state:"KS",zip:"66061",country:"United States",ssn:"***-**-2345",withholdTax:"no",taxExempt:!1},{id:7,participantId:"P-2025-298",name:"David Anderson",firstName:"David",lastName:"Anderson",dob:"1975-12-03",gender:"Male",study:"ATE-2025-031",enrollDate:"2024-03-15",status:"Completed",participantStatus:"Inactive",visits:18,studyList:["ATE-2025-031","DPT-2025-019","CIS-2025-055"],email:"danderson@email.com",phone:"(555) 789-0123",location:"Virtual/Remote Participation",address1:"147 Birch Ave",address2:"Bldg C",city:"Prairie Village",state:"KS",zip:"66208",country:"United States",ssn:"***-**-6789",withholdTax:"yes",taxExempt:!1},{id:8,participantId:"P-2026-012",name:"Jennifer Taylor",firstName:"Jennifer",lastName:"Taylor",dob:"1992-08-27",gender:"Female",study:"CHS-2026-001",enrollDate:"2025-08-28",status:"Active",participantStatus:"Active",visits:11,studyList:["CHS-2026-001"],email:"jtaylor@email.com",phone:"(555) 890-1234",location:"Community Health Center - Downtown",address1:"258 Walnut St",address2:"Apt 3A",city:"Kansas City",state:"KS",zip:"66102",country:"United States",ssn:"***-**-0123",withholdTax:"no",taxExempt:!1},{id:9,participantId:"P-2026-150",name:"Thomas Garcia",firstName:"Thomas",lastName:"Garcia",dob:"1987-06-18",gender:"Male",study:"SDA-2026-003",enrollDate:"2026-01-20",status:"Registered",participantStatus:"Active",visits:0,studyList:["SDA-2026-003"],email:"thomas.garcia@email.com",phone:"(555) 901-2345",location:"Outpatient Clinic - West Campus",address1:"741 Spruce St",address2:"",city:"Kansas City",state:"KS",zip:"66112",country:"United States",ssn:"***-**-4567",withholdTax:"no",taxExempt:!1},{id:10,participantId:"P-2026-151",name:"Jessica White",firstName:"Jessica",lastName:"White",dob:"1993-11-09",gender:"Female",study:"SDA-2026-003",enrollDate:"2026-01-22",status:"Registered",participantStatus:"Active",visits:0,studyList:["SDA-2026-003"],email:"jessica.white@email.com",phone:"(555) 012-3456",location:"Outpatient Clinic - West Campus",address1:"852 Ash Blvd",address2:"",city:"Overland Park",state:"KS",zip:"66085",country:"United States",ssn:"***-**-8901",withholdTax:"no",taxExempt:!1}],eM=eA.filter(e=>{let s=e.name.toLowerCase().includes(x.toLowerCase())||e.participantId.toLowerCase().includes(x.toLowerCase())||e.study.toLowerCase().includes(x.toLowerCase()),a="all"===p||e.participantStatus===p;return s&&a}),eP=()=>{j(!1),D(null),T(null),em([]),el(!1),ec(""),eu({}),I("details")},ez=null!==z,eD=null!==U&&null===z,eR=eD?U:ez?z:null;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm",children:(0,t.jsx)(l.Z,{className:"text-white",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Participants"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Manage study participants and enrollment"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>y(!g),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:g?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:g?(0,t.jsx)(c.Z,{size:20}):(0,t.jsx)(o.Z,{size:20})}),(0,t.jsx)("button",{onClick:()=>w(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:"Bulk Upload Participants from Excel",children:(0,t.jsx)(E.Z,{size:20})}),(0,t.jsx)("button",{onClick:()=>v(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-green-600 rounded-lg transition-all shadow-sm",title:"Export Participants to Excel",children:(0,t.jsx)(q.Z,{size:20})}),(0,t.jsxs)("button",{onClick:()=>j(!0),className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium shadow-sm transition-all",title:"Register New Participant",children:[(0,t.jsx)(B.Z,{size:20}),"Register Participant"]})]})]}),g&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Participants"}),(0,t.jsx)(l.Z,{className:"text-blue-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl",children:eA.length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Active"}),(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,t.jsx)("p",{className:"text-3xl",children:eA.filter(e=>"Active"===e.participantStatus).length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Inactive"}),(0,t.jsx)("div",{className:"w-3 h-3 bg-gray-500 rounded-full"})]}),(0,t.jsx)("p",{className:"text-3xl",children:eA.filter(e=>"Inactive"===e.participantStatus).length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Visits"}),(0,t.jsx)(S.Z,{className:"text-blue-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl",children:eA.reduce((e,s)=>e+s.visits,0)})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name, ID, or study...",value:x,onChange:e=>u(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.Z,{size:20,className:"text-gray-400"}),(0,t.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"Active",children:"Active"}),(0,t.jsx)("option",{value:"Inactive",children:"Inactive"})]})]})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Participant Code"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"DOB"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Address"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Linked Studies"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:eM.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:e.participantId}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("button",{onClick:()=>{T(e),em(e.studyList||[]),j(!0)},className:"text-blue-600 hover:underline text-left",children:e.name})}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.dob}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"text-sm",children:[e.address1,e.address2?", ".concat(e.address2):"",(0,t.jsx)("br",{}),e.city,", ",e.state," ",e.zip]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.studyList&&e.studyList.length>0?e.studyList.map(e=>(0,t.jsx)("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded-full font-medium",children:e},e)):(0,t.jsx)("span",{className:"text-gray-400 text-sm italic",children:"No studies"})})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===e.participantStatus?"bg-green-100 text-green-800":"Inactive"===e.participantStatus?"bg-gray-100 text-gray-800":"bg-red-100 text-red-800"),children:e.participantStatus})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{T(e),j(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:(0,t.jsx)(W.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>{D(e),em(e.studyList||[]),j(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:(0,t.jsx)($.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>{D(e),em(e.studyList||[]),I("studies"),j(!0)},className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Manage Study Enrollment",children:(0,t.jsx)(r.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>L(e),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Archive",children:(0,t.jsx)(_.Z,{size:16})})]})})]},e.id))})]})}),(0,t.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-gray-600",children:["Showing ",eM.length," of ",eA.length," participants"]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Previous"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-lg",children:"1"}),(0,t.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"2"}),(0,t.jsx)("button",{className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Next"})]})]})]}),Z&&(0,t.jsx)(ei,{participant:Z,selectedStudies:[],onClose:()=>F(null),onSave:()=>{F(null)}}),b&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:eP}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:[(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:eD?"View Participant (".concat(null==eR?void 0:eR.name,")"):ez?"Edit Participant (".concat(null==eR?void 0:eR.name,")"):"Register Participant"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:eD?"View participant details":ez?"Update participant information":"Enter participant details to register in study"})]}),(0,t.jsx)("button",{onClick:eP,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsx)("div",{className:"px-6",children:(0,t.jsxs)("div",{className:"flex gap-1 border-b border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>I("details"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("details"===K?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Details"}),(eD||ez)&&(0,t.jsx)("button",{onClick:()=>I("studies"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("studies"===K?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Studies"}),(eD||ez)&&(0,t.jsx)("button",{onClick:()=>I("history"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("history"===K?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Audit History"})]})})]}),(0,t.jsxs)("form",{className:"p-6 space-y-6",children:["details"===K&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Personal Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm mb-1 text-gray-700",children:["First Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:(null==eR?void 0:eR.firstName)||"",onChange:()=>{},readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"Enter first name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm mb-1 text-gray-700",children:["Last Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:(null==eR?void 0:eR.lastName)||"",onChange:()=>{},readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"Enter last name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm mb-1 text-gray-700",children:["Date of Birth ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"date",value:(null==eR?void 0:eR.dob)||"",onChange:()=>{},readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":"")})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm mb-1 text-gray-700",children:["Gender ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:(null==eR?void 0:eR.gender)||"",onChange:()=>{},disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),children:[(0,t.jsx)("option",{value:"",children:"-- Select --"}),(0,t.jsx)("option",{value:"Male",children:"Male"}),(0,t.jsx)("option",{value:"Female",children:"Female"}),(0,t.jsx)("option",{value:"Other",children:"Other"}),(0,t.jsx)("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm mb-1 text-gray-700",children:["Participant Status ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:(null==eR?void 0:eR.participantStatus)||"Active",onChange:e=>{!eD&&z&&D({...z,participantStatus:e.target.value})},disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),children:[(0,t.jsx)("option",{value:"Active",children:"Active"}),(0,t.jsx)("option",{value:"Inactive",children:"Inactive"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Contact Information"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm mb-1 text-gray-700",children:["Email Address ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"email",value:(null==eR?void 0:eR.email)||"",onChange:()=>{},readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"participant@email.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm mb-1 text-gray-700",children:["Phone Number ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"tel",value:(null==eR?void 0:eR.phone)||"",onChange:()=>{},readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"(555) 123-4567"})]}),(0,t.jsxs)("div",{className:"border-t border-gray-300 pt-4 mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("label",{className:"block text-gray-700 font-medium",children:"Mailing Address"}),!eD&&(0,t.jsx)("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline font-medium",onClick:()=>X(!0),children:"Verify Address"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 text-sm mb-2",children:["Address Line 1 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:(null==eR?void 0:eR.address1)||es.address1,onChange:e=>!eD&&ea({...es,address1:e.target.value}),readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"Street number and name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 text-sm mb-2",children:"Address Line 2"}),(0,t.jsx)("input",{type:"text",value:(null==eR?void 0:eR.address2)||es.address2,onChange:e=>!eD&&ea({...es,address2:e.target.value}),readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"Apartment, suite, unit, etc. (optional)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 text-sm mb-2",children:["City ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:(null==eR?void 0:eR.city)||es.city,onChange:e=>!eD&&ea({...es,city:e.target.value}),readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"City"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 text-sm mb-2",children:["State ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:(null==eR?void 0:eR.state)||es.state,onChange:e=>!eD&&ea({...es,state:e.target.value}),disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),children:[(0,t.jsx)("option",{value:"",children:"Select"}),(0,t.jsx)("option",{value:"KS",children:"Kansas"}),(0,t.jsx)("option",{value:"MO",children:"Missouri"}),(0,t.jsx)("option",{value:"AL",children:"Alabama"}),(0,t.jsx)("option",{value:"AK",children:"Alaska"}),(0,t.jsx)("option",{value:"AZ",children:"Arizona"}),(0,t.jsx)("option",{value:"AR",children:"Arkansas"}),(0,t.jsx)("option",{value:"CA",children:"California"}),(0,t.jsx)("option",{value:"CO",children:"Colorado"}),(0,t.jsx)("option",{value:"CT",children:"Connecticut"}),(0,t.jsx)("option",{value:"DE",children:"Delaware"}),(0,t.jsx)("option",{value:"FL",children:"Florida"}),(0,t.jsx)("option",{value:"GA",children:"Georgia"}),(0,t.jsx)("option",{value:"HI",children:"Hawaii"}),(0,t.jsx)("option",{value:"ID",children:"Idaho"}),(0,t.jsx)("option",{value:"IL",children:"Illinois"}),(0,t.jsx)("option",{value:"IN",children:"Indiana"}),(0,t.jsx)("option",{value:"IA",children:"Iowa"}),(0,t.jsx)("option",{value:"KY",children:"Kentucky"}),(0,t.jsx)("option",{value:"LA",children:"Louisiana"}),(0,t.jsx)("option",{value:"ME",children:"Maine"}),(0,t.jsx)("option",{value:"MD",children:"Maryland"}),(0,t.jsx)("option",{value:"MA",children:"Massachusetts"}),(0,t.jsx)("option",{value:"MI",children:"Michigan"}),(0,t.jsx)("option",{value:"MN",children:"Minnesota"}),(0,t.jsx)("option",{value:"MS",children:"Mississippi"}),(0,t.jsx)("option",{value:"MT",children:"Montana"}),(0,t.jsx)("option",{value:"NE",children:"Nebraska"}),(0,t.jsx)("option",{value:"NV",children:"Nevada"}),(0,t.jsx)("option",{value:"NH",children:"New Hampshire"}),(0,t.jsx)("option",{value:"NJ",children:"New Jersey"}),(0,t.jsx)("option",{value:"NM",children:"New Mexico"}),(0,t.jsx)("option",{value:"NY",children:"New York"}),(0,t.jsx)("option",{value:"NC",children:"North Carolina"}),(0,t.jsx)("option",{value:"ND",children:"North Dakota"}),(0,t.jsx)("option",{value:"OH",children:"Ohio"}),(0,t.jsx)("option",{value:"OK",children:"Oklahoma"}),(0,t.jsx)("option",{value:"OR",children:"Oregon"}),(0,t.jsx)("option",{value:"PA",children:"Pennsylvania"}),(0,t.jsx)("option",{value:"RI",children:"Rhode Island"}),(0,t.jsx)("option",{value:"SC",children:"South Carolina"}),(0,t.jsx)("option",{value:"SD",children:"South Dakota"}),(0,t.jsx)("option",{value:"TN",children:"Tennessee"}),(0,t.jsx)("option",{value:"TX",children:"Texas"}),(0,t.jsx)("option",{value:"UT",children:"Utah"}),(0,t.jsx)("option",{value:"VT",children:"Vermont"}),(0,t.jsx)("option",{value:"VA",children:"Virginia"}),(0,t.jsx)("option",{value:"WA",children:"Washington"}),(0,t.jsx)("option",{value:"WV",children:"West Virginia"}),(0,t.jsx)("option",{value:"WI",children:"Wisconsin"}),(0,t.jsx)("option",{value:"WY",children:"Wyoming"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 text-sm mb-2",children:["ZIP Code ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:(null==eR?void 0:eR.zip)||es.zip,onChange:e=>!eD&&ea({...es,zip:e.target.value}),readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"12345",maxLength:10})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-gray-700 text-sm mb-2",children:["Country ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:(null==eR?void 0:eR.country)||es.country,onChange:e=>!eD&&ea({...es,country:e.target.value}),disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),children:[(0,t.jsx)("option",{value:"United States",children:"United States"}),(0,t.jsx)("option",{value:"Canada",children:"Canada"}),(0,t.jsx)("option",{value:"Mexico",children:"Mexico"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-lg mb-4",children:"Tax Withholding"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("label",{className:"block text-gray-700",children:["Social Security Number (SSN) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),!eD&&(0,t.jsx)("button",{type:"button",className:"text-sm text-ku-blue hover:text-ku-blue-dark hover:underline",onClick:()=>ee(!0),children:"Verify Participant"})]}),(0,t.jsx)("input",{type:"text",value:(null==eR?void 0:eR.ssn)||"",onChange:()=>{},readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),placeholder:"XXX-XX-XXXX",maxLength:11})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm mb-1 text-gray-700",children:["Withhold Taxes? ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 px-4 py-3 border-2 border-gray-300 rounded-lg ".concat(eD?"bg-gray-100 cursor-not-allowed":"hover:bg-white cursor-pointer"),children:[(0,t.jsx)("input",{type:"radio",name:"withhold-tax",value:"yes",checked:(null==eR?void 0:eR.withholdTax)==="yes",onChange:()=>{!eD&&z&&D({...z,withholdTax:"yes"})},disabled:eD,className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-gray-700",children:"Yes - Withhold taxes from payments"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2 px-4 py-3 border-2 border-gray-300 rounded-lg ".concat(eD?"bg-gray-100 cursor-not-allowed":"hover:bg-white cursor-pointer"),children:[(0,t.jsx)("input",{type:"radio",name:"withhold-tax",value:"no",checked:(null==eR?void 0:eR.withholdTax)==="no"||!(null==eR?void 0:eR.withholdTax),onChange:()=>{!eD&&z&&D({...z,withholdTax:"no"})},disabled:eD,className:"w-4 h-4 text-blue-600 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-gray-700",children:"No - Do not withhold taxes"})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Select whether to withhold federal taxes from participant payments"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Tax Withholding Notes"}),(0,t.jsx)("textarea",{onChange:()=>{},readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),rows:2,placeholder:"Additional tax information or special circumstances"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm mb-1 text-gray-700",children:"Additional Notes"}),(0,t.jsx)("textarea",{onChange:()=>{},readOnly:eD,disabled:eD,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 ".concat(eD?"bg-gray-100 cursor-not-allowed":""),rows:4,placeholder:"Any additional information about this participant..."})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:eP,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:eD?"Close":"Cancel"}),!eD&&(0,t.jsx)("button",{type:"button",onClick:()=>{if(!z)return;let e="yes"===z.withholdTax?"Tax withholding enabled - 10% will be deducted from payments":"Tax withholding disabled";P.A.success("Participant ".concat(z.participantId," updated successfully. ").concat(e),{duration:5e3}),eP()},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:ez?"Update Participant":"Register Participant"})]})]}),"studies"===K&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Study Enrollment"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Manage studies this participant is enrolled in and assign study-specific participant IDs."})]}),!eD&&(0,t.jsxs)("button",{type:"button",onClick:()=>el(!et),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[(0,t.jsx)(B.Z,{size:16}),"Add Study"]})]}),!eD&&et&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Add Participant to Studies"}),(0,t.jsx)("button",{type:"button",onClick:()=>{el(!1),ec("")},className:"text-gray-500 hover:text-gray-700",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"relative mb-2",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by study code or name...",value:ed,onChange:e=>ec(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),ed&&(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg max-h-48 overflow-y-auto bg-white",children:[ek.filter(e=>!eo.includes(e.code)&&(e.code.toLowerCase().includes(ed.toLowerCase())||e.name.toLowerCase().includes(ed.toLowerCase()))).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 hover:bg-gray-50 border-b last:border-b-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:[e.code," - ",e.name]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["PI: ",e.pi," | Status: ",e.status]})]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{em([...eo,e.code]),ec(""),P.A.success("Enrolled in ".concat(e.name))},className:"flex items-center gap-1 px-3 py-1.5 text-sm bg-blue-600 text-white rounded hover:bg-blue-700",children:[(0,t.jsx)(B.Z,{size:16}),"Add"]})]},e.code)),0===ek.filter(e=>!eo.includes(e.code)&&(e.code.toLowerCase().includes(ed.toLowerCase())||e.name.toLowerCase().includes(ed.toLowerCase()))).length&&(0,t.jsx)("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No studies found"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h4",{className:"text-sm font-medium",children:["Enrolled Studies (",(null==eR?void 0:null===(e=eR.studyList)||void 0===e?void 0:e.length)||eo.length||0,")"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Filter studies...",value:V,onChange:e=>J(e.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),0===((eD?null==U?void 0:U.studyList:ez?null==z?void 0:z.studyList:eo)||[]).length?(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,t.jsx)(r.Z,{className:"mx-auto text-gray-400 mb-2",size:48}),(0,t.jsx)("p",{className:"text-gray-500",children:"No studies enrolled yet"}),!eD&&(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Use the search above to enroll this participant in studies"})]}):(0,t.jsx)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Study Code"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Study Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Study Participant ID"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Primary Location"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:((eD?null==U?void 0:U.studyList:ez?null==z?void 0:z.studyList:eo)||[]).filter(e=>{if(!V)return!0;let s=ek.find(s=>s.code===e),a=V.toLowerCase();return e.toLowerCase().includes(a)||(null==s?void 0:s.name.toLowerCase().includes(a))||!1}).map(e=>{let s=ek.find(s=>s.code===e);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:(null==s?void 0:s.name)||"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:ex[e]||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not assigned"})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:eC[e]||(0,t.jsx)("span",{className:"text-gray-400 italic",children:"Not assigned"})})]},e)})})]})})})]}),(0,t.jsxs)("div",{className:"border rounded-lg p-4 bg-white",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Participant - Study Setup"}),eD?(0,t.jsx)("p",{className:"text-sm text-gray-500 italic",children:"View mode - participant-study setup cannot be edited"}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Study ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:ep,onChange:e=>{eh(e.target.value),ey(ex[e.target.value]||""),ej("No"),ev("No"),ew("Registered")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Choose a study..."}),((ez?null==z?void 0:z.studyList:eo)||[]).map(e=>{let s=ek.find(s=>s.code===e);return(0,t.jsxs)("option",{value:e,children:[e," - ",(null==s?void 0:s.name)||"Unknown"]},e)})]})]}),ep&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Study Participant ID ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:eg,onChange:e=>ey(e.target.value),placeholder:"Enter study-specific participant ID...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Primary Location ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{value:eC[ep]||"",onChange:e=>{eS({...eC,[ep]:e.target.value})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select location..."}),(0,t.jsx)("option",{children:"Main Research Center - Building A"}),(0,t.jsx)("option",{children:"Outpatient Clinic - West Campus"}),(0,t.jsx)("option",{children:"Home Visit - Johnson County Area"}),(0,t.jsx)("option",{children:"Virtual/Remote Participation"}),(0,t.jsx)("option",{children:"Westwood"}),(0,t.jsx)("option",{children:"Corp"}),(0,t.jsx)("option",{children:"Remote"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Waive SSN"}),(0,t.jsxs)("select",{value:eb,onChange:e=>ej(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"No",children:"No"}),(0,t.jsx)("option",{value:"Yes",children:"Yes"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Withhold Taxes"}),(0,t.jsxs)("select",{value:eN,onChange:e=>ev(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"No",children:"No"}),(0,t.jsx)("option",{value:"Yes",children:"Yes"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Study Enrollment Status"}),(0,t.jsxs)("select",{value:ef,onChange:e=>ew(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"Registered",children:"Registered"}),(0,t.jsx)("option",{value:"Completed",children:"Completed"}),(0,t.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,t.jsx)("div",{className:"pt-2",children:(0,t.jsx)("button",{onClick:()=>{if(!eg.trim()){P.A.error("Study Participant ID is required");return}if(!eC[ep]){P.A.error("Primary Location is required");return}eu({...ex,[ep]:eg}),P.A.success("Participant-study setup saved successfully"),eh(""),ey(""),ej("No"),ev("No"),ew("Registered")},className:"w-full px-4 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium",children:"Save Changes"})})]})]})]})]}),(eD||ez)&&"history"===K&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2",children:"Audit History"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-green-500",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["Payment method updated to ",(0,t.jsx)("span",{className:"font-medium",children:"Direct Deposit"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"1 day ago"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"By Admin User on Jan 4, 2026 at 11:30 AM"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-blue-500",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["Visit #",null===(s=eD?U:z)||void 0===s?void 0:s.visits," completed"]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"3 days ago"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"By Study Coordinator on Jan 2, 2026 at 3:15 PM"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-yellow-500",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900",children:"Contact information updated"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"1 week ago"})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["By ",null===(a=eD?U:z)||void 0===a?void 0:a.name," on Dec 29, 2025 at 9:45 AM"]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-purple-500",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900",children:"W-9 form submitted and approved"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"2 weeks ago"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"By Finance Team on Dec 22, 2025 at 2:00 PM"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-orange-500",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-900",children:["Status changed to ",(0,t.jsx)("span",{className:"font-medium",children:null===(n=eD?U:z)||void 0===n?void 0:n.status})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"3 weeks ago"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"By Study Coordinator on Dec 15, 2025 at 10:00 AM"})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border-l-4 border-gray-400",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900",children:"Participant enrolled in study"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:null===(d=eD?U:z)||void 0===d?void 0:d.enrollDate})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:["By Study Coordinator on ",null===(m=eD?U:z)||void 0===m?void 0:m.enrollDate," at 9:00 AM"]})]})]})]})]})]})]}),N&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>v(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Export Participants"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Download participant data in your preferred format"})]}),(0,t.jsx)("button",{onClick:()=>v(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Select Export Format"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportFormat",value:"excel",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-green-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Excel (.xlsx)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Best for data analysis and reporting"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportFormat",value:"csv",className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-blue-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"CSV (.csv)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Compatible with most applications"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Export Options"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsxs)("span",{className:"text-sm",children:["Include all participants (",eA.length," total)"]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include audit history"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Active participants only"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>v(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{v(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[(0,t.jsx)(q.Z,{size:20}),"Export Data"]})]})]})]})]}),f&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>w(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Upload Multiple Participants"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Upload a CSV or Excel file with participant data"})]}),(0,t.jsx)("button",{onClick:()=>w(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsx)("div",{onDragEnter:()=>k(!0),onDragLeave:()=>k(!1),onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault(),k(!1),e.dataTransfer.files&&e.dataTransfer.files[0]&&M(e.dataTransfer.files[0])},className:"border-2 border-dashed rounded-lg p-12 text-center transition-colors ".concat(C?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"),children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(E.Z,{className:"text-blue-600",size:32})}),A?(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-gray-900",children:A.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:[(A.size/1024).toFixed(2)," KB"]}),(0,t.jsx)("button",{onClick:()=>M(null),className:"text-sm text-red-600 hover:underline",children:"Remove file"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-900 mb-1",children:"Drag and drop your file here, or"}),(0,t.jsxs)("label",{className:"text-blue-600 hover:underline cursor-pointer",children:["browse files",(0,t.jsx)("input",{type:"file",onChange:e=>{e.target.files&&e.target.files[0]&&M(e.target.files[0])},accept:".csv,.xlsx,.xls",className:"hidden"})]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Supported formats: CSV, Excel (.xlsx, .xls)"})]})]})}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(q.Z,{className:"text-blue-600 mt-0.5",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm text-gray-900 mb-1",children:"Need a template?"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Download our CSV template with the required columns and sample data"}),(0,t.jsx)("button",{className:"text-sm text-blue-600 hover:underline",children:"Download Template"})]})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm",children:"Required fields in your file:"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Participant ID"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"First Name"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Last Name"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-600 rounded-full"}),"Status"]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>{w(!1),M(null)},className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{disabled:!A,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed",children:"Upload and Import"})]})]})]})]}),R&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>L(null)}),(0,t.jsx)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-xl mb-4",children:"Archive Participant"}),(0,t.jsx)("p",{className:"text-gray-600 mb-2",children:"Are you sure you want to archive this participant? The participant will be moved to the archive and can be restored later."}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,t.jsxs)("p",{className:"mb-1",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Name:"})," ",R.name]}),(0,t.jsxs)("p",{className:"mb-1",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"ID:"})," ",R.participantId]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Study:"})," ",R.study]})]}),(0,t.jsx)("p",{className:"text-sm text-red-600 mb-6",children:"This action cannot be undone. All visit records and payment history for this participant will also be removed."}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>L(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{L(null),P.A.success("Participant archived successfully!")},className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Confirm Archive"})]})]})})]}),Q&&(0,t.jsx)(er,{currentAddress:es,onClose:()=>X(!1),onConfirm:(e,s)=>{ea(e),X(!1),s?P.A.success("Address verified and updated successfully!"):P.A.info("Keeping current address")}}),Y&&eR&&(0,t.jsx)(en,{participant:{firstName:eR.firstName||"",lastName:eR.lastName||"",ssn:eR.ssn||""},onClose:()=>ee(!1),onVerified:e=>{z&&D({...z,firstName:e.firstName,lastName:e.lastName,ssn:e.ssn,name:"".concat(e.firstName," ").concat(e.lastName)})}})]})}function ec(){let[e,s]=(0,i.useState)(""),[a,r]=(0,i.useState)("all"),[l,d]=(0,i.useState)(!1),[m,x]=(0,i.useState)(!1),[u,p]=(0,i.useState)(!1),h=[{id:1,fundingNumber:"NIH-R01-2025-001",fundingSource:"Cardiovascular Research Grant",sponsor:"NIH",piName:"Dr. Sarah Williams",totalAmount:25e5,startDate:"2025-01-01",endDate:"2029-12-31",status:"Active",linkedStudies:["CHS-2026-001","CHS-2026-002"],department:"Cardiology",fundingType:"Research Grant",fundingAgency:"National Institutes of Health",projectPeriod:"60 months"},{id:2,fundingNumber:"NSF-2024-456",fundingSource:"Neurological Disorders Initiative",sponsor:"NSF",piName:"Dr. James Anderson",totalAmount:18e5,startDate:"2024-06-01",endDate:"2027-05-31",status:"Active",linkedStudies:["NDR-2025-042"],department:"Neurology",fundingType:"Research Grant",fundingAgency:"National Science Foundation",projectPeriod:"36 months"},{id:3,fundingNumber:"CDC-2025-789",fundingSource:"Pediatric Nutrition Program",sponsor:"CDC",piName:"Dr. Robert Taylor",totalAmount:95e4,startDate:"2025-09-01",endDate:"2028-08-31",status:"Active",linkedStudies:["PNS-2026-008"],department:"Pediatrics",fundingType:"Program Grant",fundingAgency:"Centers for Disease Control",projectPeriod:"36 months"},{id:4,fundingNumber:"ADA-2024-321",fundingSource:"Diabetes Prevention Research",sponsor:"ADA",piName:"Dr. Michael Chen",totalAmount:32e5,startDate:"2024-03-01",endDate:"2029-02-28",status:"Active",linkedStudies:["DPT-2025-019","DPT-2025-020"],department:"Endocrinology",fundingType:"Research Grant",fundingAgency:"American Diabetes Association",projectPeriod:"60 months"},{id:5,fundingNumber:"NCI-2023-654",fundingSource:"Cancer Immunotherapy Studies",sponsor:"NCI",piName:"Dr. Lisa Brown",totalAmount:45e5,startDate:"2023-01-01",endDate:"2028-12-31",status:"Active",linkedStudies:["CIS-2025-055"],department:"Oncology",fundingType:"Research Grant",fundingAgency:"National Cancer Institute",projectPeriod:"72 months"},{id:6,fundingNumber:"NIH-R21-2026-099",fundingSource:"Sleep Research Initiative",sponsor:"NIH",piName:"Dr. Maria Martinez",totalAmount:75e4,startDate:"2026-04-01",endDate:"2028-03-31",status:"Pending",linkedStudies:[],department:"Neurology",fundingType:"Research Grant",fundingAgency:"National Institutes of Health",projectPeriod:"24 months"}],g=h.filter(s=>{let t=s.fundingNumber.toLowerCase().includes(e.toLowerCase())||s.fundingSource.toLowerCase().includes(e.toLowerCase())||s.sponsor.toLowerCase().includes(e.toLowerCase())||s.piName.toLowerCase().includes(e.toLowerCase()),i="all"===a||s.status===a;return t&&i});return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm",children:(0,t.jsx)(j.Z,{className:"text-white",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Funding and Grants"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Manage funding sources and grant allocations"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>d(!l),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:l?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:l?(0,t.jsx)(c.Z,{size:20}):(0,t.jsx)(o.Z,{size:20})}),(0,t.jsx)("button",{onClick:()=>x(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:"Upload Monthly Funding Data",children:(0,t.jsx)(E.Z,{size:20})}),(0,t.jsx)("button",{onClick:()=>p(!0),className:"p-2.5 text-gray-600 hover:bg-white hover:text-green-600 rounded-lg transition-all shadow-sm",title:"Export Funding to Excel",children:(0,t.jsx)(q.Z,{size:20})}),(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium shadow-sm transition-all",title:"Add New Funding",children:[(0,t.jsx)(B.Z,{size:20}),"Add Funding"]})]})]}),l&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Funding Sources"}),(0,t.jsx)(j.Z,{className:"text-blue-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl",children:h.length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Active Funding"}),(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,t.jsx)("p",{className:"text-3xl",children:h.filter(e=>"Active"===e.status).length})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Amount"}),(0,t.jsx)(n.Z,{className:"text-green-500",size:24})]}),(0,t.jsxs)("p",{className:"text-3xl",children:["$",(h.reduce((e,s)=>e+s.totalAmount,0)/1e6).toFixed(1),"M"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Linked Studies"}),(0,t.jsx)(j.Z,{className:"text-purple-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl",children:h.reduce((e,s)=>e+s.linkedStudies.length,0)})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by funding number, source, sponsor, or PI...",value:e,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.Z,{size:20,className:"text-gray-400"}),(0,t.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Status"}),(0,t.jsx)("option",{value:"Active",children:"Active"}),(0,t.jsx)("option",{value:"Pending",children:"Pending"}),(0,t.jsx)("option",{value:"Completed",children:"Completed"}),(0,t.jsx)("option",{value:"Closed",children:"Closed"})]})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Funding Number"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Funding Source"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Sponsor"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Principal Investigator"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Total Amount"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Period"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Linked Studies"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:g.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 font-medium",children:e.fundingNumber}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("button",{className:"text-blue-600 hover:underline text-left",children:e.fundingSource})}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.sponsor}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.piName}),(0,t.jsxs)("td",{className:"px-6 py-4",children:["$",(e.totalAmount/1e6).toFixed(2),"M"]}),(0,t.jsxs)("td",{className:"px-6 py-4 text-sm",children:[(0,t.jsx)("div",{children:e.startDate}),(0,t.jsxs)("div",{className:"text-gray-500",children:["to ",e.endDate]})]}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-sm",children:[e.linkedStudies.length," ",1===e.linkedStudies.length?"Study":"Studies"]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===e.status?"bg-green-100 text-green-800":"Pending"===e.status?"bg-yellow-100 text-yellow-800":"Completed"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:(0,t.jsx)(W.Z,{size:16})}),(0,t.jsx)("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:(0,t.jsx)($.Z,{size:16})})]})})]},e.id))})]})})}),m&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl",children:"Upload Funding Data"}),(0,t.jsx)("button",{onClick:()=>x(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[(0,t.jsx)(E.Z,{className:"mx-auto text-gray-400 mb-2",size:48}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Upload monthly funding data file"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Excel (.xlsx) or CSV format"}),(0,t.jsx)("input",{type:"file",accept:".xlsx,.xls,.csv",className:"mt-4"})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Note:"})," Upload monthly funding billing data to keep funding information up to date and connect studies to funding sources for billing purposes."]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>x(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{P.A.success("Funding data uploaded successfully"),x(!1)},className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Upload"})]})]})]})}),u&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>p(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-lg",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Export Funding"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Download funding data in your preferred format"})]}),(0,t.jsx)("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Select Export Format"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportFormat",value:"excel",defaultChecked:!0,className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-green-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"Excel (.xlsx)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Best for data analysis and reporting"})]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-3 p-4 border border-gray-300 rounded-lg hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"exportFormat",value:"csv",className:"w-4 h-4 text-blue-600"}),(0,t.jsx)(q.Z,{className:"text-blue-600",size:20}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium",children:"CSV (.csv)"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Compatible with most applications"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-3",children:"Export Options"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsxs)("span",{className:"text-sm",children:["Include all funding sources (",h.length," total)"]})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include linked studies"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Include billing information"})]}),(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsx)("span",{className:"text-sm",children:"Active funding only"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t",children:[(0,t.jsx)("button",{onClick:()=>p(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{P.A.success("Funding data exported successfully"),p(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 flex items-center justify-center gap-2",children:[(0,t.jsx)(q.Z,{size:20}),"Export Data"]})]})]})]})]})]})}var eo=a(83774),em=a(5005);function ex(){let[e,s]=(0,i.useState)("locations"),[a,r]=(0,i.useState)(""),[l,n]=(0,i.useState)(!1),[d,m]=(0,i.useState)(!1),[x,u]=(0,i.useState)(null),[p,h]=(0,i.useState)("all"),[g,y]=(0,i.useState)("all"),[b,N]=(0,i.useState)(!1),[v,f]=(0,i.useState)(null),[w,C]=(0,i.useState)("details"),[S,k]=(0,i.useState)(""),A=[{id:1,name:"University of Kansas Medical Center",code:"KUMC",type:"Medical Center",status:"Active",establishedDate:"1905-01-15",locationsCount:7,unitsCount:2}],M=[{id:1,name:"KUCC Westwood",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"2330 Shawnee Mission Pkwy, Westwood, KS 66205",address1:"2330 Shawnee Mission Pkwy",address2:"",city:"Westwood",state:"KS",zipCode:"66205",locationCode:"KUCC-WW",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:2,name:"CRC",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"4350 Shawnee Mission Pkwy, Fairway, KS 66205",address1:"4350 Shawnee Mission Pkwy",address2:"",city:"Fairway",state:"KS",zipCode:"66205",locationCode:"CRC",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:"KUCC, Research Clinic"},{id:3,name:"KUCC-Overland Park",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"12200 W 110th St., Overland Park, KS 66210",address1:"12200 W 110th St.",address2:"",city:"Overland Park",state:"KS",zipCode:"66210",locationCode:"KUCC-OP",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:4,name:"KUCC-East/Lee's Summit",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"4881 NE Goodview Cir, Lees Summit, MO 64064",address1:"4881 NE Goodview Cir",address2:"",city:"Lees Summit",state:"MO",zipCode:"64064",locationCode:"KUCC-E",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:5,name:"KUCC-North",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"8700 N Green Hills Road, Kansas City, MO 64154",address1:"8700 N Green Hills Road",address2:"",city:"Kansas City",state:"MO",zipCode:"64154",locationCode:"KUCC-N",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:6,name:"KUCC-Briarcliff",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"4150 N Mulberry Dr #150, Kansas City, MO 64116",address1:"4150 N Mulberry Dr #150",address2:"",city:"Kansas City",state:"MO",zipCode:"64116",locationCode:"KUCC-B",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:7,name:"KUCC-Other",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"",address1:"",address2:"",city:"",state:"",zipCode:"",locationCode:"KUCC-Other",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:8,name:"University of Kansas Medical Center",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"3901 Rainbow Blvd, Kansas City, KS 66160",address1:"3901 Rainbow Blvd",address2:"",city:"Kansas City",state:"KS",zipCode:"66160",locationCode:"KUMC",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:9,name:"University of Kansas Health-Main",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"4000 Cambridge, Kansas City, KS 66160",address1:"4000 Cambridge",address2:"",city:"Kansas City",state:"KS",zipCode:"66160",locationCode:"UKHS-Main",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""},{id:10,name:"University of Kansas-Midwest",organizationId:1,organizationName:"University of Kansas Medical Center",organizationCode:"KUMC",type:"Study Facility",address:"405 Renner Road Shawnee, KS 66217",address1:"405 Renner Road",address2:"",city:"Shawnee",state:"KS",zipCode:"66217",locationCode:"KUMW",status:"Active",contactName:"",contactEmail:"",contactPhone:"",notes:""}],P=A.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.code.toLowerCase().includes(a.toLowerCase())||e.type.toLowerCase().includes(a.toLowerCase())),z=M.filter(e=>{let s=e.name.toLowerCase().includes(a.toLowerCase())||e.address.toLowerCase().includes(a.toLowerCase())||e.locationCode.toLowerCase().includes(a.toLowerCase())||e.organizationName.toLowerCase().includes(a.toLowerCase()),t="all"===p||e.type===p,i="all"===g||e.organizationId.toString()===g;return s&&t&&i}),D=()=>{m(!1),u(null),k("")},R=()=>{N(!1),f(null),C("details"),k("")},L=M.length,U=A.reduce((e,s)=>e+s.unitsCount,0),T=[{id:1,locationId:1,name:"Cancer Center",code:"CC",address:"3901 Rainbow Blvd, Kansas City, KS 66160",status:"Active",description:"Cancer research and treatment"},{id:2,locationId:1,name:"Radiology",code:"RAD",address:"3901 Rainbow Blvd, Kansas City, KS 66160",status:"Active",description:"Diagnostic imaging services"},{id:3,locationId:2,name:"Cancer Center",code:"CC",address:"4000 Cambridge St, Kansas City, KS 66160",status:"Active",description:"Cancer research and treatment"},{id:4,locationId:4,name:"Radiology",code:"RAD",address:"5520 College Blvd, Overland Park, KS 66211",status:"Active",description:"Diagnostic imaging services"},{id:5,locationId:5,name:"Cancer Center",code:"CC",address:"4330 Shawnee Mission Pkwy, Fairway, KS 66205",status:"Active",description:"Cancer research and treatment"}].filter(e=>e.locationId===(null==v?void 0:v.id)&&(e.name.toLowerCase().includes(S.toLowerCase())||e.description.toLowerCase().includes(S.toLowerCase())));return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-ku-blue rounded-lg flex items-center justify-center shadow-sm",children:(0,t.jsx)(j.Z,{className:"text-white",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Organizations & Locations"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Manage organizational structure and locations"})]})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("button",{onClick:()=>n(!l),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:l?"Hide Statistics":"Show Statistics",children:l?(0,t.jsx)(c.Z,{size:20}):(0,t.jsx)(o.Z,{size:20})})})]}),l&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Organizations"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-ku-blue mt-1",children:A.length})]}),(0,t.jsx)(j.Z,{className:"text-ku-blue",size:32})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Locations"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-1",children:L})]}),(0,t.jsx)(eo.Z,{className:"text-purple-600",size:32})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Units/Programs"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-1",children:U})]}),(0,t.jsx)(em.Z,{className:"text-green-600",size:32})]})}),(0,t.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-sm border border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Active Organizations"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-blue-600 mt-1",children:A.filter(e=>"Active"===e.status).length})]}),(0,t.jsx)(j.Z,{className:"text-blue-600",size:32})]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"border-b border-gray-200 px-6",children:(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsx)("button",{onClick:()=>{s("locations"),r("")},className:"py-4 px-1 border-b-2 transition-colors ".concat("locations"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eo.Z,{size:20}),(0,t.jsx)("span",{className:"font-medium",children:"Locations"})]})}),(0,t.jsx)("button",{onClick:()=>{s("organizations"),r("")},className:"py-4 px-1 border-b-2 transition-colors ".concat("organizations"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(j.Z,{size:20}),(0,t.jsx)("span",{className:"font-medium",children:"Organizations"})]})})]})}),(0,t.jsxs)("div",{className:"p-6",children:["locations"===e&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search locations by name, code, address, or organization...",value:a,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("select",{value:g,onChange:e=>y(e.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Organizations"}),A.map(e=>(0,t.jsx)("option",{value:e.id.toString(),children:e.code},e.id))]}),(0,t.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Types"}),(0,t.jsx)("option",{value:"Study Facility",children:"Study Facility"}),(0,t.jsx)("option",{value:"Participant Location",children:"Participant Location"})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Organization"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Location Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Code"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Address"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:z.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-ku-blue rounded flex items-center justify-center",children:(0,t.jsx)(j.Z,{className:"text-white",size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.organizationCode}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.organizationName})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4 font-medium",children:e.name}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Study Facility"===e.type?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:e.type})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:e.locationCode})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm",children:e.address}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("button",{onClick:()=>{f(e),N(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Location Details",children:(0,t.jsx)(W.Z,{size:16})})})]},e.id))})]})})})]}),"organizations"===e&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"flex items-center gap-4",children:(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search organizations by name, code, or type...",value:a,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Organization Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Code"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Locations"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:P.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-ku-blue rounded-lg flex items-center justify-center",children:(0,t.jsx)(j.Z,{className:"text-white",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.name}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["Est. ",new Date(e.establishedDate).getFullYear()]})]})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:e.code})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:e.type})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eo.Z,{className:"text-purple-600",size:16}),(0,t.jsx)("span",{className:"font-medium",children:e.locationsCount}),(0,t.jsx)("span",{className:"text-sm text-gray-500",children:"locations"})]})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("button",{onClick:()=>{u(e),m(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Organization Details",children:(0,t.jsx)(W.Z,{size:16})})})]},e.id))})]})})})]})]})]}),b&&v&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:R}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:[(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl",children:["View Location (",null==v?void 0:v.name,")"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"View location details and associated units"})]}),(0,t.jsx)("button",{onClick:R,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsx)("div",{className:"px-6",children:(0,t.jsxs)("div",{className:"flex gap-1 border-b border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>C("details"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("details"===w?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Details"}),(0,t.jsx)("button",{onClick:()=>C("units"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("units"===w?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Units"})]})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:["details"===w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm text-gray-600 mb-3",children:"Location Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Location Name"}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:v.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Location Code"}),(0,t.jsx)("p",{className:"text-gray-900 font-mono bg-gray-100 px-3 py-1 rounded inline-block",children:v.locationCode})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Organization"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.organizationName}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:v.organizationCode})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Type"}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm ".concat("Study Facility"===v.type?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:v.type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Status"}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm ".concat("Active"===v.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:v.status})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm text-gray-600 mb-3",children:"Address"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Address Line 1"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.address1})]}),v.address2&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Address Line 2"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.address2})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"City"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.city||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"State"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.state||"N/A"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"ZIP Code"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.zipCode||"N/A"})]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm text-gray-600 mb-3",children:"Contact Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Contact Name"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.contactName||"Not specified"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Contact Phone"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.contactPhone||"Not specified"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Contact Email"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.contactEmail||"Not specified"})]})]})]}),v.notes&&(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm text-gray-600 mb-3",children:"Additional Notes"}),(0,t.jsx)("p",{className:"text-gray-900",children:v.notes})]})]}),"units"===w&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium",children:"Location Units/Programs"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Units and programs assigned to this location"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Filter units...",value:S,onChange:e=>k(e.target.value),className:"pl-9 pr-3 py-1.5 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]})]}),0===T.length?(0,t.jsxs)("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[(0,t.jsx)(em.Z,{className:"mx-auto text-gray-400 mb-2",size:48}),(0,t.jsx)("p",{className:"text-gray-500",children:"No units/programs assigned"})]}):(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Unit Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Code"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Address"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Description"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:T.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(em.Z,{className:"text-green-600",size:16}),e.name]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:e.code})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.address}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.description}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-xs bg-green-100 text-green-800",children:e.status})})]},e.id))})]}),(0,t.jsx)("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:(0,t.jsxs)("span",{className:"text-xs text-gray-600",children:["Showing ",T.length," unit(s)"]})})]})]}),(0,t.jsx)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:R,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})]}),d&&x&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:D}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl",children:["View Organization (",null==x?void 0:x.name,")"]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"View organization details"})]}),(0,t.jsx)("button",{onClick:D,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-sm text-gray-600 mb-3",children:"Organization Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Organization Name"}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:x.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Code"}),(0,t.jsx)("p",{className:"text-gray-900 font-mono bg-gray-100 px-3 py-1 rounded inline-block",children:x.code})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Type"}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:x.type})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Status"}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm ".concat("Active"===x.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:x.status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Established Date"}),(0,t.jsx)("p",{className:"text-gray-900",children:new Date(x.establishedDate).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Total Locations"}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:x.locationsCount})]})]})]}),(0,t.jsx)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:D,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Close"})})]})]})]})]})}function eu(e){let{onReturnToApp:s}=e,[a,r]=(0,i.useState)(!1);return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-blue-50 flex items-center justify-center p-4",children:[(0,t.jsxs)("div",{className:"w-full max-w-md",children:[(0,t.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("div",{className:"bg-white p-4 rounded-xl shadow-sm",children:(0,t.jsxs)("svg",{viewBox:"0 0 200 40",className:"h-16 w-auto",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("text",{x:"10",y:"28",fontFamily:"Arial, sans-serif",fontSize:"24",fontWeight:"bold",fill:"#0051BA",children:"KUMC"}),(0,t.jsx)("text",{x:"10",y:"38",fontFamily:"Arial, sans-serif",fontSize:"8",fill:"#0051BA",children:"Medical Center"})]})})}),(0,t.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Participant Payment Portal"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Clinical Research Study Management"})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:(0,t.jsx)(N.Z,{className:"text-blue-600",size:20})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-blue-900",children:"SAML 2.0 Authentication"}),(0,t.jsx)(el.Z,{size:16,className:"text-blue-600"})]}),(0,t.jsx)("p",{className:"text-xs text-blue-700",children:"Secure Single Sign-On enabled"})]})]})}),(0,t.jsx)("button",{onClick:()=>{r(!0),setTimeout(()=>{r(!1),s&&s()},2e3)},disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-medium py-4 px-6 rounded-lg transition-colors duration-200 flex items-center justify-center gap-3 mb-6",children:a?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),(0,t.jsx)("span",{children:"Authenticating..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(J.Z,{size:20}),(0,t.jsx)("span",{children:"Sign In with KUMC SSO"})]})}),(0,t.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 text-sm text-gray-600",children:[(0,t.jsx)(el.Z,{size:16,className:"text-green-600 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:"Enterprise-grade security with SAML 2.0"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 text-sm text-gray-600",children:[(0,t.jsx)(el.Z,{size:16,className:"text-green-600 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:"Seamless integration with institutional credentials"})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3 text-sm text-gray-600",children:[(0,t.jsx)(el.Z,{size:16,className:"text-green-600 flex-shrink-0 mt-0.5"}),(0,t.jsx)("span",{children:"HIPAA and 21 CFR Part 11 compliant"})]})]}),(0,t.jsxs)("div",{className:"relative my-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,t.jsx)("div",{className:"w-full border-t border-gray-200"})}),(0,t.jsx)("div",{className:"relative flex justify-center text-xs",children:(0,t.jsx)("span",{className:"bg-white px-2 text-gray-500",children:"SAML Service Provider"})})]}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"text-xs text-gray-600 space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Protocol:"}),(0,t.jsx)("span",{children:"SAML 2.0"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Binding:"}),(0,t.jsx)("span",{children:"HTTP-POST"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Entity ID:"}),(0,t.jsx)("span",{className:"font-mono",children:"kumc.edu/payment-portal"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"font-medium",children:"Status:"}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),"Connected"]})]})]})})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsxs)("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 inline-flex items-start gap-2 text-sm text-gray-600",children:[(0,t.jsx)(M.Z,{size:16,className:"text-blue-600 flex-shrink-0 mt-0.5"}),(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"font-medium text-gray-900 mb-1",children:"Need help signing in?"}),(0,t.jsxs)("p",{className:"text-xs",children:["Contact IT Support at"," ",(0,t.jsx)("a",{href:"mailto:support@kumc.edu",className:"text-blue-600 hover:underline",children:"support@kumc.edu"})]})]})]})}),(0,t.jsxs)("div",{className:"mt-8 text-center text-xs text-gray-500",children:[(0,t.jsx)("p",{children:"\xa9 2026 University of Kansas Medical Center"}),(0,t.jsxs)("p",{className:"mt-1",children:[(0,t.jsx)("a",{href:"#",className:"hover:text-gray-700",children:"Privacy Policy"}),"  ",(0,t.jsx)("a",{href:"#",className:"hover:text-gray-700",children:"Terms of Service"})]})]})]}),s&&(0,t.jsx)("button",{onClick:s,className:"fixed bottom-4 right-4 bg-gray-800 hover:bg-gray-700 text-white px-4 py-2 rounded-lg text-sm opacity-50 hover:opacity-100 transition-all z-50 shadow-lg",children:"Return to App (Demo)"})]})}var ep=a(82431),eh=a(54001),eg=a(30401);let ey=[{id:0,kumcUsername:"****",firstName:"Jennifer",lastName:"Staley",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Global Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-27 08:15 AM"},{id:1,kumcUsername:"****",firstName:"Matt",lastName:"Woolley",email:"****@kumc.edu",department:"IT Administration",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Global Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-27 07:30 AM"},{id:2,kumcUsername:"****",firstName:"Lisa",lastName:"Brown",email:"****@kumc.edu",department:"IT Support",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Global Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 07:00 AM"},{id:3,kumcUsername:"****",firstName:"Patrick",lastName:"Cruz",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:4,kumcUsername:"****",firstName:"Kimmy",lastName:"Clifton",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:45 PM"},{id:5,kumcUsername:"****",firstName:"Tashanna",lastName:"Sawyer",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:20 AM"},{id:6,kumcUsername:"****",firstName:"Douglas",lastName:"Ross",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:15 PM"},{id:7,kumcUsername:"****",firstName:"Ted",lastName:"Noravong",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:50 AM"},{id:8,kumcUsername:"****",firstName:"Megan",lastName:"Hummelgaard",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 04:30 PM"},{id:9,kumcUsername:"****",firstName:"Michael",lastName:"Chen",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:["DPT-2025-019","DPT-2025-020"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-22 04:45 PM"},{id:10,kumcUsername:"****",firstName:"Amber",lastName:"Unrein",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["CHS-2026-001"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:15 AM"},{id:11,kumcUsername:"****",firstName:"Cristal",lastName:"Monge",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["NDR-2025-042"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:30 AM"},{id:12,kumcUsername:"****",firstName:"Emily",lastName:"Kelly",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["DPT-2025-019"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:13,kumcUsername:"****",firstName:"Michelle",lastName:"Truesdale",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["PNS-2026-008"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:20 PM"},{id:14,kumcUsername:"****",firstName:"Jenae",lastName:"Moore",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["CHS-2026-001"],assignedLocations:["West Campus"],status:"Active",lastLogin:"2026-01-27 07:15 AM"},{id:15,kumcUsername:"****",firstName:"Ankita",lastName:"Tiwari",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:00 AM"},{id:16,kumcUsername:"****",firstName:"Emma",lastName:"Kelly",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:45 PM"},{id:17,kumcUsername:"****",firstName:"Morgan",lastName:"Brucks",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:30 AM"},{id:18,kumcUsername:"****",firstName:"Grace",lastName:"Heenan",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:15 PM"},{id:19,kumcUsername:"****",firstName:"Cary",lastName:"Felzien",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 11:20 AM"},{id:20,kumcUsername:"****",firstName:"Tamara",lastName:"Rounds",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:00 AM"},{id:21,kumcUsername:"****",firstName:"Keri",lastName:"Cox",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 04:50 PM"},{id:22,kumcUsername:"****",firstName:"Julianna",lastName:"McKee",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:45 AM"},{id:23,kumcUsername:"****",firstName:"Macaria",lastName:"Velasquez",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 09:30 AM"},{id:24,kumcUsername:"****",firstName:"Nasim",lastName:"Nosratinia",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:15 PM"},{id:25,kumcUsername:"****",firstName:"Anna",lastName:"Rice",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 10:00 AM"},{id:26,kumcUsername:"****",firstName:"Annie",lastName:"Henderson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:45 AM"},{id:27,kumcUsername:"****",firstName:"Jade",lastName:"Robichaud",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:30 AM"},{id:28,kumcUsername:"****",firstName:"Anna",lastName:"Brashear",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 04:20 PM"},{id:29,kumcUsername:"****",firstName:"April",lastName:"Langhammer",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:15 AM"},{id:30,kumcUsername:"****",firstName:"Sarah",lastName:"Irvin",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:31,kumcUsername:"****",firstName:"Leo",lastName:"Leonard",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:00 PM"},{id:32,kumcUsername:"****",firstName:"Raechel",lastName:"Camones",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:45 PM"},{id:33,kumcUsername:"****",firstName:"Anne",lastName:"Nugent",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:30 AM"},{id:34,kumcUsername:"****",firstName:"Theresa",lastName:"Howard",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:30 PM"},{id:35,kumcUsername:"****",firstName:"Hannah",lastName:"Melton",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:36,kumcUsername:"****",firstName:"Amanda",lastName:"Thimmesch",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:00 AM"},{id:37,kumcUsername:"****",firstName:"Nicole",lastName:"Mathis",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:15 PM"},{id:38,kumcUsername:"****",firstName:"Annette",lastName:"Becker",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:15 AM"},{id:39,kumcUsername:"****",firstName:"Lety",lastName:"Sarmiento",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 04:00 PM"},{id:40,kumcUsername:"****",firstName:"Olivia",lastName:"Price",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:00 AM"},{id:41,kumcUsername:"****",firstName:"Krystal",lastName:"Pittman",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:30 PM"},{id:42,kumcUsername:"****",firstName:"Jill",lastName:"Torneden",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:45 PM"},{id:43,kumcUsername:"****",firstName:"Ali",lastName:"Russo",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:15 AM"},{id:44,kumcUsername:"****",firstName:"Shannon",lastName:"Fletcher",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:45 AM"},{id:45,kumcUsername:"****",firstName:"Chelsey",lastName:"Aulukh",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:30 AM"},{id:46,kumcUsername:"****",firstName:"Megan",lastName:"Gangwish",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:20 PM"},{id:47,kumcUsername:"****",firstName:"Elizabeth",lastName:"Dillon",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 11:50 AM"},{id:48,kumcUsername:"****",firstName:"Vianca",lastName:"Williams",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:45 AM"},{id:49,kumcUsername:"****",firstName:"Alyssa",lastName:"Bowker",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:00 PM"},{id:50,kumcUsername:"****",firstName:"Asuka",lastName:"Suzuki",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:00 AM"},{id:51,kumcUsername:"****",firstName:"Rachel",lastName:"Nikolov",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:15 AM"},{id:52,kumcUsername:"****",firstName:"Esha",lastName:"Garg",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 04:30 PM"},{id:53,kumcUsername:"****",firstName:"Terry",lastName:"Christenson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:45 AM"},{id:54,kumcUsername:"****",firstName:"Nicholas",lastName:"Levine",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:30 AM"},{id:55,kumcUsername:"****",firstName:"Jillian",lastName:"Case",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:30 AM"},{id:56,kumcUsername:"****",firstName:"Hafsah",lastName:"Diakhate",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:00 PM"},{id:57,kumcUsername:"****",firstName:"Jodi",lastName:"Claybaugh",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:45 PM"},{id:58,kumcUsername:"****",firstName:"Sravya",lastName:"Kaparthi",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:20 AM"},{id:59,kumcUsername:"****",firstName:"Tanner",lastName:"Wilson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 04:15 PM"},{id:60,kumcUsername:"****",firstName:"Katie",lastName:"Chavez",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:61,kumcUsername:"****",firstName:"Sara",lastName:"Baker",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:30 AM"},{id:62,kumcUsername:"****",firstName:"Lauryn",lastName:"Gorby",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:00 PM"},{id:63,kumcUsername:"****",firstName:"Bethany",lastName:"Forseth",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:64,kumcUsername:"****",firstName:"Marion",lastName:"Leaman",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:30 PM"},{id:65,kumcUsername:"****",firstName:"Rachael",lastName:"Rawlings",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:15 AM"},{id:66,kumcUsername:"****",firstName:"Megan",lastName:"Murray",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:00 AM"},{id:67,kumcUsername:"****",firstName:"Jessie",lastName:"Lamphier",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:15 PM"},{id:68,kumcUsername:"****",firstName:"Daniel",lastName:"Rivera",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:30 AM"},{id:69,kumcUsername:"****",firstName:"Rahul",lastName:"Chanolian",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:45 PM"},{id:70,kumcUsername:"****",firstName:"Kelsey",lastName:"Strube",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:00 AM"},{id:71,kumcUsername:"****",firstName:"Abigayle",lastName:"Joyce",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:00 AM"},{id:72,kumcUsername:"****",firstName:"Grace",lastName:"Bolamperti",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 04:45 PM"},{id:73,kumcUsername:"****",firstName:"Madelyn",lastName:"Arnautov",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:30 AM"},{id:74,kumcUsername:"****",firstName:"Becca",lastName:"Johnson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:45 PM"},{id:75,kumcUsername:"****",firstName:"Luigi",lastName:"Boccardi",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:15 AM"},{id:76,kumcUsername:"****",firstName:"Sarina",lastName:"Fay",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:15 AM"},{id:77,kumcUsername:"****",firstName:"Crystal",lastName:"Billings",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:00 PM"},{id:78,kumcUsername:"****",firstName:"Vanessa",lastName:"Verschelden",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:79,kumcUsername:"****",firstName:"Kelsi",lastName:"Palacios",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:30 AM"},{id:80,kumcUsername:"****",firstName:"Nancy",lastName:"Ziegler",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:00 AM"},{id:81,kumcUsername:"****",firstName:"Kristin",lastName:"Fravel",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:15 PM"},{id:82,kumcUsername:"****",firstName:"Daijah",lastName:"Jones",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:83,kumcUsername:"****",firstName:"Yolanda",lastName:"Murr",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:45 AM"},{id:84,kumcUsername:"****",firstName:"Betsy",lastName:"Sweiger",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:30 PM"},{id:85,kumcUsername:"****",firstName:"John",lastName:"Mclean",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:15 AM"},{id:86,kumcUsername:"****",firstName:"Jordan",lastName:"Elliott",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:00 PM"},{id:87,kumcUsername:"****",firstName:"Emilia",lastName:"Potts",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:45 AM"},{id:88,kumcUsername:"****",firstName:"Bailey",lastName:"Foster",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:15 AM"},{id:89,kumcUsername:"****",firstName:"Kate",lastName:"Canova",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:30 PM"},{id:90,kumcUsername:"****",firstName:"Reagan",lastName:"Smith",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:45 AM"},{id:91,kumcUsername:"****",firstName:"Ashley",lastName:"Barry",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:00 PM"},{id:92,kumcUsername:"****",firstName:"Wamda",lastName:"Ahmed",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:30 AM"},{id:93,kumcUsername:"****",firstName:"Rachel",lastName:"Heueisen",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:00 AM"},{id:94,kumcUsername:"****",firstName:"Linda",lastName:"d'Silva",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:15 PM"},{id:95,kumcUsername:"****",firstName:"Rachel",lastName:"Ruiz",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:96,kumcUsername:"****",firstName:"Ronal",lastName:"Castro",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:45 AM"},{id:97,kumcUsername:"****",firstName:"Robin",lastName:"Davis",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:30 AM"},{id:98,kumcUsername:"****",firstName:"Andrea",lastName:"Klempnauer",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:00 PM"},{id:99,kumcUsername:"****",firstName:"Victoria",lastName:"Dorman",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:00 AM"},{id:100,kumcUsername:"****",firstName:"Emily",lastName:"Work",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:30 AM"},{id:101,kumcUsername:"****",firstName:"Rachel",lastName:"Holden",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:45 PM"},{id:102,kumcUsername:"****",firstName:"Dan",lastName:"Le",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:15 AM"},{id:103,kumcUsername:"****",firstName:"Julie-Ann",lastName:"Dutton",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:30 PM"},{id:104,kumcUsername:"****",firstName:"Lucas",lastName:"Lemar",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:00 AM"},{id:105,kumcUsername:"****",firstName:"Nashwa",lastName:"Mohammad",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:00 AM"},{id:106,kumcUsername:"****",firstName:"Mya",lastName:"Milius",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 04:15 PM"},{id:107,kumcUsername:"****",firstName:"Laura",lastName:"Crabtree",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:45 AM"},{id:108,kumcUsername:"****",firstName:"Makaila",lastName:"Pelter",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 01:30 PM"},{id:109,kumcUsername:"****",firstName:"Caitlin",lastName:"Payne",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:30 AM"},{id:110,kumcUsername:"****",firstName:"Stephanie",lastName:"Stauffer",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:15 AM"},{id:111,kumcUsername:"****",firstName:"Bria",lastName:"Bartsch",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 03:00 PM"},{id:112,kumcUsername:"****",firstName:"Max",lastName:"Hardenbrook",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:45 AM"},{id:113,kumcUsername:"****",firstName:"Grace",lastName:"Millington",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 02:00 PM"},{id:114,kumcUsername:"****",firstName:"Jacqueline",lastName:"Smart",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:15 AM"},{id:115,kumcUsername:"****",firstName:"Jeffery",lastName:"Honas",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:30 AM"},{id:116,kumcUsername:"****",firstName:"Mary",lastName:"Butler",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 01:15 PM"},{id:117,kumcUsername:"****",firstName:"Rafaela",lastName:"Nelson",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:118,kumcUsername:"****",firstName:"Francisca Javiera",lastName:"Allendes",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 10:45 AM"},{id:119,kumcUsername:"****",firstName:"Mia",lastName:"Smith",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 07:15 AM"},{id:120,kumcUsername:"****",firstName:"Jonath0n",lastName:"Barnette",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 03:45 PM"},{id:121,kumcUsername:"****",firstName:"Joseph",lastName:"Kelly",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 08:30 AM"},{id:122,kumcUsername:"****",firstName:"Whitney",lastName:"Theis",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-26 11:00 AM"},{id:123,kumcUsername:"****",firstName:"Cameron",lastName:"Zoraghchi",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-25 02:30 PM"},{id:124,kumcUsername:"****",firstName:"KUMCRI_batch",lastName:"KUMCRI_batch",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:[],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-27 09:00 AM"},{id:125,kumcUsername:"****",firstName:"Elena",lastName:"Garcia",email:"****@kumc.edu",department:"Neurology",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"",assignedStudies:[],assignedLocations:[],status:"Pending",lastLogin:""},{id:126,kumcUsername:"****",firstName:"John",lastName:"Williams",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["CHS-2026-001","NDR-2025-042"],assignedLocations:["Main Campus","West Campus"],status:"Active",lastLogin:"2026-01-23 09:15 AM"},{id:127,kumcUsername:"****",firstName:"Sarah",lastName:"Anderson",email:"****@kumc.edu",department:"Cardiology",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"System Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 08:30 AM"},{id:128,kumcUsername:"****",firstName:"Robert",lastName:"Taylor",email:"****@kumc.edu",department:"Pediatrics",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["PNS-2026-008"],assignedLocations:["Children's Hospital"],status:"Inactive",lastLogin:"2025-12-15 03:20 PM"},{id:129,kumcUsername:"****",firstName:"Jennifer",lastName:"Davis",email:"****@kumc.edu",department:"Reporting",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Report only",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 06:45 AM"}];function eb(){let[e,s]=(0,i.useState)("users"),[a,r]=(0,i.useState)(""),[l,n]=(0,i.useState)(!1),[d,m]=(0,i.useState)(""),[x,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(null),[g,y]=(0,i.useState)(null),[b,j]=(0,i.useState)("details"),[v,f]=(0,i.useState)(!1),[w,S]=(0,i.useState)(null),[k,A]=(0,i.useState)(null),[z,D]=(0,i.useState)("details"),[R,L]=(0,i.useState)(!1),[U]=(0,i.useState)(null),[T,K]=(0,i.useState)(""),[I,Z]=(0,i.useState)(!1),[F,V]=(0,i.useState)(!1),[E,q]=(0,i.useState)(!1),[B,H]=(0,i.useState)("idle"),[J,_]=(0,i.useState)(""),[Q,X]=(0,i.useState)(null),[Y,ee]=(0,i.useState)(""),[es,ea]=(0,i.useState)([]),et=[{kumcUsername:"****",firstName:"Elena",lastName:"Garcia",email:"****@kumc.edu",department:"Neurology"},{kumcUsername:"****",firstName:"David",lastName:"Kim",email:"****@kumc.edu",department:"Radiology"},{kumcUsername:"****",firstName:"Amanda",lastName:"Martin",email:"****@kumc.edu",department:"Oncology"},{kumcUsername:"****",firstName:"James",lastName:"Thompson",email:"****@kumc.edu",department:"Surgery"},{kumcUsername:"****",firstName:"Maria",lastName:"Rodriguez",email:"****@kumc.edu",department:"Emergency Medicine"},{kumcUsername:"****",firstName:"Patrick",lastName:"Lee",email:"****@kumc.edu",department:"Pathology"},{kumcUsername:"****",firstName:"Susan",lastName:"Wilson",email:"****@kumc.edu",department:"Nursing"},{kumcUsername:"****",firstName:"Thomas",lastName:"Nguyen",email:"****@kumc.edu",department:"Laboratory Medicine"}],ei=[{id:0,kumcUsername:"****",firstName:"Elena",lastName:"Garcia",email:"****@kumc.edu",department:"Neurology",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"",assignedStudies:[],assignedLocations:[],status:"Pending",lastLogin:""},{id:1,kumcUsername:"****",firstName:"John",lastName:"Williams",email:"****@kumc.edu",department:"Clinical Research",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["CHS-2026-001","NDR-2025-042"],assignedLocations:["Main Campus","West Campus"],status:"Active",lastLogin:"2026-01-23 09:15 AM"},{id:2,kumcUsername:"****",firstName:"Sarah",lastName:"Anderson",email:"****@kumc.edu",department:"Cardiology",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"System Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 08:30 AM"},{id:3,kumcUsername:"****",firstName:"Michael",lastName:"Chen",email:"****@kumc.edu",department:"Finance",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Approver",assignedStudies:["DPT-2025-019","DPT-2025-020"],assignedLocations:["Main Campus"],status:"Active",lastLogin:"2026-01-22 04:45 PM"},{id:4,kumcUsername:"****",firstName:"Lisa",lastName:"Brown",email:"****@kumc.edu",department:"IT Support",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Global Administrator",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 07:00 AM"},{id:5,kumcUsername:"****",firstName:"Robert",lastName:"Taylor",email:"****@kumc.edu",department:"Pediatrics",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Study Coordinator",assignedStudies:["PNS-2026-008"],assignedLocations:["Children's Hospital"],status:"Inactive",lastLogin:"2025-12-15 03:20 PM"},{id:6,kumcUsername:"****",firstName:"Jennifer",lastName:"Davis",email:"****@kumc.edu",department:"Reporting",organization:"KUMC",organizationName:"University of Kansas Medical Center",role:"Report only",assignedStudies:[],assignedLocations:[],status:"Active",lastLogin:"2026-01-23 06:45 AM"}],er=[{code:"CHS-2026-001",name:"Cardiovascular Health Study 2026"},{code:"NDR-2025-042",name:"Neurological Disorders Research"},{code:"PNS-2026-008",name:"Pediatric Nutrition Study"},{code:"DPT-2025-019",name:"Diabetes Prevention Trial - Adult"},{code:"DPT-2025-020",name:"Diabetes Prevention Trial - Pediatric"},{code:"CIS-2025-055",name:"Cancer Immunotherapy Study"}],el=["Main Campus","West Campus","East Campus","Children's Hospital","Cancer Center","Research Institute"],en=[{id:1,name:"Global Administrator",description:"Full system access with all permissions across all modules",userCount:3,permissions:["manage_users","manage_roles","manage_studies","manage_participants","manage_payments","manage_grants","manage_locations","view_reports","export_data","manage_settings","approve_payments","process_payments"],status:"Active"},{id:2,name:"System Administrator",description:"Technical system administration and configuration",userCount:1,permissions:["manage_users","manage_roles","manage_settings","view_reports","export_data","manage_locations"],status:"Active"},{id:3,name:"Study Coordinator",description:"Manages day-to-day study operations and participant interactions",userCount:117,permissions:["manage_participants","manage_visits","view_studies","view_payments","process_payments"],status:"Active"},{id:4,name:"Approver",description:"Reviews and approves participant payments and study activities",userCount:7,permissions:["approve_payments","view_participants","view_studies","view_payments","view_reports"],status:"Active"},{id:5,name:"Reader",description:"Read-only access to view study and participant information",userCount:1,permissions:["view_studies","view_participants","view_payments","view_grants","view_locations"],status:"Active"},{id:6,name:"Report only",description:"Access limited to viewing and exporting reports",userCount:1,permissions:["view_reports","export_data"],status:"Active"}],ed=[{id:"manage_users",name:"Manage Users",category:"User Management"},{id:"manage_roles",name:"Manage Roles",category:"User Management"},{id:"manage_studies",name:"Manage Studies",category:"Study Management"},{id:"view_studies",name:"View Studies",category:"Study Management"},{id:"manage_participants",name:"Manage Participants",category:"Participant Management"},{id:"view_participants",name:"View Participants",category:"Participant Management"},{id:"manage_visits",name:"Manage Visits",category:"Visit Management"},{id:"view_visits",name:"View Visits",category:"Visit Management"},{id:"manage_payments",name:"Manage Payments",category:"Payment Management"},{id:"process_payments",name:"Process Payments",category:"Payment Management"},{id:"view_payments",name:"View Payments",category:"Payment Management"},{id:"export_payment_data",name:"Export Payment Data",category:"Payment Management"},{id:"manage_grants",name:"Manage Grants",category:"Grant Management"},{id:"view_grants",name:"View Grants",category:"Grant Management"},{id:"manage_locations",name:"Manage Locations",category:"Location Management"},{id:"view_locations",name:"View Locations",category:"Location Management"},{id:"view_reports",name:"View Reports",category:"Reporting"},{id:"export_data",name:"Export Data",category:"Reporting"},{id:"manage_settings",name:"Manage System Settings",category:"System"},{id:"approve_payments",name:"Approve Payments",category:"Payment Management"}],ec=ey.filter(e=>{let s=e.kumcUsername.toLowerCase().includes(a.toLowerCase())||e.firstName.toLowerCase().includes(a.toLowerCase())||e.lastName.toLowerCase().includes(a.toLowerCase())||e.email.toLowerCase().includes(a.toLowerCase())||e.department.toLowerCase().includes(a.toLowerCase()),t=!d||e.role===d;return s&&t}),eo=en.filter(e=>e.name.toLowerCase().includes(a.toLowerCase())||e.description.toLowerCase().includes(a.toLowerCase())),em=null!==g&&null===p,ex=null!==p,eu=x||p||g,eb=ex?p:em?g:null,ej=null!==k&&null===w,eN=null!==w,ev=v||w||k,ef=eN?w:ej?k:null,ew=()=>{u(!1),h(null),y(null),_(""),X(null),ee(""),ea([])},eC=()=>{f(!1),S(null),A(null)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center shadow-sm",children:(0,t.jsx)(N.Z,{className:"text-white",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Roles and Permissions"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Manage users, roles, and permissions"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>n(!l),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:l?"Hide Statistics":"Show Statistics",children:l?(0,t.jsx)(c.Z,{size:20}):(0,t.jsx)(o.Z,{size:20})}),"users"===e&&(0,t.jsxs)("button",{onClick:()=>{V(!0),H("idle")},className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2.5 rounded-lg hover:bg-green-700 font-medium shadow-sm transition-all",children:[(0,t.jsx)(ep.Z,{size:20}),"Refresh Users"]})]})]}),l&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Users"}),(0,t.jsx)(C.Z,{className:"text-blue-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl",children:ei.length}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[ei.filter(e=>"Active"===e.status).length," active"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Roles"}),(0,t.jsx)(N.Z,{className:"text-green-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl",children:en.length}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[en.filter(e=>"Active"===e.status).length," active"]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Permissions"}),(0,t.jsx)(eh.Z,{className:"text-purple-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl",children:ed.length}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"System-wide"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Active Sessions"}),(0,t.jsx)("div",{className:"w-3 h-3 bg-green-500 rounded-full"})]}),(0,t.jsx)("p",{className:"text-3xl",children:ei.filter(e=>"Active"===e.status).length}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Logged in today"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"border-b border-gray-200 px-6",children:(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsx)("button",{onClick:()=>{s("users"),r("")},className:"py-4 px-1 border-b-2 transition-colors ".concat("users"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Z,{size:20}),(0,t.jsx)("span",{className:"font-medium",children:"Users"})]})}),(0,t.jsx)("button",{onClick:()=>{s("roles"),r("")},className:"py-4 px-1 border-b-2 transition-colors ".concat("roles"===e?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{size:20}),(0,t.jsx)("span",{className:"font-medium",children:"Roles & Permissions"})]})})]})}),(0,t.jsxs)("div",{className:"p-6",children:["users"===e&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by username, name, email, or department...",value:a,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("select",{value:d,onChange:e=>m(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white min-w-[200px]",children:[(0,t.jsx)("option",{value:"",children:"All Roles"}),(0,t.jsx)("option",{value:"Global Administrator",children:"Global Administrator"}),(0,t.jsx)("option",{value:"System Administrator",children:"System Administrator"}),(0,t.jsx)("option",{value:"Study Coordinator",children:"Study Coordinator"}),(0,t.jsx)("option",{value:"Approver",children:"Approver"}),(0,t.jsx)("option",{value:"Reader",children:"Reader"}),(0,t.jsx)("option",{value:"Report only",children:"Report only"})]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"KUMC Username"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Email"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Department"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Organization"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Role"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:ec.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 ".concat("Pending"===e.status?"bg-yellow-50":""),children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["Pending"===e.status&&(0,t.jsx)(M.Z,{className:"text-yellow-600",size:16}),(0,t.jsx)("span",{className:"font-medium font-mono text-sm",children:e.kumcUsername})]})}),(0,t.jsxs)("td",{className:"px-6 py-4",children:[e.firstName," ",e.lastName]}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm",children:e.email}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.department}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:e.organization})}),(0,t.jsx)("td",{className:"px-6 py-4",children:e.role?(0,t.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-xs",children:e.role}):(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"Not assigned"})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===e.status?"bg-green-100 text-green-800":"Pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>y(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:(0,t.jsx)(W.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>h(e),className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Edit",children:(0,t.jsx)($.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>{y(e),j("role")},className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Assign Role",children:(0,t.jsx)(N.Z,{size:16})})]})})]},e.id))})]})})})]}),"roles"===e&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by role name or description...",value:a,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Role Name"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Description"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:eo.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(N.Z,{className:"text-purple-600",size:20})}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,t.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-md",children:e.description}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>A(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View",children:(0,t.jsx)(W.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>{A(e),D("permissions")},className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"View Permissions",children:(0,t.jsx)(eh.Z,{size:16})})]})})]},e.id))})]})})})]})]})]}),F&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>{E||(V(!1),H("idle"))}}),(0,t.jsx)("div",{className:"relative bg-white rounded-lg shadow-xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-semibold",children:"Refresh Users from IDP"}),!E&&(0,t.jsx)("button",{onClick:()=>{V(!1),H("idle")},className:"p-1 hover:bg-gray-100 rounded",children:(0,t.jsx)(G.Z,{size:20})})]}),"idle"===B&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:'This will connect to the external Identity Provider (IDP) system and query for new users. Any new users will be added to the system with a "Pending" status.'}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>{q(!0),setTimeout(()=>{q(!1),H("success")},2e3)},className:"flex-1 bg-green-600 text-white px-4 py-2.5 rounded-lg hover:bg-green-700 font-medium",children:"Start Refresh"}),(0,t.jsx)("button",{onClick:()=>{V(!1),H("idle")},className:"flex-1 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]}),E&&(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(ep.Z,{className:"animate-spin mx-auto mb-4 text-green-600",size:48}),(0,t.jsx)("p",{className:"text-gray-600",children:"Connecting to IDP system..."}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Please wait while we query for new users"})]}),"success"===B&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-center py-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(eg.Z,{className:"text-green-600",size:32})}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Refresh Successful!"}),(0,t.jsx)("p",{className:"text-gray-600 mb-1",children:"Found 1 new user from IDP system"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:'New user has been added with "Pending" status'})]}),(0,t.jsx)("button",{onClick:()=>{V(!1),H("idle"),P.A.success("User list refreshed from IDP")},className:"w-full bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium",children:"Close"})]}),"error"===B&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-center py-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(G.Z,{className:"text-red-600",size:32})}),(0,t.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Refresh Failed"}),(0,t.jsx)("p",{className:"text-gray-600 mb-1",children:"Could not connect to IDP system"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Please try again later or contact IT support"})]}),(0,t.jsx)("button",{onClick:()=>{V(!1),H("idle")},className:"w-full bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700 font-medium",children:"Close"})]})]})})]}),eu&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:ew}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full max-w-2xl bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl",children:em?"View User":ex?"Edit User":"Add New User"}),eb&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:eb.kumcUsername})]}),(0,t.jsx)("button",{onClick:ew,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:24})})]}),eb?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"border-b border-gray-200 px-6 bg-gray-50",children:(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsx)("button",{onClick:()=>j("details"),className:"py-3 px-1 border-b-2 transition-colors ".concat("details"===b?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{size:18}),(0,t.jsx)("span",{className:"font-medium",children:"Details"})]})}),(0,t.jsx)("button",{onClick:()=>j("role"),className:"py-3 px-1 border-b-2 transition-colors ".concat("role"===b?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eh.Z,{size:18}),(0,t.jsx)("span",{className:"font-medium",children:"Role"})]})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:["details"===b&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2 mb-4",children:"User Information"}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"KUMC Username:"}),(0,t.jsx)("span",{className:"text-sm font-mono font-medium",children:(null==eb?void 0:eb.kumcUsername)||"N/A"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"Name:"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[(null==eb?void 0:eb.firstName)||""," ",(null==eb?void 0:eb.lastName)||""]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"Email:"}),(0,t.jsx)("span",{className:"text-sm",children:(null==eb?void 0:eb.email)||"N/A"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"Department:"}),(0,t.jsx)("span",{className:"text-sm",children:(null==eb?void 0:eb.department)||"N/A"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"Status:"}),(0,t.jsx)("span",{className:"text-sm px-2 py-0.5 rounded-full ".concat((null==eb?void 0:eb.status)==="Active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:(null==eb?void 0:eb.status)||"N/A"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"Last Login:"}),(0,t.jsx)("span",{className:"text-sm",children:(null==eb?void 0:eb.lastLogin)||"N/A"})]})]})}),eb&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Assigned Locations"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:eb.assignedLocations.length>0?eb.assignedLocations.map((e,s)=>(0,t.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm flex items-center gap-2",children:[e,!em&&(0,t.jsx)("button",{className:"text-green-600 hover:text-green-800",children:(0,t.jsx)(G.Z,{size:14})})]},s)):(0,t.jsx)("span",{className:"text-sm text-gray-400 py-1",children:"Access to all locations"})}),!em&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Search and add locations...",value:T,onChange:e=>K(e.target.value),onFocus:()=>Z(!0),onBlur:()=>setTimeout(()=>Z(!1),200),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),I&&T&&(0,t.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[el.filter(e=>e.toLowerCase().includes(T.toLowerCase())&&!eb.assignedLocations.includes(e)).map(e=>(0,t.jsx)("button",{onClick:()=>{P.A.success("Added location: ".concat(e)),K(""),Z(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:(0,t.jsx)("div",{className:"text-sm",children:e})},e)),0===el.filter(e=>e.toLowerCase().includes(T.toLowerCase())&&!eb.assignedLocations.includes(e)).length&&(0,t.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No locations found"})]})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Studies (via Assigned Locations)"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Studies accessible through assigned locations"}),eb.assignedStudies.length>0?(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Study Code"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Study Name"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:eb.assignedStudies.map((e,s)=>{let a=er.find(s=>s.code===e);return(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-2 text-sm font-mono",children:e}),(0,t.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600",children:(null==a?void 0:a.name)||"Unknown Study"})]},s)})})]})}):(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 text-center",children:(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"Access to all studies"})})]})]})]}),"role"===b&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg",children:"Role Assignment"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:["Current: ",eb.role]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Note:"})," ",em?"This role is currently assigned to this user.":"Select one role for this user. The user will inherit all permissions from the selected role."]})}),(0,t.jsx)("div",{className:"space-y-2",children:en.map(e=>{let s=eb.role===e.name;return(0,t.jsxs)("label",{className:"flex items-center justify-between p-4 border rounded-lg ".concat(em?"":"cursor-pointer hover:bg-gray-50"," ").concat(s?"border-purple-300 bg-purple-50":"border-gray-200"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("input",{type:"radio",name:"user-role",defaultChecked:s,disabled:em,className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5",children:e.description}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[e.permissions.slice(0,3).map((e,s)=>(0,t.jsx)("span",{className:"px-2 py-0.5 bg-blue-50 text-blue-700 rounded text-xs",children:e.replace(/_/g," ")},s)),e.permissions.length>3&&(0,t.jsxs)("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-600 rounded text-xs",children:["+",e.permissions.length-3," more"]})]})]})]}),s&&(0,t.jsx)(eg.Z,{className:"text-purple-600 flex-shrink-0 ml-3",size:20})]},e.id)})})]})]})]}):(0,t.jsx)("div",{className:"p-6 space-y-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2 mb-4",children:"Search IDP User"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by name...",value:J,onChange:e=>_(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),J&&!Q&&(0,t.jsxs)("div",{className:"mt-3 border border-gray-300 rounded-lg max-h-64 overflow-y-auto",children:[et.filter(e=>e.firstName.toLowerCase().includes(J.toLowerCase())||e.lastName.toLowerCase().includes(J.toLowerCase())||e.kumcUsername.toLowerCase().includes(J.toLowerCase())).map(e=>(0,t.jsxs)("button",{onClick:()=>{X(e),_("")},className:"w-full text-left px-4 py-3 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:[(0,t.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[e.kumcUsername,"  ",e.email]}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:e.department})]},e.kumcUsername)),0===et.filter(e=>e.firstName.toLowerCase().includes(J.toLowerCase())||e.lastName.toLowerCase().includes(J.toLowerCase())||e.kumcUsername.toLowerCase().includes(J.toLowerCase())).length&&(0,t.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No users found"})]}),Q&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mt-4 bg-gray-50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Selected User"}),(0,t.jsx)("button",{onClick:()=>X(null),className:"text-sm text-blue-600 hover:text-blue-700",children:"Change"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"KUMC Username:"}),(0,t.jsx)("span",{className:"text-sm font-mono font-medium",children:Q.kumcUsername})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"Name:"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[Q.firstName," ",Q.lastName]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"Email:"}),(0,t.jsx)("span",{className:"text-sm",children:Q.email})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600 w-32",children:"Department:"}),(0,t.jsx)("span",{className:"text-sm",children:Q.department})]})]})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2 mb-4",children:"Assign Role"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Select one role for this user:"}),(0,t.jsx)("div",{className:"space-y-2",children:en.map(e=>(0,t.jsxs)("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50 ".concat(Y===e.name?"border-purple-300 bg-purple-50":"border-gray-200"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-1",children:[(0,t.jsx)("input",{type:"radio",name:"add-user-role",checked:Y===e.name,onChange:()=>ee(e.name),className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]}),Y===e.name&&(0,t.jsx)(eg.Z,{className:"text-purple-600 flex-shrink-0",size:16})]},e.id))})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2 mb-4",children:"Assign Locations"}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:es.length>0?es.map((e,s)=>(0,t.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm flex items-center gap-2",children:[e,(0,t.jsx)("button",{onClick:()=>ea(es.filter(s=>s!==e)),className:"text-green-600 hover:text-green-800",children:(0,t.jsx)(G.Z,{size:14})})]},s)):(0,t.jsx)("span",{className:"text-sm text-gray-400 py-1",children:"Access to all locations (no restrictions)"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",placeholder:"Search and add locations...",value:T,onChange:e=>K(e.target.value),onFocus:()=>Z(!0),onBlur:()=>setTimeout(()=>Z(!1),200),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),I&&T&&(0,t.jsxs)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[el.filter(e=>e.toLowerCase().includes(T.toLowerCase())&&!es.includes(e)).map(e=>(0,t.jsx)("button",{onClick:()=>{ea([...es,e]),K(""),Z(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 border-b border-gray-100 last:border-b-0",children:(0,t.jsx)("div",{className:"text-sm",children:e})},e)),0===el.filter(e=>e.toLowerCase().includes(T.toLowerCase())&&!es.includes(e)).length&&(0,t.jsx)("div",{className:"px-4 py-3 text-sm text-gray-500 text-center",children:"No locations found"})]})]})]})]})]})}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:ew,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:em?"Close":"Cancel"}),!em&&(0,t.jsx)("button",{onClick:()=>{P.A.success(ex?"User updated successfully":"User added successfully"),ew()},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:ex?"Save Changes":"Add User"})]})})]})]}),ev&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:eC}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full max-w-3xl bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between z-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl",children:"View Role"}),ef&&(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:ef.name})]}),(0,t.jsx)("button",{onClick:eC,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:24})})]}),ef&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"border-b border-gray-200 px-6 bg-gray-50",children:(0,t.jsxs)("div",{className:"flex gap-6",children:[(0,t.jsx)("button",{onClick:()=>D("details"),className:"py-3 px-1 border-b-2 transition-colors ".concat("details"===z?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.Z,{size:18}),(0,t.jsx)("span",{className:"font-medium",children:"Details"})]})}),(0,t.jsx)("button",{onClick:()=>D("permissions"),className:"py-3 px-1 border-b-2 transition-colors ".concat("permissions"===z?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eh.Z,{size:18}),(0,t.jsx)("span",{className:"font-medium",children:"Permissions"})]})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:["details"===z&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2 mb-4",children:"Role Information"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Role Name"}),(0,t.jsx)("p",{className:"py-2 text-gray-900",children:null==ef?void 0:ef.name})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Description"}),(0,t.jsx)("p",{className:"py-2 text-gray-900",children:null==ef?void 0:ef.description})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Status"}),(0,t.jsx)("p",{className:"py-2",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm ".concat("Active"===ef.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:ef.status})})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-lg border-b pb-2 mb-4",children:"Users with this Role"}),ei.filter(e=>e.role===ef.name).length>0?(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Username"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Name"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Email"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Department"}),(0,t.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-600",children:"Status"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:ei.filter(e=>e.role===ef.name).map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-mono",children:e.kumcUsername}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm",children:[e.firstName," ",e.lastName]}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.email}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm",children:e.department}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("Active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:e.status})})]},e.id))})]})}):(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 text-center",children:[(0,t.jsx)(C.Z,{className:"mx-auto text-gray-300 mb-2",size:48}),(0,t.jsx)("p",{className:"text-sm text-gray-400",children:"No users assigned to this role"})]})]})]}),"permissions"===z&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg",children:"Manage Permissions"}),(0,t.jsxs)("span",{className:"text-sm text-gray-500",children:[ef.permissions.length," of ",ed.length," selected"]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Note:"})," These permissions are currently assigned to this role."]})}),(0,t.jsx)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:Object.entries((()=>{let e={};return ed.forEach(s=>{e[s.category]||(e[s.category]=[]),e[s.category].push(s)}),e})()).map((e,s)=>{let[a,i]=e;return(0,t.jsxs)("div",{className:s>0?"border-t border-gray-200":"",children:[(0,t.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:a})}),(0,t.jsx)("div",{className:"p-4 space-y-3",children:i.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-3 p-2 rounded",children:[(0,t.jsx)("input",{type:"checkbox",checked:ef.permissions.includes(e.id),disabled:!0,className:"w-4 h-4 text-blue-600 rounded"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:["Permission ID: ",e.id]})]})]},e.id))})]},a)})})]})]}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:(0,t.jsx)("div",{className:"flex gap-3",children:(0,t.jsx)("button",{onClick:eC,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Close"})})})]})]})]}),R&&U&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>L(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:"Assign Role"}),(0,t.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[U.firstName," ",U.lastName]})]}),(0,t.jsx)("button",{onClick:()=>L(!1),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 max-h-96 overflow-y-auto",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Select one role for this user:"}),(0,t.jsx)("div",{className:"space-y-2",children:en.map(e=>{let s=U.role===e.name;return(0,t.jsxs)("label",{className:"flex items-center justify-between p-3 border rounded-lg cursor-pointer hover:bg-gray-50 ".concat(s?"border-purple-300 bg-purple-50":"border-gray-200"),children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("input",{type:"radio",name:"user-role",defaultChecked:s,className:"w-4 h-4 text-blue-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-sm",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.description})]})]}),s&&(0,t.jsx)(eg.Z,{className:"text-purple-600",size:16})]},e.id)})})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 px-6 py-4 flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>L(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{P.A.success("Role updated successfully"),L(!1)},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Save Changes"})]})]})]})]})}var ej=a(91723),eN=a(49663),ev=a(92934),ef=a(11239),ew=a(65621),eC=a(99388);function eS(e){var s;let{isViewMode:a,isEditMode:r,activeTab:l,setActiveTab:n,onClose:d,viewingPayment:c,editingPayment:o}=e,m=a?c:o,[x,u]=(0,i.useState)((null==m?void 0:m.recipientType)||"Participant"),[p,h]=(0,i.useState)((null==m?void 0:m.participantName)||""),[g,y]=(0,i.useState)((null==m?void 0:m.requestType)||"Payment"),[b,j]=(0,i.useState)((null==m?void 0:m.study)||""),[N,v]=(0,i.useState)(""),[f,w]=(0,i.useState)((null==m?void 0:m.type)||""),[C,S]=(0,i.useState)((null==m?void 0:m.amount)||0),[k,A]=(0,i.useState)(0),[M,z]=(0,i.useState)(.67),[D,R]=(0,i.useState)(0),[L,U]=(0,i.useState)(0),[T,K]=(0,i.useState)(0),[I,Z]=(0,i.useState)(!1),[F,V]=(0,i.useState)(!1),[q,B]=(0,i.useState)(""),[H,W]=(0,i.useState)(null),[J,$]=(0,i.useState)(!1),[_,X]=(0,i.useState)((null==m?void 0:m.requester)||""),Y=[{id:"CHS-2026-001",name:"Cardiovascular Health Study"},{id:"NDR-2025-042",name:"Neurological Disorders Research"},{id:"DPT-2025-019",name:"Diabetes Prevention Trial"},{id:"PNS-2026-008",name:"Pediatric Nutrition Study"}],ee=[{id:"P-2026-001",name:"John Smith",studies:["CHS-2026-001","PNS-2026-008"]},{id:"P-2025-156",name:"Sarah Johnson",studies:["NDR-2025-042","DPT-2025-019"]},{id:"P-2026-045",name:"Michael Brown",studies:["DPT-2025-019"]},{id:"P-2026-089",name:"Emily Davis",studies:["PNS-2026-008","CHS-2026-001"]},{id:"P-2025-178",name:"Linda Martinez",studies:["DPT-2025-019"]},{id:"P-2026-012",name:"Jennifer Taylor",studies:["CHS-2026-001"]},{id:"P-2025-234",name:"Robert Wilson",studies:["NDR-2025-042"]},{id:"P-2026-078",name:"Patricia Moore",studies:["CHS-2026-001","PNS-2026-008"]}].filter(e=>e.name.toLowerCase().includes(q.toLowerCase())||e.id.toLowerCase().includes(q.toLowerCase())),es=H?Y.filter(e=>H.studies.includes(e.id)):Y,[ea,et]=(0,i.useState)((null==m?void 0:m.description)||""),[ei,er]=(0,i.useState)(!1),[el,en]=(0,i.useState)([]),[ed,ec]=(0,i.useState)(!1),[eo,em]=(0,i.useState)(null),[ex,eu]=(0,i.useState)([{id:"1",description:ea,amount:C,type:f}]),[ep,eh]=(0,i.useState)(!1),[eg,ey]=(0,i.useState)(""),[eb,ej]=(0,i.useState)(0),[eN,ev]=(0,i.useState)(""),ef=k*M;(0,i.useEffect)(()=>{let e="Travel"===f&&k>0?ef:C,s=D/100*e;U(s),K(e+s)},[C,k,M,D,f,ef]);let ew=b&&({"CHS-2026-001":[{id:"PS1",visitId:"V1",visitName:"Screening Visit",amount:0,description:"No payment for screening"},{id:"PS2",visitId:"V2",visitName:"Baseline Assessment",amount:75,description:"Baseline visit completion"},{id:"PS3",visitId:"V3",visitName:"Week 4 Follow-up",amount:50,description:"Follow-up visit stipend"},{id:"PS4",visitId:"V4",visitName:"Month 3 Assessment",amount:100,description:"Month 3 assessment payment"},{id:"PS5",visitId:"V5",visitName:"Month 6 Assessment",amount:100,description:"Month 6 assessment payment"},{id:"PS6",visitId:"V6",visitName:"Final Visit",amount:150,description:"Study completion bonus"}],"NDR-2025-042":[{id:"PS1",visitId:"V1",visitName:"Initial Screening",amount:0,description:"No payment for screening"},{id:"PS2",visitId:"V2",visitName:"Neurological Baseline",amount:125,description:"Extensive baseline testing"},{id:"PS3",visitId:"V3",visitName:"Week 2 Check",amount:50,description:"Quick follow-up"},{id:"PS4",visitId:"V4",visitName:"Month 1 Assessment",amount:100,description:"Month 1 comprehensive"},{id:"PS5",visitId:"V5",visitName:"Study Completion",amount:200,description:"Final completion payment"}],"DPT-2025-019":[{id:"PS1",visitId:"V1",visitName:"Screening & Consent",amount:25,description:"Initial consent visit"},{id:"PS2",visitId:"V2",visitName:"Baseline Labs",amount:75,description:"Lab work completion"},{id:"PS3",visitId:"V3",visitName:"Monthly Check-in",amount:30,description:"Monthly stipend"},{id:"PS4",visitId:"V4",visitName:"6-Month Evaluation",amount:150,description:"Six month completion"}],"PNS-2026-008":[{id:"PS1",visitId:"V1",visitName:"Enrollment Visit",amount:50,description:"Enrollment payment"},{id:"PS2",visitId:"V2",visitName:"Week 2 Assessment",amount:75,description:"Week 2 stipend"},{id:"PS3",visitId:"V3",visitName:"Week 4 Assessment",amount:75,description:"Week 4 stipend"},{id:"PS4",visitId:"V4",visitName:"Final Assessment",amount:100,description:"Study completion"}]})[b]||[],eC=e=>{if(!e)return;let s=Array.from(e).map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:e.size,uploadDate:new Date().toLocaleDateString(),notes:""}));en(e=>[...e,...s]),P.A.success("".concat(s.length," file(s) uploaded successfully"))},eS=e=>{en(s=>s.filter(s=>s.id!==e)),P.A.success("File removed")},ek=(e,s)=>{en(a=>a.map(a=>a.id===e?{...a,notes:s}:a))},eA=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]},eM=e=>{if(1===ex.length){P.A.error("Cannot remove the last reimbursement item");return}eu(s=>s.filter(s=>s.id!==e)),P.A.success("Reimbursement line item removed")},eP=(e,s,a)=>{eu(t=>t.map(t=>t.id===e?{...t,[s]:a}:t))};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:d}),(0,t.jsxs)("div",{className:"absolute right-0 top-0 h-full w-full lg:w-3/4 xl:w-2/3 bg-white shadow-2xl overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:[(0,t.jsxs)("div",{className:"px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl",children:a?"View Payment":r?"Edit Payment":"New Payment Request"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:a?"View payment request details":r?"Update payment information":"Submit a new payment or reimbursement request"})]}),(0,t.jsx)("button",{onClick:d,className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsx)("div",{className:"px-6",children:(0,t.jsxs)("div",{className:"flex gap-1 border-b border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>n("details"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("details"===l?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Details"}),(0,t.jsx)("button",{onClick:()=>n("verification"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("verification"===l?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Verification & Documents"}),(a||r)&&(0,t.jsx)("button",{onClick:()=>n("history"),className:"px-4 py-3 text-sm font-medium border-b-2 transition-colors ".concat("history"===l?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"),children:"Audit History"})]})})]}),(0,t.jsxs)("form",{className:"p-6 space-y-6",children:["details"===l&&(0,t.jsxs)(t.Fragment,{children:[(a||r)&&m&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>er(!ei),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-100 transition-colors",children:[(0,t.jsxs)("div",{className:"text-left",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Request Summary"}),(0,t.jsxs)("p",{className:"font-medium text-gray-900",children:["Reimbursement"===g?"".concat(f," Reimbursement"):"Payment","  ",m.participantName,"  ",m.study]})]}),(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500 transition-transform ".concat(ei?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),ei&&(0,t.jsx)("div",{className:"px-4 pb-4 pt-2 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Participant"}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:m.participantName}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:m.participantId})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Study"}),(0,t.jsx)("p",{className:"text-gray-900 font-medium",children:m.study})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Recipient Type"}),(0,t.jsx)("p",{className:"text-gray-900",children:x})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Request Type"}),(0,t.jsx)("p",{className:"text-gray-900",children:g})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Status"}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm ".concat("New"===m.status?"bg-orange-100 text-orange-800":"Pending Approval"===m.status?"bg-orange-100 text-orange-800":"On Hold"===m.status?"bg-yellow-100 text-yellow-800":"Approved"===m.status?"bg-green-100 text-green-800":"Payment Complete"===m.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:m.status})]}),"Reimbursement"===g&&f&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Reimbursement Type"}),(0,t.jsx)("p",{className:"text-gray-900",children:f})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Date"}),(0,t.jsx)("p",{className:"text-gray-900",children:m.date})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Requester"}),(0,t.jsx)("p",{className:"text-gray-900",children:m.requester})]})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg",children:"Payment Details"}),r&&"Reimbursement"===g&&(0,t.jsx)("button",{type:"button",onClick:()=>eh(!ep),className:"px-3 py-1.5 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:ep?"Cancel":"+ Add Reimbursement"})]}),"Reimbursement"===g&&r?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-200 border-b-2 border-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Type"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Amount"}),ex.length>1&&(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Actions"})]})}),(0,t.jsxs)("tbody",{className:"divide-y divide-gray-200",children:[ex.map(e=>(0,t.jsxs)("tr",{className:"bg-white hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("input",{type:"text",value:e.description,onChange:s=>eP(e.id,"description",s.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"Description..."})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("select",{value:e.type,onChange:s=>eP(e.id,"type",s.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Type"}),(0,t.jsx)("option",{value:"Travel",children:"Travel"}),(0,t.jsx)("option",{value:"Parking",children:"Parking"}),(0,t.jsx)("option",{value:"Meal",children:"Meal"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"$"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:e.amount,onChange:s=>eP(e.id,"amount",parseFloat(s.target.value)||0),className:"w-24 px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",placeholder:"0.00"}),"Travel"===e.type&&(0,t.jsx)("button",{type:"button",onClick:()=>Z(!I),className:"text-xs text-blue-600 hover:underline whitespace-nowrap",children:I?"Hide":"Calc"})]})}),ex.length>1&&(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("button",{onClick:()=>eM(e.id),className:"p-1.5 text-red-600 hover:bg-red-50 rounded",title:"Remove reimbursement",children:(0,t.jsx)(Q.Z,{size:16})})})]},e.id)),(0,t.jsxs)("tr",{className:"bg-gray-100 font-medium",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-right",colSpan:2,children:(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Subtotal:"})}),(0,t.jsx)("td",{className:"px-4 py-3 text-left",colSpan:ex.length>1?2:1,children:(0,t.jsxs)("span",{className:"text-sm text-gray-900",children:["$",ex.reduce((e,s)=>e+(Number(s.amount)||0),0).toFixed(2)]})})]})]})]})}):a?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-200 border-b-2 border-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Type"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Amount"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:(0,t.jsxs)("tr",{className:"bg-white",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:ea||(null==m?void 0:m.description)||"No description provided"}),(0,t.jsx)("td",{className:"px-4 py-3",children:(null==m?void 0:m.type)?(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:m.type}):(0,t.jsx)("span",{className:"text-gray-500 text-sm",children:"N/A"})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:["$",(null==m?void 0:null===(s=m.amount)||void 0===s?void 0:s.toFixed(2))||"0.00"]})]})})]})}):null,ep&&r&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Add New Reimbursement Line Item"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Description"}),(0,t.jsx)("input",{type:"text",value:eg,onChange:e=>ey(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter description..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Type"}),(0,t.jsxs)("select",{value:eN,onChange:e=>ev(e.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select Type"}),(0,t.jsx)("option",{value:"Travel",children:"Travel"}),(0,t.jsx)("option",{value:"Parking",children:"Parking"}),(0,t.jsx)("option",{value:"Meal",children:"Meal"}),(0,t.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Amount"}),(0,t.jsx)("input",{type:"number",step:"0.01",value:eb,onChange:e=>ej(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]})]}),(0,t.jsxs)("div",{className:"mt-3 flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{if(!eg||eb<=0){P.A.error("Please enter description and amount");return}let e={id:Math.random().toString(36).substr(2,9),description:eg,amount:eb,type:eN};eu(s=>[...s,e]),ey(""),ej(0),ev(""),eh(!1),P.A.success("Reimbursement line item added")},className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Add Item"}),(0,t.jsx)("button",{type:"button",onClick:()=>eh(!1),className:"px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"})]})]}),(0,t.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(0,t.jsxs)("label",{className:"block text-sm text-gray-600 mb-2",children:["Receipts (",el.length,")"]}),a?0===el.length?(0,t.jsx)("p",{className:"text-gray-500 text-sm",children:"No receipts attached"}):null:(0,t.jsxs)("div",{onDragOver:e=>{e.preventDefault(),ec(!0)},onDragLeave:e=>{e.preventDefault(),ec(!1)},onDrop:e=>{e.preventDefault(),ec(!1),eC(e.dataTransfer.files)},className:"border-2 border-dashed rounded-lg p-4 text-center transition-colors ".concat(ed?"border-blue-500 bg-blue-50":"border-gray-300 bg-gray-50"),children:[(0,t.jsx)(E.Z,{className:"mx-auto mb-2 text-gray-400",size:24}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:["Drag and drop files here, or"," ",(0,t.jsxs)("label",{className:"text-blue-600 hover:underline cursor-pointer",children:["browse",(0,t.jsx)("input",{type:"file",multiple:!0,className:"hidden",onChange:e=>eC(e.target.files)})]})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"PDF, JPG, PNG up to 10MB each"})]}),el.length>0&&(0,t.jsx)("div",{className:"mt-3 space-y-2",children:el.map(e=>(0,t.jsx)("div",{className:"bg-white border border-gray-200 rounded-lg p-2",children:(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[eA(e.size),"  ",e.uploadDate]}),eo===e.id?(0,t.jsx)("input",{type:"text",value:e.notes,onChange:s=>ek(e.id,s.target.value),onBlur:()=>em(null),placeholder:"Add notes...",className:"mt-1 w-full text-xs px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",autoFocus:!0}):(0,t.jsx)("p",{onClick:()=>!a&&em(e.id),className:"text-xs mt-1 ".concat(e.notes?"text-gray-600":"text-gray-400 italic"," ").concat(!a&&"cursor-pointer hover:text-gray-800"),children:e.notes||"Click to add notes..."})]}),!a&&(0,t.jsx)("button",{onClick:()=>eS(e.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",title:"Remove file",children:(0,t.jsx)(Q.Z,{size:14})})]})},e.id))})]}),(0,t.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between py-2",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Tax Calculation"}),(0,t.jsx)("p",{className:"text-gray-900",children:D>0?(0,t.jsxs)("span",{children:[D,"% = $",L.toFixed(2)]}):(0,t.jsx)("span",{className:"text-gray-500",children:"No tax applied"})})]}),r&&(0,t.jsxs)("button",{type:"button",onClick:()=>V(!F),className:"px-3 py-1.5 text-sm text-blue-600 hover:bg-gray-100 rounded-lg",children:[F?"Hide":"Show"," Tax Calculator"]})]})})]}),I&&!a&&(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-lg mb-4",children:"Mileage Calculator"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Miles Driven"}),(0,t.jsx)("input",{type:"number",step:"1",placeholder:"0",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:k,onChange:e=>A(parseFloat(e.target.value)||0)}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter total miles driven"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Rate per Mile"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"0.67",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:M,onChange:e=>z(parseFloat(e.target.value)||.67)})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"IRS standard rate (2024)"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Calculated Amount"}),(0,t.jsxs)("div",{className:"w-full px-4 py-2 bg-blue-50 border border-blue-300 rounded-lg text-blue-900 font-medium text-lg",children:["$",ef.toFixed(2)]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[k," miles \xd7 $",M,"/mile"]})]})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-gray-100 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:[(0,t.jsx)("strong",{children:"Note:"})," The calculated amount ($",ef.toFixed(2),") will automatically update the payment amount above."]})})]}),F&&!a&&(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"text-lg mb-4",children:"Tax Calculation"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Base Amount"}),(0,t.jsxs)("div",{className:"w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900 font-medium",children:["$","Travel"===f&&k>0?ef.toFixed(2):C.toFixed(2)]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Travel"===f&&k>0?"From mileage calculation":"From amount field"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Tax Rate (%)"}),(0,t.jsx)("input",{type:"number",step:"0.01",placeholder:"0.00",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:D,onChange:e=>R(parseFloat(e.target.value)||0)}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Enter 0 if not taxable"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-gray-700 mb-2",children:"Tax Amount"}),(0,t.jsxs)("div",{className:"w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-900 font-medium",children:["$",L.toFixed(2)]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[D,"% of base amount"]})]})]})]}),(0,t.jsx)("div",{className:"bg-gray-100 border-2 border-gray-400 rounded-lg p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-2xl mb-2",children:"Total Amount"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,t.jsxs)("p",{children:["Base Amount: $","Travel"===f&&k>0?ef.toFixed(2):C.toFixed(2)]}),(0,t.jsxs)("p",{children:["Tax Amount: $",L.toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("p",{className:"text-4xl text-gray-900 font-bold",children:["$",T.toFixed(2)]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Total Payment"})]})]})}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:d,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:a?"Close":"Cancel"}),!a&&(0,t.jsx)("button",{type:"submit",onClick:e=>{e.preventDefault(),d(),P.A.success("Payment updated successfully!")},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Update Payment"})]})]}),!a&&!r&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-white border-l-4 border-blue-600 rounded-lg p-5 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-blue-600 font-bold text-lg",children:"1"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Participant Information"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Select recipient and associated study"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsxs)("div",{className:"md:col-span-3",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Requester ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:_,onChange:e=>X(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select Requester..."}),["Amber Unrein","Cristal Monge","Emily Kelly","Michelle Truesdale","Jenae Moore","Ankita Tiwari","Emma Kelly","Morgan Brucks","Grace Heenan","Cary Felzien","Tamara Rounds","Keri Cox","Julianna McKee","Macaria Velasquez","Nasim Nosratinia","Anna Rice","Annie Henderson","Jade Robichaud","Anna Brashear","April Langhammer","Sarah Irvin","Leo Leonard","Raechel Camones","Anne Nugent","Theresa Howard","Hannah Melton","Amanda Thimmesch","Nicole Mathis","Annette Becker","Lety Sarmiento","Olivia Price","Krystal Pittman","Jill Torneden","Ali Russo","Shannon Fletcher","Chelsey Aulukh","Megan Gangwish","Elizabeth Dillon","Vianca Williams","Alyssa Bowker","Asuka Suzuki","Rachel Nikolov","Esha Garg","Terry Christenson","Nicholas Levine","Jillian Case","Hafsah Diakhate","Jodi Claybaugh","Sravya Kaparthi","Tanner Wilson","Katie Chavez","Sara Baker","Lauryn Gorby","Bethany Forseth","Marion Leaman","Rachael Rawlings","Megan Murray","Jessie Lamphier","Daniel Rivera","Rahul Chanolian","Kelsey Strube","Abigayle Joyce","Grace Bolamperti","Madelyn Arnautov","Becca Johnson","Luigi Boccardi","Sarina Fay","Crystal Billings","Vanessa Verschelden","Kelsi Palacios","Nancy Ziegler","Kristin Fravel","Daijah Jones","Yolanda Murr","Betsy Sweiger","John Mclean","Jordan Elliott","Emilia Potts","Bailey Foster","Kate Canova","Reagan Smith","Ashley Barry","Wamda Ahmed","Rachel Heueisen","Linda d'Silva","Rachel Ruiz","Ronal Castro","Robin Davis","Andrea Klempnauer","Victoria Dorman","Emily Work","Rachel Holden","Dan Le","Julie-Ann Dutton","Lucas Lemar","Nashwa Mohammad","Mya Milius","Laura Crabtree","Makaila Pelter","Caitlin Payne","Stephanie Stauffer","Bria Bartsch","Max Hardenbrook","Grace Millington","Jacqueline Smart","Jeffery Honas","Mary Butler","Rafaela Nelson","Francisca Javiera Allendes","Mia Smith","Jonath0n Barnette","Joseph Kelly","Whitney Theis","Cameron Zoraghchi","KUMCRI_batch KUMCRI_batch"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Person submitting this payment request"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Recipient Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:x,onChange:e=>{u(e.target.value),"Third-Party/Other"===e.target.value&&(h(""),j(""))},children:[(0,t.jsx)("option",{value:"Participant",children:"Participant"}),(0,t.jsx)("option",{value:"Caregiver",children:"Caregiver"}),(0,t.jsx)("option",{value:"Third-Party/Other",children:"Third-Party/Other"})]})]}),"Participant"===x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"md:col-span-2 relative",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Participant ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:16}),(0,t.jsx)("input",{type:"text",className:"w-full pl-10 pr-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Search by name or ID...",value:q,onChange:e=>{B(e.target.value),$(!0)},onFocus:()=>$(!0)})]}),J&&ee.length>0&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:ee.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{W(e),B("".concat(e.name," (").concat(e.id,")")),$(!1)},className:"w-full text-left px-4 py-2 hover:bg-blue-50 border-b border-gray-200 last:border-b-0",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.id})]},e.id))})]}),(0,t.jsxs)("div",{className:"md:col-span-3",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Study or Program ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:b,onChange:e=>j(e.target.value),disabled:!H,children:[(0,t.jsx)("option",{value:"",children:"Select Study or Program"}),es.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.id," - ",e.name]},e.id))]}),H&&0===es.length&&(0,t.jsxs)("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[(0,t.jsx)("span",{children:""})," No studies found for this participant"]})]})]}):"Caregiver"===x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Caregiver Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter caregiver name",value:p,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Associated Participant ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",defaultValue:"",children:[(0,t.jsx)("option",{value:"",children:"Select Participant"}),(0,t.jsx)("option",{value:"P-2026-001",children:"John Smith (P-2026-001)"}),(0,t.jsx)("option",{value:"P-2025-156",children:"Sarah Johnson (P-2025-156)"}),(0,t.jsx)("option",{value:"P-2026-045",children:"Michael Brown (P-2026-045)"}),(0,t.jsx)("option",{value:"P-2026-089",children:"Emily Davis (P-2026-089)"})]})]}),(0,t.jsxs)("div",{className:"md:col-span-3",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Study or Program ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:b,onChange:e=>j(e.target.value),children:[(0,t.jsx)("option",{value:"",children:"Select Study or Program"}),(0,t.jsx)("option",{value:"CHS-2026-001",children:"CHS-2026-001 - Cardiovascular Health Study"}),(0,t.jsx)("option",{value:"NDR-2025-042",children:"NDR-2025-042 - Neurological Disorders Research"}),(0,t.jsx)("option",{value:"DPT-2025-019",children:"DPT-2025-019 - Diabetes Prevention Trial"}),(0,t.jsx)("option",{value:"PNS-2026-008",children:"PNS-2026-008 - Pediatric Nutrition Study"})]})]})]}):(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Recipient Name ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter recipient name",value:p,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Request Type ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:g,onChange:e=>{y(e.target.value),"Payment"===e.target.value&&(w(""),v(""))},children:[(0,t.jsx)("option",{value:"Payment",children:"Payment"}),(0,t.jsx)("option",{value:"Reimbursement",children:"Reimbursement"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Payment"===g?"Standard participant payment (stipend, compensation, etc.)":"Reimbursement for expenses (travel, parking, meals, etc.)"})]}),"Payment"===g&&"Participant"===x&&(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsxs)("label",{className:"block text-gray-700 mb-2",children:["Payment Schedule ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:N,onChange:e=>{v(e.target.value);let s=ew.find(s=>s.id===e.target.value);s&&(S(s.amount),et(s.description))},disabled:!b,children:[(0,t.jsx)("option",{value:"",children:"Select Payment Schedule..."}),ew.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.visitName," - $",e.amount.toFixed(2)]},e.id))]}),!b&&(0,t.jsx)("p",{className:"text-xs text-orange-600 mt-1",children:" Please select a study first"}),b&&0===ew.length&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-1",children:" No payment schedules found for this study"})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:d,className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",onClick:e=>{if(e.preventDefault(),!_){P.A.error("Please select a requester");return}d(),P.A.success("Payment request created successfully!")},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Create Payment Request"})]})]})]}),"verification"===l&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-blue-800",children:" Verification and documentation features will be available here."})})}),"history"===l&&(a||r)&&(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"\uD83D\uDCCB Audit trail and history will be displayed here."})})})]})]})]})}function ek(){let[e,s]=(0,i.useState)(""),[a,r]=(0,i.useState)("all"),[l,d]=(0,i.useState)("all"),[m,x]=(0,i.useState)(""),[u,p]=(0,i.useState)(""),[h,g]=(0,i.useState)(!1),[y,b]=(0,i.useState)(!1),[j,N]=(0,i.useState)(null),[v,f]=(0,i.useState)(null),[w,S]=(0,i.useState)(null),[k,A]=(0,i.useState)("details"),[z,D]=(0,i.useState)("myRequests"),[R,L]=(0,i.useState)(null),[U,T]=(0,i.useState)(null),[K,I]=(0,i.useState)([]),[Z,F]=(0,i.useState)(!1),[V,E]=(0,i.useState)(!1),[J,_]=(0,i.useState)(!1),[Q,X]=(0,i.useState)(null),Y="Dr. Sarah Chen",ee=[{id:1,requestId:"REQ-2026-001",participantId:"P-2026-001",participantName:"John Smith",study:"CHS-2026-001",requestType:"Reimbursement",amount:125,type:"Travel",date:"2026-01-03",status:"New",description:"Mileage reimbursement - 50 miles",receipt:!0,requester:"Dr. Sarah Chen",approver:null,priority:"high",daysOld:0},{id:2,requestId:"REQ-2026-002",participantId:"P-2025-156",participantName:"Sarah Johnson",study:"NDR-2025-042",requestType:"Reimbursement",amount:75,type:"Parking",date:"2026-01-02",status:"Approved",description:"Parking fee at medical center",receipt:!0,requester:"Dr. Sarah Chen",approver:"Patrick Cruz",priority:"normal",daysOld:1},{id:3,requestId:"REQ-2026-003",participantId:"P-2026-045",participantName:"Michael Brown",study:"DPT-2025-019",requestType:"Payment",amount:50,type:"",date:"2026-01-04",status:"Pending Approval",description:"Visit completion stipend",receipt:!1,requester:"Dr. Sarah Chen",approver:"Dr. Sarah Chen",priority:"normal",daysOld:0},{id:4,requestId:"REQ-2026-004",participantId:"P-2026-089",participantName:"Emily Davis",study:"PNS-2026-008",requestType:"Reimbursement",amount:100,type:"Travel",date:"2026-01-05",status:"New",description:"Public transportation costs",receipt:!0,requester:"Dr. Sarah Chen",approver:null,priority:"normal",daysOld:0},{id:5,requestId:"REQ-2025-005",participantId:"P-2025-234",participantName:"Robert Wilson",study:"CIS-2025-055",requestType:"Payment",amount:200,type:"",date:"2025-12-28",status:"Payment Complete",description:"Monthly participation stipend",receipt:!1,requester:"Dr. Sarah Chen",approver:"Kimmy Clifton",priority:"normal",daysOld:30},{id:6,requestId:"REQ-2026-006",participantId:"P-2025-178",participantName:"Linda Martinez",study:"DPT-2025-019",requestType:"Reimbursement",amount:35,type:"Meal",date:"2026-01-03",status:"Approved",description:"Meal allowance during extended visit",receipt:!0,requester:"Dr. Sarah Chen",approver:"Tashanna Sawyer",priority:"low",daysOld:0},{id:7,requestId:"REQ-2026-007",participantId:"P-2026-012",participantName:"Jennifer Taylor",study:"CHS-2026-001",requestType:"Reimbursement",amount:150,type:"Travel",date:"2026-01-04",status:"Rejected",description:"Taxi service to clinic",receipt:!1,requester:"Dr. Sarah Chen",approver:"Douglas Ross",priority:"normal",daysOld:0},{id:8,requestId:"REQ-2025-008",participantId:"P-2025-298",participantName:"David Anderson",study:"ATE-2025-031",requestType:"Payment",amount:300,type:"",date:"2025-12-30",status:"Payment Complete",description:"Final study completion payment",receipt:!1,requester:"Dr. Sarah Chen",approver:"Jennifer Staley",priority:"normal",daysOld:28},{id:9,requestId:"REQ-2026-009",participantId:"P-2026-078",participantName:"Patricia Moore",study:"CHS-2026-001",requestType:"Payment",amount:125,type:"",date:"2026-01-03",status:"On Hold",description:"Awaiting additional documentation",receipt:!1,requester:"Dr. Sarah Chen",approver:"Ted Noravong",priority:"high",daysOld:0},{id:10,requestId:"REQ-2026-010",participantId:"P-2026-099",participantName:"James Wilson",study:"CHS-2026-001",requestType:"Reimbursement",amount:85,type:"Travel",date:"2026-01-02",status:"New",description:"Bus fare for clinic visits",receipt:!0,requester:"Megan Hummelgaard",approver:null,priority:"normal",daysOld:1}],es=(()=>{switch(z){case"unassigned":return ee.filter(e=>"New"===e.status&&null===e.approver);case"myQueue":return ee.filter(e=>"Pending Approval"===e.status&&e.approver===Y);case"teamQueue":return ee.filter(e=>"Pending Approval"===e.status);case"needsReview":return ee.filter(e=>"Rejected"===e.status||"On Hold"===e.status);case"approved":return ee.filter(e=>"Approved"===e.status);case"myRequests":return ee.filter(e=>e.requester===Y);default:return ee}})(),ea=es.filter(s=>{let t=s.participantName.toLowerCase().includes(e.toLowerCase())||s.participantId.toLowerCase().includes(e.toLowerCase())||s.study.toLowerCase().includes(e.toLowerCase())||s.requestId.toLowerCase().includes(e.toLowerCase()),i="all"===a||s.requestType===a,r="all"===l||s.type===l,n=new Date(s.date),d=!m||n>=new Date(m),c=!u||n<=new Date(u);return t&&i&&r&&d&&c}),et=ee.filter(e=>"New"===e.status&&null===e.approver).length,ei=ee.filter(e=>"Pending Approval"===e.status&&e.approver===Y).length,er=ee.filter(e=>"Pending Approval"===e.status).length,el=ee.filter(e=>"Rejected"===e.status||"On Hold"===e.status).length,en=ee.filter(e=>"Approved"===e.status).length,ed=()=>{g(!1),N(null),f(null),S(null),A("details")},ec=e=>{P.A.success("Request claimed successfully",{description:"".concat(e.requestId," assigned to you")}),L(null)},eo=(e,s)=>{P.A.success("Request assigned successfully",{description:"".concat(e.requestId," assigned to ").concat(s)}),T(null)},em=e=>{K.includes(e)?I(K.filter(s=>s!==e)):I([...K,e])},ex=e=>{let s=K.length;P.A.success("".concat(s," request(s) assigned successfully"),{description:"Assigned to ".concat(e)}),I([]),F(!1)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-lg flex items-center justify-center shadow-sm",children:(0,t.jsx)(n.Z,{className:"text-white",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Payment Request Queue"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Review and approve participant payment requests"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>b(!y),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:y?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:y?(0,t.jsx)(c.Z,{size:20}):(0,t.jsx)(o.Z,{size:20})}),(0,t.jsx)("button",{onClick:()=>{P.A.success("Payments exported to Excel successfully")},className:"flex items-center gap-2 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50 font-medium transition-all",title:"Export Payments to Excel",children:(0,t.jsx)(q.Z,{size:20})})]})]}),y&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Unassigned"}),(0,t.jsx)(ej.Z,{className:"text-orange-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:et}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Awaiting assignment"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"My Queue"}),(0,t.jsx)(eN.Z,{className:"text-blue-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:ei}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Assigned to me"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Team Queue"}),(0,t.jsx)(C.Z,{className:"text-purple-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:er}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"In review"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Needs Review"}),(0,t.jsx)(M.Z,{className:"text-red-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:el}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Rejected / On Hold"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Approved"}),(0,t.jsx)(ev.Z,{className:"text-green-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:en}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Ready for payment"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex overflow-x-auto",children:[(0,t.jsxs)("button",{onClick:()=>D("myRequests"),className:"flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ".concat("myRequests"===z?"border-ku-blue text-ku-blue bg-blue-50":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"),children:[(0,t.jsx)($.Z,{size:18}),"My Requests"]}),(0,t.jsx)("div",{className:"w-px bg-gray-300 my-3"}),(0,t.jsxs)("button",{onClick:()=>D("unassigned"),className:"flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ".concat("unassigned"===z?"border-orange-500 text-orange-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"),children:[(0,t.jsx)(ej.Z,{size:18}),"Unassigned Queue",et>0&&(0,t.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-orange-100 text-orange-800 text-xs rounded-full font-semibold",children:et})]}),(0,t.jsxs)("button",{onClick:()=>D("myQueue"),className:"flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ".concat("myQueue"===z?"border-ku-blue text-ku-blue":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"),children:[(0,t.jsx)(eN.Z,{size:18}),"My Review Queue",ei>0&&(0,t.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs rounded-full font-semibold",children:ei})]}),(0,t.jsxs)("button",{onClick:()=>D("teamQueue"),className:"flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ".concat("teamQueue"===z?"border-purple-500 text-purple-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"),children:[(0,t.jsx)(C.Z,{size:18}),"Team Queue",er>0&&(0,t.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-purple-100 text-purple-800 text-xs rounded-full font-semibold",children:er})]}),(0,t.jsxs)("button",{onClick:()=>D("needsReview"),className:"flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ".concat("needsReview"===z?"border-red-500 text-red-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"),children:[(0,t.jsx)(M.Z,{size:18}),"Needs Review",el>0&&(0,t.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-red-100 text-red-800 text-xs rounded-full font-semibold",children:el})]}),(0,t.jsxs)("button",{onClick:()=>D("approved"),className:"flex items-center gap-2 px-6 py-4 border-b-2 font-medium transition-colors whitespace-nowrap ".concat("approved"===z?"border-green-500 text-green-600":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"),children:[(0,t.jsx)(ev.Z,{size:18}),"Approved",en>0&&(0,t.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-800 text-xs rounded-full font-semibold",children:en})]})]})}),(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by participant, ID, request ID, or study...",value:e,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.Z,{size:20,className:"text-gray-400"}),(0,t.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Types"}),(0,t.jsx)("option",{value:"Payment",children:"Payment"}),(0,t.jsx)("option",{value:"Reimbursement",children:"Reimbursement"})]}),(0,t.jsxs)("select",{value:l,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Reimbursement Types"}),(0,t.jsx)("option",{value:"Travel",children:"Travel"}),(0,t.jsx)("option",{value:"Parking",children:"Parking"}),(0,t.jsx)("option",{value:"Meal",children:"Meal"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{htmlFor:"dateFrom",className:"text-sm text-gray-700 whitespace-nowrap",children:"From:"}),(0,t.jsx)("input",{id:"dateFrom",type:"date",value:m,onChange:e=>x(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("label",{htmlFor:"dateTo",className:"text-sm text-gray-700 whitespace-nowrap",children:"To:"}),(0,t.jsx)("input",{id:"dateTo",type:"date",value:u,onChange:e=>p(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]})}),K.length>0&&(0,t.jsxs)("div",{className:"px-6 py-3 bg-blue-50 border-b border-blue-200 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:[K.length," request(s) selected"]}),(0,t.jsx)("button",{onClick:()=>I([]),className:"text-xs text-blue-600 hover:text-blue-800 font-medium",children:"Clear selection"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["unassigned"===z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("button",{onClick:()=>{let e=K.length;P.A.success("".concat(e," request(s) claimed successfully"),{description:"Assigned to ".concat(Y)}),I([]),F(!1)},className:"flex items-center gap-2 px-4 py-2 bg-ku-blue text-white rounded-lg hover:bg-ku-blue-dark font-medium",children:[(0,t.jsx)(eN.Z,{size:16}),"Bulk Claim"]}),(0,t.jsxs)("button",{onClick:()=>F(!0),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:[(0,t.jsx)(C.Z,{size:16}),"Bulk Assign"]}),(0,t.jsxs)("button",{onClick:()=>_(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:[(0,t.jsx)(ef.Z,{size:16}),"Auto Approve"]})]}),"myQueue"===z&&(0,t.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:[(0,t.jsx)(ev.Z,{size:16}),"Bulk Approve"]})]})]}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[("unassigned"===z||"myQueue"===z)&&(0,t.jsx)("th",{className:"px-4 py-3 text-left",children:(0,t.jsx)("input",{type:"checkbox",checked:K.length===ea.length&&ea.length>0,onChange:()=>{K.length===ea.length?I([]):I(ea.map(e=>e.id))},className:"w-4 h-4 text-blue-600 rounded"})}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Priority"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Request ID"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Participant"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Requester"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Type"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Study"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Age"}),"unassigned"!==z&&(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approver"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:ea.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[("unassigned"===z||"myQueue"===z)&&(0,t.jsx)("td",{className:"px-4 py-4 whitespace-nowrap",children:(0,t.jsx)("input",{type:"checkbox",checked:K.includes(e.id),onChange:()=>em(e.id),className:"w-4 h-4 text-blue-600 rounded"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("high"===e.priority?"bg-red-100 text-red-800":"normal"===e.priority?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:["high"===e.priority?"\uD83D\uDD34":"normal"===e.priority?"\uD83D\uDD35":""," ",e.priority.toUpperCase()]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.requestId}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.participantName}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.participantId})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.requester}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("Payment"===e.requestType?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"),children:e.requestType})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.study}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:["$",e.amount.toFixed(2)]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("New"===e.status?"bg-gray-100 text-gray-800":"Pending Approval"===e.status?"bg-yellow-100 text-yellow-800":"Approved"===e.status?"bg-green-100 text-green-800":"Payment Complete"===e.status?"bg-blue-100 text-blue-800":"Rejected"===e.status?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:(0,t.jsx)("span",{className:"".concat(e.daysOld>3?"text-red-600 font-semibold":"text-gray-600"),children:0===e.daysOld?"Today":1===e.daysOld?"1 day":"".concat(e.daysOld," days")})}),"unassigned"!==z&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.approver||(0,t.jsx)("span",{className:"text-gray-400",children:"Not Assigned"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["unassigned"===z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>L(e),className:"px-3 py-1.5 bg-ku-blue text-white text-xs rounded hover:bg-ku-blue-dark font-medium",title:"Claim this request",children:"Claim"}),(0,t.jsx)("button",{onClick:()=>T(e),className:"px-3 py-1.5 bg-gray-100 text-gray-700 text-xs rounded hover:bg-gray-200 font-medium",title:"Assign to colleague",children:"Assign"})]}),"myQueue"===z&&(0,t.jsx)("button",{onClick:()=>S(e),className:"px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700 font-medium",title:"Review & Approve/Reject",children:"Review"}),"myRequests"===z&&"New"===e.status&&(0,t.jsxs)("button",{onClick:()=>N(e),className:"px-3 py-1.5 bg-blue-600 text-white text-xs rounded hover:bg-blue-700 font-medium",title:"Edit Request",children:[(0,t.jsx)($.Z,{size:14,className:"inline mr-1"}),"Edit"]}),(0,t.jsx)("button",{onClick:()=>f(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Details",children:(0,t.jsx)(W.Z,{size:16})}),(0,t.jsx)("button",{onClick:()=>X(e),className:"p-2 text-purple-600 hover:bg-purple-50 rounded",title:"Workflow History",children:(0,t.jsx)(ew.Z,{size:16})})]})})]},e.id))})]})}),0===ea.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("p",{className:"text-lg",children:"No requests in this queue"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Check other queues or adjust your filters"})]}),ea.length>0&&(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:(0,t.jsxs)("p",{className:"text-gray-600",children:["Showing ",ea.length," of ",es.length," requests"]})})]}),h&&(0,t.jsx)(eS,{isViewMode:!1,isEditMode:!1,activeTab:k,setActiveTab:A,onClose:ed}),v&&(0,t.jsx)(eS,{isViewMode:!0,isEditMode:!1,activeTab:k,setActiveTab:A,onClose:ed,viewingPayment:v}),j&&(0,t.jsx)(eS,{isViewMode:!1,isEditMode:!0,activeTab:k,setActiveTab:A,onClose:ed,editingPayment:j}),R&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>L(null)}),(0,t.jsx)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(eN.Z,{className:"text-ku-blue",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Claim Request"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Assign this request to yourself"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"Request ID:"})," ",(0,t.jsx)("span",{className:"font-medium",children:R.requestId})]}),(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"Participant:"})," ",(0,t.jsx)("span",{className:"font-medium",children:R.participantName})]}),(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"Amount:"})," ",(0,t.jsxs)("span",{className:"font-medium",children:["$",R.amount.toFixed(2)]})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"Type:"})," ",(0,t.jsx)("span",{className:"font-medium",children:R.requestType})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,t.jsx)("p",{className:"text-sm text-blue-800",children:" This request will be moved to your review queue and you will be responsible for approving or rejecting it."})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>L(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>ec(R),className:"flex-1 px-6 py-3 bg-ku-blue text-white rounded-lg hover:bg-ku-blue-dark font-medium",children:"Claim Request"})]})]})})]}),U&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>T(null)}),(0,t.jsx)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(C.Z,{className:"text-purple-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Assign Request"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Assign this request to a colleague"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"Request ID:"})," ",(0,t.jsx)("span",{className:"font-medium",children:U.requestId})]}),(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"Participant:"})," ",(0,t.jsx)("span",{className:"font-medium",children:U.participantName})]}),(0,t.jsxs)("p",{className:"mb-2",children:[(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"Amount:"})," ",(0,t.jsxs)("span",{className:"font-medium",children:["$",U.amount.toFixed(2)]})]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{className:"text-gray-600 text-sm",children:"Type:"})," ",(0,t.jsx)("span",{className:"font-medium",children:U.requestType})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to:"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select approver..."}),(0,t.jsx)("option",{value:"Patrick Cruz",children:"Patrick Cruz"}),(0,t.jsx)("option",{value:"Kimmy Clifton",children:"Kimmy Clifton"}),(0,t.jsx)("option",{value:"Tashanna Sawyer",children:"Tashanna Sawyer"}),(0,t.jsx)("option",{value:"Douglas Ross",children:"Douglas Ross"}),(0,t.jsx)("option",{value:"Jennifer Staley",children:"Jennifer Staley"}),(0,t.jsx)("option",{value:"Ted Noravong",children:"Ted Noravong"}),(0,t.jsx)("option",{value:"Megan Hummelgaard",children:"Megan Hummelgaard"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>T(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>eo(U,"Dr. Michael Torres"),className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"Assign"})]})]})})]}),w&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>S(null)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold",children:["Review Payment Request (",w.participantName,")"]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:w.requestId})]}),(0,t.jsx)("button",{onClick:()=>S(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"p-6 space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Request Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Participant"}),(0,t.jsx)("p",{className:"font-medium",children:w.participantName}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:w.participantId})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Study"}),(0,t.jsx)("p",{className:"font-medium",children:w.study})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Request Type"}),(0,t.jsx)("p",{className:"font-medium",children:w.requestType})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Amount"}),(0,t.jsxs)("p",{className:"font-medium text-lg",children:["$",w.amount.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Description"}),(0,t.jsx)("p",{className:"font-medium",children:w.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Requester"}),(0,t.jsx)("p",{className:"font-medium",children:w.requester})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Date Submitted"}),(0,t.jsx)("p",{className:"font-medium",children:w.date})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Review Notes / Reason ","Pending Approval"===w.status&&"*"]}),(0,t.jsx)("textarea",{rows:4,placeholder:"Enter your review notes or reason for approval/rejection...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be visible to the requester and audit trail"})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>S(null),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{P.A.error("Request rejected",{description:"".concat(w.requestId," has been rejected")}),S(null)},className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium flex items-center justify-center gap-2",children:[(0,t.jsx)(eC.Z,{size:18}),"Reject"]}),(0,t.jsxs)("button",{onClick:()=>{P.A.success("Request approved successfully!",{description:"".concat(w.requestId," for $").concat(w.amount.toFixed(2))}),S(null)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[(0,t.jsx)(ev.Z,{size:18}),"Approve"]})]})]})]})]}),Z&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>F(!1)}),(0,t.jsx)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(C.Z,{className:"text-purple-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Bulk Assign Requests"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Assign ",K.length," request(s) to a colleague"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Requests:"}),(0,t.jsx)("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:ea.filter(e=>K.includes(e.id)).map(e=>(0,t.jsxs)("div",{className:"text-sm text-gray-600 flex justify-between",children:[(0,t.jsx)("span",{children:e.requestId}),(0,t.jsxs)("span",{className:"font-medium",children:["$",e.amount.toFixed(2)]})]},e.id))}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-300 flex justify-between font-semibold",children:[(0,t.jsx)("span",{children:"Total:"}),(0,t.jsxs)("span",{children:["$",ea.filter(e=>K.includes(e.id)).reduce((e,s)=>e+s.amount,0).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign to:"}),(0,t.jsxs)("select",{id:"bulkAssignee",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"Select approver..."}),(0,t.jsx)("option",{value:"Patrick Cruz",children:"Patrick Cruz"}),(0,t.jsx)("option",{value:"Kimmy Clifton",children:"Kimmy Clifton"}),(0,t.jsx)("option",{value:"Tashanna Sawyer",children:"Tashanna Sawyer"}),(0,t.jsx)("option",{value:"Douglas Ross",children:"Douglas Ross"}),(0,t.jsx)("option",{value:"Jennifer Staley",children:"Jennifer Staley"}),(0,t.jsx)("option",{value:"Ted Noravong",children:"Ted Noravong"}),(0,t.jsx)("option",{value:"Megan Hummelgaard",children:"Megan Hummelgaard"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>F(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{var e;let s=null===(e=document.getElementById("bulkAssignee"))||void 0===e?void 0:e.value;s?ex(s):P.A.error("Please select an approver")},className:"flex-1 px-6 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 font-medium",children:"Assign All"})]})]})})]}),V&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>E(!1)}),(0,t.jsx)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(ev.Z,{className:"text-green-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Bulk Approve Requests"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Approve ",K.length," request(s)"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Requests:"}),(0,t.jsx)("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:ea.filter(e=>K.includes(e.id)).map(e=>(0,t.jsxs)("div",{className:"text-sm text-gray-600 flex justify-between",children:[(0,t.jsxs)("span",{children:[e.requestId," - ",e.participantName]}),(0,t.jsxs)("span",{className:"font-medium",children:["$",e.amount.toFixed(2)]})]},e.id))}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-300 flex justify-between font-semibold",children:[(0,t.jsx)("span",{children:"Total Amount:"}),(0,t.jsxs)("span",{className:"text-green-600 text-lg",children:["$",ea.filter(e=>K.includes(e.id)).reduce((e,s)=>e+s.amount,0).toFixed(2)]})]})]}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:[" This will approve all ",K.length," selected request(s). This action cannot be undone."]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>E(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{let e=K.length,s=ea.filter(e=>K.includes(e.id)).reduce((e,s)=>e+s.amount,0);P.A.success("".concat(e," request(s) approved successfully!"),{description:"Total amount: $".concat(s.toFixed(2))}),I([]),E(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[(0,t.jsx)(ev.Z,{size:18}),"Approve All"]})]})]})})]}),J&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>_(!1)}),(0,t.jsx)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-md",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(ef.Z,{className:"text-green-600",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Auto Approve Requests"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Automatically approve ",K.length," request(s)"]})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Selected Requests:"}),(0,t.jsx)("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:ea.filter(e=>K.includes(e.id)).map(e=>(0,t.jsxs)("div",{className:"text-sm text-gray-600 flex justify-between",children:[(0,t.jsxs)("span",{children:[e.requestId," - ",e.participantName]}),(0,t.jsxs)("span",{className:"font-medium",children:["$",e.amount.toFixed(2)]})]},e.id))}),(0,t.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-300 flex justify-between font-semibold",children:[(0,t.jsx)("span",{children:"Total Amount:"}),(0,t.jsxs)("span",{className:"text-green-600 text-lg",children:["$",ea.filter(e=>K.includes(e.id)).reduce((e,s)=>e+s.amount,0).toFixed(2)]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[(0,t.jsxs)("p",{className:"text-sm text-blue-800 mb-2",children:[" ",(0,t.jsx)("strong",{children:"Auto Approval Details:"})]}),(0,t.jsxs)("ul",{className:"text-sm text-blue-700 space-y-1 ml-4",children:[(0,t.jsxs)("li",{children:[" All requests will be moved to the ",(0,t.jsx)("strong",{children:"Approved"})," queue"]}),(0,t.jsxs)("li",{children:[" Approval reason will be: ",(0,t.jsxs)("strong",{children:['"Auto approved by ',Y,'"']})]}),(0,t.jsx)("li",{children:" This action bypasses the standard review process"})]})]}),(0,t.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("p",{className:"text-sm text-yellow-800",children:[" This will auto-approve all ",K.length," selected request(s) without manual review. This action cannot be undone."]})}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("button",{onClick:()=>_(!1),className:"flex-1 px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"Cancel"}),(0,t.jsxs)("button",{onClick:()=>{let e=K.length,s=ea.filter(e=>K.includes(e.id)).reduce((e,s)=>e+s.amount,0);P.A.success("".concat(e," request(s) auto-approved successfully!"),{description:"Total amount: $".concat(s.toFixed(2)," - Moved to Approved queue")}),I([]),_(!1)},className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium flex items-center justify-center gap-2",children:[(0,t.jsx)(ef.Z,{size:18}),"Auto Approve All"]})]})]})})]}),Q&&(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>X(null)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl w-full max-w-3xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(ew.Z,{className:"text-purple-600",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-semibold",children:["Workflow History (",Q.requestId,")"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[Q.participantName," - ",Q.study]})]})]}),(0,t.jsx)("button",{onClick:()=>X(null),className:"p-2 hover:bg-gray-100 rounded-lg",children:(0,t.jsx)(G.Z,{size:20})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto p-6",children:[(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 mb-1",children:"Request Type"}),(0,t.jsx)("p",{className:"font-medium",children:Q.requestType})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 mb-1",children:"Amount"}),(0,t.jsxs)("p",{className:"font-medium text-lg",children:["$",Q.amount.toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 mb-1",children:"Current Status"}),(0,t.jsx)("span",{className:"inline-block px-2 py-1 rounded-full text-xs font-medium ".concat("New"===Q.status?"bg-gray-100 text-gray-800":"Pending Approval"===Q.status?"bg-yellow-100 text-yellow-800":"Approved"===Q.status?"bg-green-100 text-green-800":"Payment Complete"===Q.status?"bg-blue-100 text-blue-800":"Rejected"===Q.status?"bg-red-100 text-red-800":"bg-orange-100 text-orange-800"),children:Q.status})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600 mb-1",children:"Priority"}),(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ".concat("high"===Q.priority?"bg-red-100 text-red-800":"normal"===Q.priority?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"),children:["high"===Q.priority?"\uD83D\uDD34":"normal"===Q.priority?"\uD83D\uDD35":""," ",Q.priority.toUpperCase()]})]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-800 mb-4",children:"Workflow Timeline"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute left-5 top-8 bottom-0 w-0.5 bg-gray-200"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"relative flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center z-10",children:(0,t.jsx)(B.Z,{className:"text-blue-600",size:18})}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Request Created"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["by ",Q.requester]})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Q.date," 09:15 AM"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Payment request submitted for approval"})]})]}),Q.approver&&(0,t.jsxs)("div",{className:"relative flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center z-10",children:(0,t.jsx)(eN.Z,{className:"text-purple-600",size:18})}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Request Assigned"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["to ",Q.approver]})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Q.date," 10:32 AM"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Request assigned for review and approval"})]})]}),"Pending Approval"===Q.status&&(0,t.jsxs)("div",{className:"relative flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-yellow-100 rounded-full flex items-center justify-center z-10",children:(0,t.jsx)(ej.Z,{className:"text-yellow-600",size:18})}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Status Changed to Pending Approval"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"by System"})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Q.date," 10:33 AM"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Awaiting approver review"})]})]}),"Approved"===Q.status&&(0,t.jsxs)("div",{className:"relative flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center z-10",children:(0,t.jsx)(ev.Z,{className:"text-green-600",size:18})}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Request Approved"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["by ",Q.approver]})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Q.date," 02:18 PM"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Request approved for payment processing"}),(0,t.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-xs text-gray-600",children:[(0,t.jsx)("span",{className:"font-medium",children:"Note:"})," All documentation verified and complete"]})]})]}),"Rejected"===Q.status&&(0,t.jsxs)("div",{className:"relative flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-red-100 rounded-full flex items-center justify-center z-10",children:(0,t.jsx)(eC.Z,{className:"text-red-600",size:18})}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Request Rejected"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["by ",Q.approver]})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Q.date," 03:45 PM"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Request rejected and returned"}),(0,t.jsxs)("div",{className:"mt-2 p-2 bg-red-50 rounded text-xs text-red-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Reason:"})," Missing required receipt documentation"]})]})]}),"On Hold"===Q.status&&(0,t.jsxs)("div",{className:"relative flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center z-10",children:(0,t.jsx)(M.Z,{className:"text-orange-600",size:18})}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Request Placed On Hold"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["by ",Q.approver]})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Q.date," 11:20 AM"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Request on hold pending additional information"}),(0,t.jsxs)("div",{className:"mt-2 p-2 bg-orange-50 rounded text-xs text-orange-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Note:"})," ",Q.description]})]})]}),"Payment Complete"===Q.status&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"relative flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center z-10",children:(0,t.jsx)(ev.Z,{className:"text-green-600",size:18})}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Request Approved"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["by ",Q.approver]})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Q.date," 01:15 PM"]})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Request approved for payment processing"})]})]}),(0,t.jsxs)("div",{className:"relative flex gap-4",children:[(0,t.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center z-10",children:(0,t.jsx)(n.Z,{className:"text-blue-600",size:18})}),(0,t.jsxs)("div",{className:"flex-1 bg-white border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:"Payment Processed"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"by Finance Department"})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[Q.date," 04:30 PM"]})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Payment of $",Q.amount.toFixed(2)," processed successfully"]}),(0,t.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-700",children:[(0,t.jsx)("span",{className:"font-medium",children:"Transaction ID:"})," TXN-",Q.id,"-2026"]})]})]})]})]})]})]})]}),(0,t.jsx)("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4",children:(0,t.jsx)("button",{onClick:()=>X(null),className:"w-full px-6 py-2.5 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"Close"})})]})]})]})}var eA=a(71621),eM=a(87117),eP=a(37053),ez=a(90535),eD=a(61994),eR=a(53335);function eL(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,eR.m6)((0,eD.W)(s))}let eU=(0,ez.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-sm hover:bg-primary/90 hover:shadow-md",destructive:"bg-destructive text-white shadow-sm hover:bg-destructive/90 hover:shadow-md focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border border-gray-300 bg-background text-foreground hover:bg-accent hover:text-accent-foreground hover:border-gray-400 dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function eT(e){let{className:s,variant:a,size:i,asChild:r=!1,...l}=e,n=r?eP.g7:"button";return(0,t.jsx)(n,{"data-slot":"button",className:eL(eU({variant:a,size:i,className:s})),...l})}function eK(e){let{className:s,...a}=e;return(0,t.jsx)("div",{"data-slot":"card",className:eL("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",s),...a})}function eI(e){let{className:s,type:a,...i}=e;return(0,t.jsx)("input",{type:a,"data-slot":"input",className:eL("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...i})}var eZ=a(370);function eF(e){let{className:s,...a}=e;return(0,t.jsx)(eZ.f,{"data-slot":"label",className:eL("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...a})}var eV=a(61635);function eE(e){let{...s}=e;return(0,t.jsx)(eV.fC,{"data-slot":"select",...s})}function eq(e){let{...s}=e;return(0,t.jsx)(eV.B4,{"data-slot":"select-value",...s})}function eB(e){let{className:s,size:a="default",children:i,...r}=e;return(0,t.jsxs)(eV.xz,{"data-slot":"select-trigger","data-size":a,className:eL("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...r,children:[i,(0,t.jsx)(eV.JO,{asChild:!0,children:(0,t.jsx)(o.Z,{className:"size-4 opacity-50"})})]})}function eO(e){let{className:s,children:a,position:i="popper",...r}=e;return(0,t.jsx)(eV.h_,{children:(0,t.jsxs)(eV.VY,{"data-slot":"select-content",className:eL("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...r,children:[(0,t.jsx)(eW,{}),(0,t.jsx)(eV.l_,{className:eL("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:a}),(0,t.jsx)(eJ,{})]})})}function eH(e){let{className:s,children:a,...i}=e;return(0,t.jsxs)(eV.ck,{"data-slot":"select-item",className:eL("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...i,children:[(0,t.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,t.jsx)(eV.wU,{children:(0,t.jsx)(eg.Z,{className:"size-4"})})}),(0,t.jsx)(eV.eT,{children:a})]})}function eW(e){let{className:s,...a}=e;return(0,t.jsx)(eV.u_,{"data-slot":"select-scroll-up-button",className:eL("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(c.Z,{className:"size-4"})})}function eJ(e){let{className:s,...a}=e;return(0,t.jsx)(eV.$G,{"data-slot":"select-scroll-down-button",className:eL("flex cursor-default items-center justify-center py-1",s),...a,children:(0,t.jsx)(o.Z,{className:"size-4"})})}function e$(e){let{className:s,...a}=e;return(0,t.jsx)("textarea",{"data-slot":"textarea",className:eL("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),...a})}var e_=a(1505);function eG(e){let{className:s,value:a,...i}=e;return(0,t.jsx)(e_.fC,{"data-slot":"progress",className:eL("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...i,children:(0,t.jsx)(e_.z$,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})}let eQ=["Amber Unrein","Cristal Monge","Emily Kelly","Michelle Truesdale","Jenae Moore","Ankita Tiwari","Emma Kelly","Morgan Brucks","Grace Heenan","Cary Felzien","Tamara Rounds","Keri Cox","Julianna McKee","Macaria Velasquez","Nasim Nosratinia","Anna Rice","Annie Henderson","Jade Robichaud","Anna Brashear","April Langhammer","Sarah Irvin","Leo Leonard","Raechel Camones","Anne Nugent","Theresa Howard","Hannah Melton","Amanda Thimmesch","Nicole Mathis","Annette Becker","Lety Sarmiento","Olivia Price","Krystal Pittman","Jill Torneden","Ali Russo","Shannon Fletcher","Chelsey Aulukh","Megan Gangwish","Elizabeth Dillon","Vianca Williams","Alyssa Bowker","Asuka Suzuki","Rachel Nikolov","Esha Garg","Terry Christenson","Nicholas Levine","Jillian Case","Hafsah Diakhate","Jodi Claybaugh","Sravya Kaparthi","Tanner Wilson","Katie Chavez","Sara Baker","Lauryn Gorby","Bethany Forseth","Marion Leaman","Rachael Rawlings","Megan Murray","Jessie Lamphier","Daniel Rivera","Rahul Chanolian","Kelsey Strube","Abigayle Joyce","Grace Bolamperti","Madelyn Arnautov","Becca Johnson","Luigi Boccardi","Sarina Fay","Crystal Billings","Vanessa Verschelden","Kelsi Palacios","Nancy Ziegler","Kristin Fravel","Daijah Jones","Yolanda Murr","Betsy Sweiger","John Mclean","Jordan Elliott","Emilia Potts","Bailey Foster","Kate Canova","Reagan Smith","Ashley Barry","Wamda Ahmed","Rachel Heueisen","Linda d'Silva","Rachel Ruiz","Ronal Castro","Robin Davis","Andrea Klempnauer","Victoria Dorman","Emily Work","Rachel Holden","Dan Le","Julie-Ann Dutton","Lucas Lemar","Nashwa Mohammad","Mya Milius","Laura Crabtree","Makaila Pelter","Caitlin Payne","Stephanie Stauffer","Bria Bartsch","Max Hardenbrook","Grace Millington","Jacqueline Smart","Jeffery Honas","Mary Butler","Rafaela Nelson","Francisca Javiera Allendes","Mia Smith","Jonath0n Barnette","Joseph Kelly","Whitney Theis","Cameron Zoraghchi","KUMCRI_batch"];var eX=a(53113);function eY(e){let{files:s,onFilesChange:a}=e,[r,l]=(0,i.useState)(!1),n=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return Math.round(e/Math.pow(1024,s)*100)/100+" "+["Bytes","KB","MB","GB"][s]},c=e=>{e&&a([...s,...Array.from(e).map(e=>({id:Math.random().toString(36).substr(2,9),name:e.name,size:e.size,uploadDate:new Date().toLocaleDateString()}))])},o=e=>{a(s.filter(s=>s.id!==e))},m=e=>{var s;return["jpg","jpeg","png","gif","webp"].includes((null===(s=e.split(".").pop())||void 0===s?void 0:s.toLowerCase())||"")?(0,t.jsx)(eX.Z,{className:"h-4 w-4 text-blue-500"}):(0,t.jsx)(d.Z,{className:"h-4 w-4 text-gray-500"})};return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{onDragOver:e=>{e.preventDefault(),l(!0)},onDragLeave:e=>{e.preventDefault(),l(!1)},onDrop:e=>{e.preventDefault(),l(!1),c(e.dataTransfer.files)},className:"border-2 border-dashed rounded-lg p-4 transition-all cursor-pointer ".concat(r?"border-ku-blue bg-blue-50":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"),children:(0,t.jsxs)("label",{className:"cursor-pointer block",children:[(0,t.jsx)("input",{type:"file",multiple:!0,accept:"image/*,.pdf",className:"hidden",onChange:e=>c(e.target.files)}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(E.Z,{className:"h-6 w-6 mx-auto mb-2 ".concat(r?"text-ku-blue":"text-gray-400")}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:r?(0,t.jsx)("span",{className:"font-medium text-ku-blue",children:"Drop files here"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"font-medium text-ku-blue",children:"Click to upload"})," or drag and drop"]})}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"PDF, PNG, JPG, GIF (multiple files allowed)"})]})]})}),s.length>0&&(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"text-xs font-medium text-gray-700",children:[s.length," file(s) uploaded:"]}),s.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 border border-gray-200 rounded px-2 py-1.5 text-xs group hover:bg-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[m(e.name),(0,t.jsx)("span",{className:"truncate font-medium",children:e.name}),(0,t.jsxs)("span",{className:"text-gray-500 text-xs whitespace-nowrap",children:["(",n(e.size),")"]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>o(e.id),className:"ml-2 p-1 text-red-500 hover:bg-red-50 rounded opacity-0 group-hover:opacity-100 transition-opacity",title:"Remove file",children:(0,t.jsx)(G.Z,{className:"h-3 w-3"})})]},e.id))]})]})}function e0(e){var s;let{onBack:a}=e,[r,l]=(0,i.useState)(1),[n,m]=(0,i.useState)("Participant"),[p,h]=(0,i.useState)(""),[g,y]=(0,i.useState)(null),[b,j]=(0,i.useState)(!1),[N,f]=(0,i.useState)(""),[w,C]=(0,i.useState)(""),[S,k]=(0,i.useState)(""),[A,M]=(0,i.useState)(""),[z,D]=(0,i.useState)("Payment"),[R,L]=(0,i.useState)(""),[U,T]=(0,i.useState)(""),[K,I]=(0,i.useState)(""),[Z,F]=(0,i.useState)([]),[V,E]=(0,i.useState)(""),[q,H]=(0,i.useState)(""),[W,J]=(0,i.useState)(""),[$,_]=(0,i.useState)(null),[X,Y]=(0,i.useState)(!1),[es,ea]=(0,i.useState)(0),[et,ei]=(0,i.useState)(.67),[er,el]=(0,i.useState)(""),[en,ed]=(0,i.useState)({}),[ec,eo]=(0,i.useState)(!1),em=[{id:"P-2026-001",name:"John Smith",studies:["CHS-2026-001","PNS-2026-008"],address:"123 Main St, Kansas City, KS 66101",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2025-156",name:"Sarah Johnson",studies:["NDR-2025-042","DPT-2025-019"],address:"456 Oak Ave, Overland Park, KS 66062",withholdTax:"yes",participantStatus:"Active",status:"Registered"},{id:"P-2026-045",name:"Michael Brown",studies:["DPT-2025-019"],address:"789 Elm Street, Lenexa, KS 66215",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2026-089",name:"Emily Davis",studies:["PNS-2026-008","CHS-2026-001"],address:"321 Pine Rd, Kansas City, MO 64110",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2025-178",name:"Linda Martinez",studies:["DPT-2025-019","NDR-2025-042","CHS-2026-001"],address:"987 Cedar Ln, Olathe, KS 66061",withholdTax:"no",participantStatus:"Inactive",status:"Registered"},{id:"P-2026-012",name:"Jennifer Taylor",studies:["CHS-2026-001"],address:"258 Walnut St, Kansas City, KS 66102",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2025-234",name:"Robert Wilson",studies:["NDR-2025-042"],address:"654 Maple Dr, Shawnee, KS 66203",withholdTax:"yes",participantStatus:"Active",status:"Registered"},{id:"P-2026-078",name:"Patricia Moore",studies:["CHS-2026-001","PNS-2026-008"],address:"147 Birch Ave, Prairie Village, KS 66208",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2026-150",name:"Thomas Garcia",studies:["SDA-2026-003","CHS-2026-001"],address:"741 Spruce St, Kansas City, KS 66112",withholdTax:"no",participantStatus:"Active",status:"Registered"},{id:"P-2026-151",name:"Jessica White",studies:["SDA-2026-003"],address:"852 Ash Blvd, Overland Park, KS 66085",withholdTax:"no",participantStatus:"Active",status:"Registered"}],ex=[{id:"CHS-2026-001",name:"Cardiovascular Health Study",status:"Active",locations:["Main Research Center - Building A","Outpatient Clinic - West Campus"]},{id:"NDR-2025-042",name:"Neurological Disorders Research",status:"Active",locations:["Outpatient Clinic - West Campus","Virtual/Remote Participation"]},{id:"DPT-2025-019",name:"Diabetes Prevention Trial",status:"Study completed",locations:["Main Research Center - Building A","Corp","Remote"]},{id:"PNS-2026-008",name:"Pediatric Nutrition Study",status:"Active",locations:["Westwood","Home Visit - Johnson County Area"]},{id:"SDA-2026-003",name:"Sleep Disorder Analysis",status:"Study start",locations:["Outpatient Clinic - West Campus"]}],eu={"Main Research Center - Building A":"3901 Rainbow Blvd, Kansas City, KS 66160","Outpatient Clinic - West Campus":"4000 Cambridge St, Kansas City, KS 66160",Westwood:"5520 College Blvd, Overland Park, KS 66211",Corp:"4330 Shawnee Mission Pkwy, Fairway, KS 66205"},ep=em.filter(e=>{let s=e.name.toLowerCase().includes(p.toLowerCase())||e.id.toLowerCase().includes(p.toLowerCase()),a="Active"===e.participantStatus&&"Registered"===e.status;return s&&a}),eh=g?ex.filter(e=>g.studies.includes(e.id)):ex,ey=A&&({"CHS-2026-001":[{id:"PS1",visitId:"V1",visitName:"Screening Visit",amount:0,description:"No payment for screening"},{id:"PS2",visitId:"V2",visitName:"Baseline Assessment",amount:75,description:"Baseline visit completion"},{id:"PS3",visitId:"V3",visitName:"Week 4 Follow-up",amount:50,description:"Follow-up visit stipend"},{id:"PS4",visitId:"V4",visitName:"Month 3 Assessment",amount:100,description:"Month 3 assessment payment"},{id:"PS5",visitId:"V5",visitName:"Month 6 Assessment",amount:100,description:"Month 6 assessment payment"},{id:"PS6",visitId:"V6",visitName:"Final Visit",amount:150,description:"Study completion bonus"}],"NDR-2025-042":[{id:"PS1",visitId:"V1",visitName:"Initial Screening",amount:0,description:"No payment for screening"},{id:"PS2",visitId:"V2",visitName:"Neurological Baseline",amount:125,description:"Extensive baseline testing"},{id:"PS3",visitId:"V3",visitName:"Week 2 Check",amount:50,description:"Quick follow-up"},{id:"PS4",visitId:"V4",visitName:"Month 1 Assessment",amount:100,description:"Month 1 comprehensive"},{id:"PS5",visitId:"V5",visitName:"Study Completion",amount:200,description:"Final completion payment"}],"DPT-2025-019":[{id:"PS1",visitId:"V1",visitName:"Screening & Consent",amount:25,description:"Initial consent visit"},{id:"PS2",visitId:"V2",visitName:"Baseline Labs",amount:75,description:"Lab work completion"},{id:"PS3",visitId:"V3",visitName:"Monthly Check-in",amount:30,description:"Monthly stipend"},{id:"PS4",visitId:"V4",visitName:"6-Month Evaluation",amount:150,description:"Six month completion"}],"PNS-2026-008":[{id:"PS1",visitId:"V1",visitName:"Enrollment Visit",amount:50,description:"Enrollment payment"},{id:"PS2",visitId:"V2",visitName:"Week 2 Assessment",amount:75,description:"Week 2 stipend"},{id:"PS3",visitId:"V3",visitName:"Week 4 Assessment",amount:75,description:"Week 4 stipend"},{id:"PS4",visitId:"V4",visitName:"Final Assessment",amount:100,description:"Study completion"}]})[A]||[],eb=[{number:1,title:"Request Information",icon:v.Z},{number:2,title:"Line Items & Receipts",icon:eA.Z},{number:3,title:"Review and Confirm",icon:eM.Z},{number:4,title:"Confirmation",icon:eg.Z}];(0,i.useEffect)(()=>{if("Payment"===z&&(null==g?void 0:g.withholdTax)==="yes"&&Z.length>0){let e=Z.filter(e=>"Tax Withholding"!==e.type).reduce((e,s)=>e+s.amount,0),s=.1*e,a=Z.find(e=>"Tax Withholding"===e.type);a?a.amount!==-s&&F(Z.map(a=>"Tax Withholding"===a.type?{...a,amount:-s,description:"Federal Tax Withholding (10% of $".concat(e.toFixed(2),")")}:a)):F([...Z,{id:"TAX-WITHHOLDING",description:"Federal Tax Withholding (10% of $".concat(e.toFixed(2),")"),amount:-s,type:"Tax Withholding",receipts:[]}])}else(null==g?void 0:g.withholdTax)!=="yes"&&Z.some(e=>"Tax Withholding"===e.type)&&F(Z.filter(e=>"Tax Withholding"!==e.type))},[Z,g,z]);let eN=e=>{y(e),h("".concat(e.id," - ").concat(e.name)),j(!1),A&&!e.studies.includes(A)&&M("")},ev=e=>{_(e.id),E(e.description),H(e.amount.toString()),J(e.type)},ef=e=>{let s=Z.find(s=>s.id===e);if((null==s?void 0:s.type)==="Tax Withholding"){P.A.error("Cannot remove tax withholding line item");return}if(1===Z.length){P.A.error("Cannot remove the last line item");return}F(Z.filter(s=>s.id!==e)),P.A.success("Line item removed")},ew=(e,s)=>Math.abs((e+s).split("").reduce((e,s)=>(e<<5)-e+s.charCodeAt(0),0)%30)+5,eC=()=>Z.reduce((e,s)=>e+s.amount,0),eS=e=>{ed(s=>({...s,[e]:!s[e]}))},ek=e=>{if(1===e)return"Participant"===n&&g?"".concat(g.name,"  ").concat(A,"  ").concat(z):"Caregiver"===n&&N?"".concat(N," (Caregiver)  ").concat(A,"  ").concat(z):"Third-Party/Other"===n&&S?"".concat(S,"  ").concat(A,"  ").concat(z):"Incomplete";if(2===e){let e=Z.reduce((e,s)=>e+s.receipts.length,0);return"".concat(Z.length," item(s)  $").concat(eC().toFixed(2),"  ").concat(e," receipt(s)")}return""};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Payment Request"}),(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:["Step ",r," of ",4===r?"Confirmation":"3",": ",eb[r-1].title]})]}),a&&r<4&&(0,t.jsxs)(eT,{variant:"outline",onClick:()=>eo(!0),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:[(0,t.jsx)(G.Z,{className:"h-4 w-4 mr-2"}),"Cancel Request"]})]}),(0,t.jsxs)(eK,{className:"p-4",children:[(0,t.jsx)("div",{className:"mb-3",children:(0,t.jsx)(eG,{value:(r-1)/(eb.length-1)*100,className:"h-2"})}),(0,t.jsx)("div",{className:"flex items-start justify-between gap-2",children:eb.map((e,s)=>{let a=e.icon,i=r===e.number,l=r>e.number,n=l&&r!==e.number;return(0,t.jsxs)("div",{className:"flex items-center flex-1",children:[(0,t.jsx)("div",{className:"flex flex-col items-center w-full",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[n&&(0,t.jsx)("button",{onClick:()=>eS(e.number),className:"p-1 hover:bg-gray-100 rounded transition-colors flex-shrink-0",title:en[e.number]?"Collapse":"Expand",children:en[e.number]?(0,t.jsx)(c.Z,{className:"h-4 w-4 text-gray-600"}):(0,t.jsx)(o.Z,{className:"h-4 w-4 text-gray-600"})}),!n&&(0,t.jsx)("div",{className:"w-6"}),(0,t.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center transition-colors flex-shrink-0 ".concat(i?"bg-ku-blue text-white":l?"bg-green-600 text-white":"bg-gray-200 text-gray-600"),children:l?(0,t.jsx)(eg.Z,{className:"h-5 w-5"}):(0,t.jsx)(a,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("p",{className:"text-sm font-semibold truncate ".concat(i?"text-ku-blue":"text-gray-700"),children:[e.number<4?"".concat(e.number,". "):"",e.title]}),"Payment"===z&&(null==g?void 0:g.withholdTax)==="yes"&&e.number<=3&&(0,t.jsx)("span",{className:"flex-shrink-0 px-1.5 py-0.5 bg-orange-100 text-orange-800 text-[10px] font-semibold rounded",children:"TAX"})]}),l&&en[e.number]&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-0.5 line-clamp-1",children:ek(e.number)})]})]})}),s<eb.length-1&&(0,t.jsx)("div",{className:"flex-1 h-0.5 mx-2 mt-5 ".concat(l?"bg-green-600":"bg-gray-200")})]},e.number)})})]}),(0,t.jsxs)(eK,{className:"p-6 min-h-[500px]",children:[1===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("div",{className:"flex items-start justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Request Information"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Provide basic details about the payment request."})]})}),"Payment"===z&&(null==g?void 0:g.withholdTax)==="yes"&&(0,t.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(ee.Z,{className:"h-5 w-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-orange-900",children:"Tax Withholding Active"}),(0,t.jsx)("p",{className:"text-sm text-orange-800 mt-1",children:"This participant has elected to withhold federal taxes. A 10% tax withholding line item will be automatically added to deduct from the total payment amount."})]})]})}),(0,t.jsxs)("div",{className:"space-y-6 max-w-4xl",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"recipientType",children:"Recipient Type *"}),(0,t.jsxs)(eE,{value:n,onValueChange:e=>{m(e),y(null),h(""),f(""),C(""),k("")},children:[(0,t.jsx)(eB,{id:"recipientType",children:(0,t.jsx)(eq,{})}),(0,t.jsxs)(eO,{children:[(0,t.jsx)(eH,{value:"Participant",children:"Participant"}),(0,t.jsx)(eH,{value:"Caregiver",children:"Caregiver"}),(0,t.jsx)(eH,{value:"Third-Party/Other",children:"Third-Party/Other"})]})]})]}),"Participant"===n&&(0,t.jsxs)("div",{className:"space-y-2 relative",children:[(0,t.jsx)(eF,{htmlFor:"participant",children:"Search Participant *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)(eI,{id:"participant",value:p,onChange:e=>{h(e.target.value),j(!0)},onFocus:()=>j(!0),placeholder:"Search by ID or name...",className:"pl-10"})]}),b&&ep.length>0&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:ep.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>eN(e),className:"w-full px-4 py-2 text-left hover:bg-gray-100 transition-colors",children:[(0,t.jsx)("div",{className:"font-medium",children:e.id}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.name})]},e.id))})]}),"Caregiver"===n&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"caregiverName",children:"Caregiver Name *"}),(0,t.jsx)(eI,{id:"caregiverName",value:N,onChange:e=>f(e.target.value),placeholder:"Enter caregiver's name..."})]}),"Third-Party/Other"===n&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"thirdPartyName",children:"Third-Party/Other Name *"}),(0,t.jsx)(eI,{id:"thirdPartyName",value:S,onChange:e=>k(e.target.value),placeholder:"Enter name..."})]}),"Participant"===n&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"participantName",children:"Participant Name"}),(0,t.jsx)(eI,{id:"participantName",value:g?g.name:"",readOnly:!0,disabled:!0,placeholder:"Select participant first...",className:"bg-gray-100"})]}),"Caregiver"===n&&(0,t.jsxs)("div",{className:"space-y-2 relative",children:[(0,t.jsx)(eF,{htmlFor:"associatedParticipant",children:"Associated Participant *"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:18}),(0,t.jsx)(eI,{id:"associatedParticipant",value:w,onChange:e=>{C(e.target.value),j(!0)},onFocus:()=>j(!0),placeholder:"Search participant...",className:"pl-10"})]}),b&&ep.length>0&&w&&(0,t.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:em.filter(e=>e.name.toLowerCase().includes(w.toLowerCase())||e.id.toLowerCase().includes(w.toLowerCase())).map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{y(e),C("".concat(e.id," - ").concat(e.name)),j(!1)},className:"w-full px-4 py-2 text-left hover:bg-gray-100 transition-colors",children:[(0,t.jsx)("div",{className:"font-medium",children:e.id}),(0,t.jsx)("div",{className:"text-sm text-gray-600",children:e.name})]},e.id))})]}),"Third-Party/Other"===n&&(0,t.jsx)("div",{className:"space-y-2"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"study",children:"Study *"}),(0,t.jsxs)(eE,{value:A,onValueChange:M,children:[(0,t.jsx)(eB,{id:"study",children:(0,t.jsx)(eq,{placeholder:"Select study"})}),(0,t.jsx)(eO,{children:eh.map(e=>(0,t.jsxs)(eH,{value:e.id,disabled:"Study start"===e.status||"Study completed"===e.status||"Canceled/withdrawn"===e.status,className:"Active"!==e.status?"text-gray-400":"",children:[e.id," - ",e.name,"Active"!==e.status?" (".concat(e.status,")"):""]},e.id))})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"requestType",children:"Request Type *"}),(0,t.jsxs)(eE,{value:z,onValueChange:e=>{D(e),L(""),F([])},children:[(0,t.jsx)(eB,{id:"requestType",children:(0,t.jsx)(eq,{})}),(0,t.jsxs)(eO,{children:[(0,t.jsx)(eH,{value:"Payment",children:"Payment (from schedule)"}),(0,t.jsx)(eH,{value:"Reimbursement",children:"Reimbursement (expense)"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"requesterLabel",children:"Requester"}),(0,t.jsxs)(eE,{value:K,onValueChange:I,children:[(0,t.jsx)(eB,{id:"requesterLabel",children:(0,t.jsx)(eq,{placeholder:"Select requester (optional)"})}),(0,t.jsx)(eO,{className:"max-h-60",children:eQ.map(e=>(0,t.jsx)(eH,{value:e,children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"requestDate",children:"Request Date"}),(0,t.jsx)(eI,{id:"requestDate",value:new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"}),disabled:!0,className:"bg-gray-50"})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(eF,{htmlFor:"notes",children:"Request Notes"}),(0,t.jsx)(e$,{id:"notes",value:U,onChange:e=>T(e.target.value),placeholder:"Add any additional notes or context for this request...",rows:4})]})})]})]}),2===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Line Items & Receipts"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Payment"===z?"Add payment line items for scheduled visits and upload receipts as needed.":"Add reimbursement expenses and upload supporting receipts."})]}),("Reimbursement"===z||"Payment"===z)&&(0,t.jsxs)(eT,{onClick:()=>{$||(_("new"),E(""),H(""),J("Payment"===z?"Payment":""))},className:"bg-ku-blue hover:bg-ku-blue-dark",disabled:null!==$,children:[(0,t.jsx)(B.Z,{className:"h-4 w-4 mr-2"}),"Add Line Item"]})]}),"Payment"===z&&(null==g?void 0:g.withholdTax)==="yes"&&(0,t.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(ee.Z,{className:"h-5 w-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-orange-900",children:"Tax Withholding Active"}),(0,t.jsx)("p",{className:"text-sm text-orange-800 mt-1",children:"A 10% federal tax withholding line item will be automatically added at the end of your line items to deduct from the total payment amount."})]})]})}),$&&(0,t.jsxs)("div",{className:"bg-blue-50 border border-ku-blue rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"new"===$?"Add New Line Item":"Edit Line Item"}),(0,t.jsx)(eT,{type:"button",variant:"ghost",size:"sm",onClick:()=>{_(null),E(""),H(""),J("")},children:(0,t.jsx)(G.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-12 gap-4",children:["Reimbursement"===z&&(0,t.jsxs)("div",{className:"col-span-3",children:[(0,t.jsx)(eF,{children:"Type *"}),(0,t.jsxs)(eE,{value:W,onValueChange:e=>{J(e),"Drive/Mileage"===e?Y(!0):Y(!1)},children:[(0,t.jsx)(eB,{children:(0,t.jsx)(eq,{placeholder:"Select type"})}),(0,t.jsx)(eO,{children:["Drive/Mileage","Tolls/Parking","Flight","Hotel/Accommodations","Rental Car","Public Transit","Taxi/Rideshare","Meals/Food","Other reimbursement"].map(e=>(0,t.jsx)(eH,{value:e,children:e},e))})]})]}),"Payment"===z&&(0,t.jsxs)("div",{className:"col-span-3",children:[(0,t.jsx)(eF,{children:"Visit *"}),(0,t.jsxs)(eE,{value:R,onValueChange:e=>{L(e);let s=ey.find(s=>s.id===e);s&&(E(s.description),H(s.amount.toString()))},children:[(0,t.jsx)(eB,{children:(0,t.jsx)(eq,{placeholder:"Select visit"})}),(0,t.jsx)(eO,{children:ey.map(e=>(0,t.jsxs)(eH,{value:e.id,children:[e.visitName," - $",e.amount]},e.id))})]})]}),(0,t.jsxs)("div",{className:"col-span-5",children:[(0,t.jsx)(eF,{children:"Description *"}),(0,t.jsx)(eI,{value:V,onChange:e=>E(e.target.value),placeholder:"Enter description...",readOnly:"Payment"===z,className:"Payment"===z?"bg-gray-50":""})]}),(0,t.jsxs)("div",{className:"col-span-3",children:[(0,t.jsx)(eF,{children:"Amount *"}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(eI,{type:"number",step:"0.01",value:q,onChange:e=>H(e.target.value),placeholder:"0.00",className:"Drive/Mileage"===W||"Payment"===z?"bg-gray-50":"",readOnly:"Drive/Mileage"===W||"Payment"===z}),"Drive/Mileage"===W&&(0,t.jsx)("button",{type:"button",onClick:()=>Y(!X),className:"text-xs text-blue-600 hover:underline whitespace-nowrap",children:X?"Hide":"Calc"})]})]}),(0,t.jsx)("div",{className:"col-span-1 flex items-end",children:(0,t.jsx)(eT,{type:"button",onClick:()=>{if(!V){P.A.error("Please enter a description");return}if(!q||0>=parseFloat(q)){P.A.error("Please enter a valid amount");return}if("Reimbursement"===z&&!W){P.A.error("Please select a reimbursement type");return}$&&"new"!==$?(F(Z.map(e=>e.id===$?{...e,description:V,amount:parseFloat(q),type:"Payment"===z?"Payment":W}:e)),P.A.success("Line item updated")):(F([...Z,{id:"LI-".concat(Date.now()),description:V,amount:parseFloat(q),type:"Payment"===z?"Payment":W,receipts:[]}]),P.A.success("Line item added")),_(null),E(""),H(""),J(""),L("")},className:"bg-ku-blue hover:bg-ku-blue-dark w-full",size:"sm",children:(0,t.jsx)(B.Z,{className:"h-4 w-4"})})})]}),X&&"Drive/Mileage"===W&&(0,t.jsxs)("div",{className:"mt-4 bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"font-semibold mb-3",children:"Mileage Calculator"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(eF,{htmlFor:"studyLocation",children:"Study Location *"}),(0,t.jsxs)(eE,{value:er,onValueChange:el,children:[(0,t.jsx)(eB,{id:"studyLocation",children:(0,t.jsx)(eq,{placeholder:"Select location"})}),(0,t.jsx)(eO,{children:A&&(null===(s=ex.find(e=>e.id===A))||void 0===s?void 0:s.locations.map(e=>(0,t.jsx)(eH,{value:e,children:e},e)))})]}),er&&eu[er]&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:eu[er]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eF,{children:"Participant Address"}),(0,t.jsx)("div",{className:"px-3 py-2 bg-white border border-gray-300 rounded-lg text-sm text-gray-900",children:(null==g?void 0:g.address)||"No participant selected"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eF,{children:"Estimated Miles"}),(0,t.jsx)(eI,{type:"number",step:"1",value:es,onChange:e=>{let s=parseFloat(e.target.value)||0;ea(s),H((s*et).toFixed(2))},placeholder:"0"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Manual entry or auto-calculate"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(eF,{children:"Mileage Rate"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),(0,t.jsx)(eI,{type:"number",step:"0.01",value:et,onChange:e=>{let s=parseFloat(e.target.value)||.67;ei(s),H((es*s).toFixed(2))},className:"pl-7",placeholder:"0.67"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"IRS standard rate (2024)"})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,t.jsx)(eT,{type:"button",onClick:()=>{if(!g||!er){P.A.error("Please ensure participant and study location are selected");return}let e=g.address,s=eu[er];if(!s){P.A.error("Study location address not found");return}let a=ew(e,s);ea(a);let t=a*et;H(t.toFixed(2)),P.A.success("Calculated ".concat(a," miles \xd7 $").concat(et,"/mile = $").concat(t.toFixed(2)))},className:"bg-green-600 hover:bg-green-700",size:"sm",children:"Auto-Calculate Distance"}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Calculated Amount"}),(0,t.jsxs)("p",{className:"text-xl font-bold text-ku-blue",children:["$",(es*et).toFixed(2)]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[es," miles \xd7 $",et,"/mile"]})]})]}),(0,t.jsx)("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:(0,t.jsxs)("p",{className:"text-xs text-blue-800",children:[(0,t.jsx)("strong",{children:"Note:"}),' Click "Auto-Calculate Distance" to estimate miles between participant address and study location, or manually enter the miles driven.']})})]})]}),Z.length>0?(0,t.jsx)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-200 border-b-2 border-gray-400",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700 w-32",children:"Request Type"}),(0,t.jsx)("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700 w-28",children:"Type"}),(0,t.jsx)("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),(0,t.jsx)("th",{className:"px-3 py-3 text-right text-sm font-medium text-gray-700 w-28",children:"Amount"}),(0,t.jsx)("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700 w-48",children:"Notes"}),(0,t.jsx)("th",{className:"px-3 py-3 text-left text-sm font-medium text-gray-700 w-64",children:"Receipts"}),(0,t.jsx)("th",{className:"px-3 py-3 text-center text-sm font-medium text-gray-700 w-24",children:"Actions"})]})}),(0,t.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[Z.map(e=>{let s="Tax Withholding"===e.type;return(0,t.jsxs)("tr",{className:s?"bg-orange-50 hover:bg-orange-100":"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-gray-900",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(s?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"),children:s?"Tax":z})}),(0,t.jsxs)("td",{className:"px-3 py-3 text-sm text-gray-900",children:[e.type&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs rounded ".concat(s?"bg-orange-200 text-orange-900 font-semibold":"bg-gray-200 text-gray-700"),children:e.type}),!e.type&&(0,t.jsx)("span",{className:"text-gray-400",children:""})]}),(0,t.jsxs)("td",{className:"px-3 py-3 text-sm text-gray-900",children:[s&&(0,t.jsx)(ej.Z,{className:"h-4 w-4 inline mr-1 text-orange-600"}),e.description]}),(0,t.jsxs)("td",{className:"px-3 py-3 text-sm text-right font-medium ".concat(s?"text-orange-900 font-bold":"text-gray-900"),children:[s&&e.amount>0?"-":"","$",Math.abs(e.amount).toFixed(2)]}),(0,t.jsx)("td",{className:"px-3 py-3",children:s?(0,t.jsx)("span",{className:"text-xs text-gray-400 italic",children:"Auto-calculated"}):(0,t.jsx)(eI,{type:"text",value:e.notes||"",onChange:s=>{F(Z.map(a=>a.id===e.id?{...a,notes:s.target.value}:a))},placeholder:"Add notes...",className:"text-xs"})}),(0,t.jsx)("td",{className:"px-3 py-3",children:s?(0,t.jsx)("span",{className:"text-xs text-gray-400 italic",children:"No receipt needed"}):(0,t.jsx)(eY,{files:e.receipts,onFilesChange:s=>{F(Z.map(a=>a.id===e.id?{...a,receipts:s}:a))}})}),!s&&(0,t.jsx)("td",{className:"px-3 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:["Reimbursement"===z&&(0,t.jsx)(eT,{type:"button",variant:"outline",size:"sm",onClick:()=>ev(e),children:"Edit"}),(0,t.jsx)(eT,{type:"button",variant:"ghost",size:"sm",onClick:()=>ef(e.id),className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,t.jsx)(Q.Z,{className:"h-4 w-4"})})]})}),s&&"Reimbursement"===z&&(0,t.jsx)("td",{className:"px-3 py-3"})]},e.id)}),(0,t.jsxs)("tr",{className:"bg-gray-50 font-semibold",children:[(0,t.jsx)("td",{className:"px-3 py-3 text-sm text-gray-900",colSpan:4,children:"Total Amount"}),(0,t.jsxs)("td",{className:"px-3 py-3 text-sm text-gray-900 text-right",children:["$",eC().toFixed(2)]}),(0,t.jsx)("td",{className:"px-3 py-3"}),(0,t.jsx)("td",{className:"px-3 py-3"}),"Reimbursement"===z&&(0,t.jsx)("td",{})]})]})]})}):(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500 border-2 border-dashed border-gray-300 rounded-lg",children:[(0,t.jsx)(eA.Z,{className:"h-12 w-12 mx-auto mb-3 opacity-30"}),(0,t.jsx)("p",{children:"No line items added yet"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:'Click "Add Line Item" to get started'})]})]}),3===r&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Review and Confirm"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Review all details before submitting for approval."})]}),"Payment"===z&&(null==g?void 0:g.withholdTax)==="yes"&&(0,t.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-4 rounded",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(ee.Z,{className:"h-5 w-5 text-orange-500 mt-0.5 mr-3 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-orange-900",children:"Tax Withholding Applied"}),(0,t.jsx)("p",{className:"text-sm text-orange-800 mt-1",children:"A 10% federal tax withholding has been deducted from the total payment amount as per participant's tax election."})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-50 border border-gray-300 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Request Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Recipient Type"}),(0,t.jsx)("p",{className:"font-medium",children:n})]}),g&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Participant ID"}),(0,t.jsx)("p",{className:"font-medium",children:g.id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Participant Name"}),(0,t.jsx)("p",{className:"font-medium",children:g.name})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Study"}),(0,t.jsx)("p",{className:"font-medium",children:A})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Request Type"}),(0,t.jsx)("p",{className:"font-medium",children:z})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Requester"}),(0,t.jsx)("p",{className:"font-medium",children:K||(0,t.jsx)("span",{className:"text-gray-400",children:"Not specified"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Request Date"}),(0,t.jsx)("p",{className:"font-medium",children:new Date().toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"numeric"})})]}),U&&(0,t.jsxs)("div",{className:"col-span-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Notes"}),(0,t.jsx)("p",{className:"font-medium",children:U})]})]})]}),(0,t.jsxs)("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:[(0,t.jsx)("div",{className:"bg-gray-100 px-4 py-3 border-b border-gray-300",children:(0,t.jsxs)("h3",{className:"font-semibold",children:["Line Items (",Z.length,")"]})}),(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-200 border-b border-gray-300",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Description"}),"Reimbursement"===z&&(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Type"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Notes"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-sm font-medium text-gray-700",children:"Receipts"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-sm font-medium text-gray-700",children:"Amount"})]})}),(0,t.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[Z.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.description}),"Reimbursement"===z&&(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.type}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-600",children:e.notes||(0,t.jsx)("span",{className:"text-gray-400",children:""})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-center",children:e.receipts.length>0?(0,t.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-800 rounded text-xs",children:[(0,t.jsx)(d.Z,{className:"h-3 w-3"}),e.receipts.length]}):(0,t.jsx)("span",{className:"text-gray-400",children:""})}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-gray-900 text-right font-medium",children:["$",e.amount.toFixed(2)]})]},e.id)),(0,t.jsxs)("tr",{className:"bg-gray-50 font-semibold",children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",colSpan:"Reimbursement"===z?4:3,children:"Total Amount"}),(0,t.jsxs)("td",{className:"px-4 py-3 text-sm text-ku-blue text-right text-lg",children:["$",eC().toFixed(2)]})]})]})]})]})]}),4===r&&(0,t.jsxs)("div",{className:"space-y-6 text-center py-8",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-100 flex items-center justify-center",children:(0,t.jsx)(eg.Z,{className:"h-10 w-10 text-green-600"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Request Successfully Submitted!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Your payment request has been submitted for approval."})]}),(0,t.jsxs)("div",{className:"bg-white border-2 border-green-200 rounded-lg p-6 max-w-2xl mx-auto text-left",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Request ID"}),(0,t.jsxs)("p",{className:"font-semibold text-lg",children:["REQ-",Math.floor(9e3*Math.random())+1e3]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Submitted Date"}),(0,t.jsx)("p",{className:"font-semibold",children:new Date().toLocaleDateString()})]})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Approval Workflow"}),(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-ku-blue text-white flex items-center justify-center text-sm font-semibold",children:"1"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Study Coordinator Review"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Dr. Sarah Chen  Expected: 1-2 business days"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold",children:"2"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Finance Department Approval"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Pending coordinator review"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-semibold",children:"3"}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Payment Processing"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Pending finance approval"})]})]})]})]})]}),(0,t.jsx)("div",{className:"flex items-center justify-center gap-3 pt-4",children:(0,t.jsx)(eT,{onClick:()=>{a&&a()},className:"bg-ku-blue hover:bg-ku-blue-dark",children:"Return to Payments"})})]})]}),r<4&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)(eT,{variant:"outline",onClick:()=>{r>1&&l(r-1)},disabled:1===r,children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"Previous"]}),r<3?(0,t.jsxs)(eT,{onClick:()=>{if(1===r){if("Participant"===n&&!g){P.A.error("Please select a participant");return}if("Caregiver"===n){if(!N){P.A.error("Please enter caregiver name");return}if(!w){P.A.error("Please enter associated participant ID");return}}if("Third-Party/Other"===n&&!S){P.A.error("Please enter third-party/other name");return}if(!A){P.A.error("Please select a study");return}}if(2===r){if(0===Z.length){P.A.error("Please add at least one line item");return}for(let e of Z){if(!e.description){P.A.error("All line items must have a description");return}if("Tax Withholding"!==e.type&&e.amount<=0){P.A.error("All line items must have a valid amount");return}if("Reimbursement"===z&&!e.type){P.A.error("All reimbursement items must have a type");return}}}r<4&&l(r+1)},className:"bg-ku-blue hover:bg-ku-blue-dark",children:["Next",(0,t.jsx)(x.Z,{className:"h-4 w-4 ml-2"})]}):(0,t.jsxs)(eT,{onClick:()=>{P.A.success("Payment request submitted for approval"),l(4)},className:"bg-green-600 hover:bg-green-700",children:[(0,t.jsx)(eg.Z,{className:"h-4 w-4 mr-2"}),"Submit for Approval"]})]}),ec&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4 mb-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full bg-red-100 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(ee.Z,{className:"h-6 w-6 text-red-600"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Cancel Payment Request?"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Are you sure you want to cancel this payment request? All entered information will be lost and cannot be recovered."})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-end gap-3 mt-6",children:[(0,t.jsx)(eT,{variant:"outline",onClick:()=>eo(!1),children:"Continue Editing"}),(0,t.jsx)(eT,{onClick:()=>{eo(!1),a&&a()},className:"bg-red-600 hover:bg-red-700 text-white",children:"Yes, Cancel Request"})]})]})})]})}var e2=a(92735);function e1(){let[e,s]=(0,i.useState)(""),[a,r]=(0,i.useState)("all"),[l,d]=(0,i.useState)("all"),[m,x]=(0,i.useState)(!1),u=[{id:1,paymentId:"PAY-2026-001",requestId:"REQ-2026-002",participantId:"P-2025-156",participantName:"Sarah Johnson",study:"NDR-2025-042",disbursementCurrency:"USD",amountInDisbursementCurrency:75,transactionDate:"2026-01-15",transactionType:"Reimbursement",transactionSubType:"Parking",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Visit 1",paymentMethod:"Bank Transfer",approver:"Patrick Cruz",approveDate:"2026-01-10",approvalNotes:"All documentation verified and complete"},{id:2,paymentId:"PAY-2026-002",requestId:"REQ-2026-006",participantId:"P-2025-178",participantName:"Linda Martinez",study:"DPT-2025-019",disbursementCurrency:"USD",amountInDisbursementCurrency:35,transactionDate:"2026-01-14",transactionType:"Reimbursement",transactionSubType:"Meal",paymentType:"Check",paymentSubtype:"Paper Check",milestone:"Visit 2",paymentMethod:"Mail Check",approver:"Tashanna Sawyer",approveDate:"2026-01-08",approvalNotes:"Meal receipts reviewed and approved"},{id:3,paymentId:"PAY-2025-045",requestId:"REQ-2025-005",participantId:"P-2025-234",participantName:"Robert Wilson",study:"CIS-2025-055",disbursementCurrency:"USD",amountInDisbursementCurrency:200,transactionDate:"2026-01-05",transactionType:"Payment",transactionSubType:"Stipend",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Monthly Participation",paymentMethod:"Bank Transfer",approver:"Kimmy Clifton",approveDate:"2025-12-30",approvalNotes:"Monthly participation payment approved"},{id:4,paymentId:"PAY-2025-046",requestId:"REQ-2025-008",participantId:"P-2025-298",participantName:"David Anderson",study:"ATE-2025-031",disbursementCurrency:"USD",amountInDisbursementCurrency:300,transactionDate:"2026-01-08",transactionType:"Payment",transactionSubType:"Completion Bonus",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Study Completion",paymentMethod:"Bank Transfer",approver:"Jennifer Staley",approveDate:"2026-01-02",approvalNotes:"Final study completion payment - all milestones met"},{id:5,paymentId:"PAY-2026-003",requestId:"REQ-2025-087",participantId:"P-2025-089",participantName:"Maria Garcia",study:"CHS-2026-001",disbursementCurrency:"USD",amountInDisbursementCurrency:150,transactionDate:"2026-01-12",transactionType:"Reimbursement",transactionSubType:"Travel",paymentType:"Prepaid Card",paymentSubtype:"Visa Gift Card",milestone:"Visit 3",paymentMethod:"Prepaid Card",approver:"Dr. Sarah Chen",approveDate:"2026-01-06",approvalNotes:"Mileage reimbursement approved - 60 miles @ $2.50/mile"},{id:6,paymentId:"PAY-2026-004",requestId:"REQ-2025-123",participantId:"P-2025-045",participantName:"Thomas Lee",study:"PNS-2026-008",disbursementCurrency:"USD",amountInDisbursementCurrency:100,transactionDate:"2026-01-18",transactionType:"Payment",transactionSubType:"Stipend",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"Baseline Visit",paymentMethod:"Bank Transfer",approver:"Douglas Ross",approveDate:"2026-01-14",approvalNotes:"Baseline visit compensation approved"},{id:7,paymentId:"PAY-2026-005",requestId:"REQ-2025-156",participantId:"P-2025-201",participantName:"Angela White",study:"DPT-2025-019",disbursementCurrency:"USD",amountInDisbursementCurrency:50,transactionDate:"2026-01-20",transactionType:"Reimbursement",transactionSubType:"Parking",paymentType:"Check",paymentSubtype:"Paper Check",milestone:"Visit 1",paymentMethod:"Mail Check",approver:"Ted Noravong",approveDate:"2026-01-16",approvalNotes:"Parking fees verified and approved"},{id:8,paymentId:"PAY-2026-006",requestId:"REQ-2026-034",participantId:"P-2026-012",participantName:"Christopher Brown",study:"NDR-2025-042",disbursementCurrency:"USD",amountInDisbursementCurrency:250,transactionDate:"2026-01-22",transactionType:"Payment",transactionSubType:"Incentive",paymentType:"Direct Deposit",paymentSubtype:"ACH",milestone:"6-Month Follow-up",paymentMethod:"Bank Transfer",approver:"Megan Hummelgaard",approveDate:"2026-01-19",approvalNotes:"Follow-up visit incentive approved"}],p=u.filter(s=>{let t=s.participantName.toLowerCase().includes(e.toLowerCase())||s.participantId.toLowerCase().includes(e.toLowerCase())||s.study.toLowerCase().includes(e.toLowerCase())||s.paymentId.toLowerCase().includes(e.toLowerCase())||s.requestId.toLowerCase().includes(e.toLowerCase()),i="all"===a||s.paymentMethod===a,r="all"===l||s.paymentType===l;return t&&i&&r}),h=u.length,g=u.reduce((e,s)=>e+s.amountInDisbursementCurrency,0),y=g/h,b=u.filter(e=>e.transactionDate>="2026-01-01").length;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white border-l-4 border-ku-blue rounded-lg shadow-sm p-5 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-lg flex items-center justify-center shadow-sm",children:(0,t.jsx)(n.Z,{className:"text-white",size:24})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl text-gray-800 font-semibold",children:"Completed Payments"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"View all processed and completed payments"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>x(!m),className:"p-2.5 text-gray-600 hover:bg-white hover:text-blue-600 rounded-lg transition-all shadow-sm",title:m?"Hide Key Performance Indicators":"Show Key Performance Indicators",children:m?(0,t.jsx)(c.Z,{size:20}):(0,t.jsx)(o.Z,{size:20})}),(0,t.jsx)("button",{onClick:()=>{P.A.success("Completed Payments exported to Excel successfully")},className:"flex items-center gap-2 border border-gray-300 px-4 py-2.5 rounded-lg hover:bg-gray-50 font-medium transition-all",title:"Export to Excel",children:(0,t.jsx)(q.Z,{size:20})})]})]}),m&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Payments"}),(0,t.jsx)(n.Z,{className:"text-green-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:h}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"All time"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Total Amount"}),(0,t.jsx)(n.Z,{className:"text-blue-500",size:24})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:["$",g.toFixed(2)]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"All payments"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"Average Payment"}),(0,t.jsx)(n.Z,{className:"text-purple-500",size:24})]}),(0,t.jsxs)("p",{className:"text-3xl font-bold",children:["$",y.toFixed(2)]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Per transaction"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("p",{className:"text-gray-600",children:"This Month"}),(0,t.jsx)(n.Z,{className:"text-orange-500",size:24})]}),(0,t.jsx)("p",{className:"text-3xl font-bold",children:b}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"January 2026"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"flex-1 relative",children:[(0,t.jsx)(O.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),(0,t.jsx)("input",{type:"text",placeholder:"Search by participant, payment ID, request ID, or study...",value:e,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(H.Z,{size:20,className:"text-gray-400"}),(0,t.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Payment Methods"}),(0,t.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,t.jsx)("option",{value:"Mail Check",children:"Mail Check"}),(0,t.jsx)("option",{value:"Prepaid Card",children:"Prepaid Card"})]}),(0,t.jsxs)("select",{value:l,onChange:e=>d(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"all",children:"All Payment Types"}),(0,t.jsx)("option",{value:"Direct Deposit",children:"Direct Deposit"}),(0,t.jsx)("option",{value:"Check",children:"Check"}),(0,t.jsx)("option",{value:"Prepaid Card",children:"Prepaid Card"})]})]})]})}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment ID"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Request ID"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Participant"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Study"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Disbursement Currency"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Transaction Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Transaction Type"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Transaction SubType"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment Type"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment Subtype"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Milestone"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Payment Method"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approver"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approve Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Approval Notes"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-gray-600",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"divide-y divide-gray-200",children:p.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:e.paymentId}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.requestId}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.participantName}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:e.participantId})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.study}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:e.disbursementCurrency}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:["$",e.amountInDisbursementCurrency.toFixed(2)]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.transactionDate}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.transactionType}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.transactionSubType}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"px-2 py-1 rounded-full text-xs ".concat("Direct Deposit"===e.paymentType?"bg-blue-100 text-blue-800":"Check"===e.paymentType?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:e.paymentType})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.paymentSubtype}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.milestone}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.paymentMethod}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.approver}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.approveDate}),(0,t.jsx)("td",{className:"px-6 py-4 max-w-xs",children:(0,t.jsx)("p",{className:"text-sm text-gray-600 truncate",title:e.approvalNotes,children:e.approvalNotes})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"View Details",children:(0,t.jsx)(W.Z,{size:16})}),(0,t.jsx)("button",{className:"p-2 text-green-600 hover:bg-green-50 rounded",title:"Download Receipt",children:(0,t.jsx)(e2.Z,{size:16})})]})})]},e.id))})]})}),0===p.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)("p",{className:"text-lg",children:"No completed payments found"}),(0,t.jsx)("p",{className:"text-sm mt-1",children:"Adjust your filters to see more results"})]}),p.length>0&&(0,t.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-gray-600",children:["Showing ",p.length," of ",u.length," payments"]}),(0,t.jsxs)("p",{className:"text-gray-600 font-medium",children:["Total: $",p.reduce((e,s)=>e+s.amountInDisbursementCurrency,0).toFixed(2)]})]})]})]})}function e6(e){let{reportType:s="general"}=e,[a,r]=(0,i.useState)("study-expense");return(0,t.jsx)("div",{className:"space-y-6",children:(()=>{if("reports-financial"===s)return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl mb-2",children:"Financial Reporting"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Generate comprehensive financial reports for studies, participants, and expenses."})]}),(0,t.jsxs)("div",{className:"w-64",children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Report Type"}),(0,t.jsxs)("select",{value:a,onChange:e=>r(e.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"study-expense",children:"Study to Expense"}),(0,t.jsx)("option",{value:"participant-expense",children:"Participant to Expense"}),(0,t.jsx)("option",{value:"itemized",children:"Itemized Reports"}),(0,t.jsx)("option",{value:"rollup",children:"Roll-up Reports"})]})]})]}),"study-expense"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Study to Expense Report"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"View expense breakdown by study with detailed financial analysis."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Study"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"All Studies"}),(0,t.jsx)("option",{children:"CHS-2026-001"}),(0,t.jsx)("option",{children:"NDR-2025-042"}),(0,t.jsx)("option",{children:"DPT-2025-019"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[(0,t.jsx)(e2.Z,{size:16}),"Generate Report"]})]}),"participant-expense"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Participant to Expense Report"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"View expense breakdown by participant with payment history."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Participant"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"All Participants"}),(0,t.jsx)("option",{children:"John Smith"}),(0,t.jsx)("option",{children:"Sarah Johnson"}),(0,t.jsx)("option",{children:"Michael Brown"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[(0,t.jsx)(e2.Z,{size:16}),"Generate Report"]})]}),"itemized"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Itemized Reports"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Detailed itemized expense reports by Site, Study, Participant, and Reimbursement type."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Report By"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"Site"}),(0,t.jsx)("option",{children:"Study"}),(0,t.jsx)("option",{children:"Participant"}),(0,t.jsx)("option",{children:"Reimbursement"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Filter"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"All"}),(0,t.jsx)("option",{children:"KUMC Main"}),(0,t.jsx)("option",{children:"KUMC West"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[(0,t.jsx)(e2.Z,{size:16}),"Generate Itemized Report"]})]}),"rollup"===a&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"border-t border-gray-200 pt-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Roll-up Reports"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Aggregated roll-up reports by Site, Study, Participant, and Reimbursement type."})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Roll-up By"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"Site"}),(0,t.jsx)("option",{children:"Study"}),(0,t.jsx)("option",{children:"Participant"}),(0,t.jsx)("option",{children:"Reimbursement"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Period"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"Monthly"}),(0,t.jsx)("option",{children:"Quarterly"}),(0,t.jsx)("option",{children:"Yearly"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Start Date"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"End Date"}),(0,t.jsx)("input",{type:"date",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[(0,t.jsx)(e2.Z,{size:16}),"Generate Roll-up Report"]})]})]})});switch(s){case"reports-1099":return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-xl mb-2",children:"1099 Tax Report"}),(0,t.jsx)("p",{className:"text-gray-600 mb-1",children:"Extract data for 1099 tax compliance reporting."}),(0,t.jsx)("p",{className:"text-sm text-blue-600 mb-4",children:"Note: This report is for Calendar Year reporting purposes."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Tax Year"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"2026"}),(0,t.jsx)("option",{children:"2025"}),(0,t.jsx)("option",{children:"2024"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Threshold Amount"}),(0,t.jsx)("input",{type:"number",placeholder:"$600",className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[(0,t.jsx)(e2.Z,{size:16}),"Generate 1099 Extract"]})]})});case"reports-reconciliation":return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-xl mb-4",children:"Reconciliation Report"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Study to Accounting alignment for expenses and accounting records."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Study"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"All Studies"}),(0,t.jsx)("option",{children:"CHS-2026-001"}),(0,t.jsx)("option",{children:"NDR-2025-042"}),(0,t.jsx)("option",{children:"DPT-2025-019"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Accounting Period"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"Current Month"}),(0,t.jsx)("option",{children:"Last Month"}),(0,t.jsx)("option",{children:"Current Quarter"}),(0,t.jsx)("option",{children:"Last Quarter"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Fiscal Year"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"FY 2026"}),(0,t.jsx)("option",{children:"FY 2025"}),(0,t.jsx)("option",{children:"FY 2024"}),(0,t.jsx)("option",{children:"FY 2023"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Fiscal Month"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"All"}),(0,t.jsx)("option",{children:"July"}),(0,t.jsx)("option",{children:"August"}),(0,t.jsx)("option",{children:"September"}),(0,t.jsx)("option",{children:"October"}),(0,t.jsx)("option",{children:"November"}),(0,t.jsx)("option",{children:"December"}),(0,t.jsx)("option",{children:"January"}),(0,t.jsx)("option",{children:"February"}),(0,t.jsx)("option",{children:"March"}),(0,t.jsx)("option",{children:"April"}),(0,t.jsx)("option",{children:"May"}),(0,t.jsx)("option",{children:"June"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm text-gray-700 mb-2",children:"Status"}),(0,t.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{children:"All"}),(0,t.jsx)("option",{children:"Reconciled"}),(0,t.jsx)("option",{children:"Pending"}),(0,t.jsx)("option",{children:"Discrepancy"})]})]})]}),(0,t.jsxs)("button",{className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700",children:[(0,t.jsx)(e2.Z,{size:16}),"Generate Reconciliation Report"]})]})});default:return(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[(0,t.jsx)("h2",{className:"text-xl mb-4",children:"Reports Overview"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Select a report type from the sidebar to generate financial reports, tax documents, and reconciliation data."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsx)(d.Z,{className:"text-blue-600 mb-3",size:32}),(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Financial Reporting"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Study, participant, itemized and roll-up reports"})]}),(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsx)(S.Z,{className:"text-green-600 mb-3",size:32}),(0,t.jsx)("h3",{className:"text-lg mb-2",children:"1099 Tax Report"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Extract for 1099 tax compliance"})]}),(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsx)(H.Z,{className:"text-purple-600 mb-3",size:32}),(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Reconciliation"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Study to accounting alignment"})]})]})]})})}})()})}var e5=a(55455),e3=a(29374),e4=a(82718),e7=a(89345),e8=a(13041);function e9(){return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-ku-blue rounded-lg shadow-md p-8 text-white",children:[(0,t.jsx)("h1",{className:"text-3xl mb-2",children:"Help & Support"}),(0,t.jsx)("p",{className:"text-blue-100",children:"Find answers, tutorials, and get support for the Participant Payment Portal"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(e5.Z,{className:"text-blue-600",size:24})}),(0,t.jsx)("h3",{className:"text-lg mb-2",children:"User Guide"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Comprehensive documentation on how to use all features of the portal"}),(0,t.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Guide "})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(e3.Z,{className:"text-purple-600",size:24})}),(0,t.jsx)("h3",{className:"text-lg mb-2",children:"Video Tutorials"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Step-by-step video guides for common tasks and workflows"}),(0,t.jsx)("button",{className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"Watch Videos "})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 hover:shadow-lg transition-shadow cursor-pointer",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:(0,t.jsx)(d.Z,{className:"text-green-600",size:24})}),(0,t.jsx)("h3",{className:"text-lg mb-2",children:"FAQs"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:"Frequently asked questions and quick answers to common issues"}),(0,t.jsx)("button",{className:"text-green-600 hover:text-green-800 text-sm font-medium",children:"Browse FAQs "})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-xl",children:"Common Topics"})}),(0,t.jsxs)("div",{className:"divide-y divide-gray-200",children:[(0,t.jsxs)("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"How do I enroll a new participant?"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Learn the step-by-step process for enrolling participants in your studies."})]}),(0,t.jsxs)("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Managing participant payments and reimbursements"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Understand how to process payments, approve requests, and track reimbursements."})]}),(0,t.jsxs)("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Scheduling and managing study visits"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Tips for efficiently scheduling visits and managing your calendar."})]}),(0,t.jsxs)("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Bulk uploading data from Excel files"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"Learn how to use the bulk upload feature for studies, participants, and visits."})]}),(0,t.jsxs)("div",{className:"p-6 hover:bg-gray-50 cursor-pointer",children:[(0,t.jsx)("h3",{className:"font-medium mb-2",children:"Exporting data and generating reports"}),(0,t.jsx)("p",{className:"text-gray-600 text-sm",children:"How to export your data in various formats for analysis and reporting."})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-xl",children:"Contact Support"})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Can't find what you're looking for? Our support team is here to help."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(e4.Z,{className:"text-blue-600",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-1",children:"Live Chat"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Available Mon-Fri, 9am-5pm CST"}),(0,t.jsx)("button",{className:"text-sm text-blue-600 hover:text-blue-800",children:"Start Chat "})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(e7.Z,{className:"text-purple-600",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-1",children:"Email Support"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Response within 24 hours"}),(0,t.jsx)("a",{href:"mailto:support@ppp.kumc.edu",className:"text-sm text-purple-600 hover:text-purple-800",children:"support@ppp.kumc.edu"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,t.jsx)(e8.Z,{className:"text-green-600",size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-medium mb-1",children:"Phone Support"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Mon-Fri, 9am-5pm CST"}),(0,t.jsx)("a",{href:"tel:+1-555-123-4567",className:"text-sm text-green-600 hover:text-green-800",children:"+1 (555) 123-4567"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-xl mb-4",children:"System Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Application Version:"}),(0,t.jsx)("span",{className:"font-medium",children:"2.1.0"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Last Updated:"}),(0,t.jsx)("span",{className:"font-medium",children:"January 5, 2026"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Database Version:"}),(0,t.jsx)("span",{className:"font-medium",children:"1.8.3"})]}),(0,t.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Environment:"}),(0,t.jsx)("span",{className:"font-medium",children:"Production"})]})]})]})]})}function se(){let[e,s]=(0,i.useState)("studies"),[a,r]=(0,i.useState)(!1),[l,n]=(0,i.useState)(!1),d=()=>n(!0);return l?(0,t.jsx)(eu,{onReturnToApp:()=>{n(!1),s("studies")}}):(0,t.jsx)("div",{className:"flex h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,t.jsx)(w,{onNavigate:s,isSidebarCollapsed:a,onToggleSidebar:()=>r(!a)}),(0,t.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,t.jsx)(m,{currentPage:e,onNavigate:s,isCollapsed:a}),(0,t.jsx)("main",{className:"flex-1 overflow-y-auto p-6",children:(()=>{if(e.startsWith("reports"))return(0,t.jsx)(e6,{reportType:e});switch(e){case"dashboard":default:return(0,t.jsx)(V,{});case"studies":return(0,t.jsx)(et,{});case"funding":return(0,t.jsx)(ec,{});case"organizations":return(0,t.jsx)(ex,{});case"security":return(0,t.jsx)(eb,{});case"participants":return(0,t.jsx)(ed,{});case"payments":return(0,t.jsx)(ek,{});case"payments-wizard":return(0,t.jsx)(e0,{onBack:()=>s("payments")});case"completed-payments":return(0,t.jsx)(e1,{});case"help":return(0,t.jsx)(e9,{});case"sso":return d(),null}})()})]})]})})}}},function(e){e.O(0,[438,718,971,117,744],function(){return e(e.s=93807)}),_N_E=e.O()}]);